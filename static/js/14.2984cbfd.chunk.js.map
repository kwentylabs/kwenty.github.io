{"version":3,"sources":["../node_modules/react-bootstrap/esm/Row.js","../node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/chart.js/dist/chunks/helpers.segment.js","../node_modules/chart.js/dist/chart.esm.js","../node_modules/chart.js/auto/auto.esm.js","../../node_modules/@swc/helpers/src/_define_property.js","../../node_modules/@swc/helpers/src/_object_spread.js","../../node_modules/@swc/helpers/src/_object_without_properties.js","../../node_modules/@swc/helpers/src/_object_without_properties_loose.js","../../node_modules/@swc/helpers/src/_sliced_to_array.js","../../node_modules/@swc/helpers/src/_array_with_holes.js","../../node_modules/@swc/helpers/src/_iterable_to_array.js","../../node_modules/@swc/helpers/src/_non_iterable_rest.js","../../src/utils.ts","../../src/chart.tsx","../../src/typedCharts.tsx"],"names":["Row","React","ref","bsPrefix","className","as","Component","props","decoratedBsPrefix","useBootstrapPrefix","breakpoints","useBootstrapBreakpoints","sizePrefix","classes","forEach","brkPoint","cols","propValue","infix","push","_jsx","classNames","displayName","_createSuper","Derived","hasNativeReflectConstruct","result","Super","NewTarget","this","constructor","Reflect","construct","arguments","apply","_isNativeReflectConstruct","sham","Proxy","Boolean","prototype","valueOf","call","e","_superPropBase","object","property","Object","hasOwnProperty","getPrototypeOf","get","target","receiver","base","desc","getOwnPropertyDescriptor","length","value","requestAnimFrame","window","callback","requestAnimationFrame","throttled","fn","thisArg","updateFn","updateArgs","args","Array","slice","ticking","rest","_toLeftRightCenter","align","_alignStartEnd","start","end","noop","uid","id","isNullOrUndef","isArray","type","toString","substr","isObject","isNumberFinite","Number","isFinite","finiteOrDefault","defaultValue","valueOrDefault","toDimension","dimension","endsWith","parseFloat","each","loopable","reverse","i","len","keys","_elementsEqual","a0","a1","ilen","v0","v1","datasetIndex","index","clone$1","source","map","create","klen","k","isValidKey","key","indexOf","_merger","options","tval","sval","merge","sources","merger","mergeIf","_mergerIf","indexOfDotOrLength","idx","resolveObjectKey","obj","pos","_capitalize","str","charAt","toUpperCase","defined","isFunction","PI","Math","TAU","PITAU","INFINITY","POSITIVE_INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","sign","niceNum","range","roundedRange","round","almostEquals","niceRange","pow","floor","fraction","isNumber","n","isNaN","x","y","epsilon","abs","_setMinAndMaxByKey","array","min","max","toRadians","degrees","toDegrees","radians","_decimalPlaces","p","distanceBetweenPoints","pt1","pt2","sqrt","_angleDiff","a","b","_normalizeAngle","_angleBetween","angle","sameAngleIsFullCircle","s","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","atEdge","t","elasticIn","sin","elasticOut","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","m","d","easeInOutBounce","A","B","C","D","E","F","c","f","hex","h1","h2","eq","hexString","v","r","g","isShort","lim","l","h","p2b","n2b","b2n","n2p","RGB_RE","HUE_RE","hsl2rgbn","hsv2rgbn","hwb2rgbn","w","rgb","rgb2hsl","calln","hsl2rgb","hue","hueParse","exec","p1","p2","hwb2rgb","hsv2rgb","names$1","map$1","Z","Y","X","W","V","U","T","S","R","Q","P","O","N","M","L","K","G","H","I","J","names","OiceXe","antiquewEte","aqua","aquamarRe","azuY","beige","bisque","black","blanKedOmond","Xe","XeviTet","bPwn","burlywood","caMtXe","KartYuse","KocTate","cSO","cSnflowerXe","cSnsilk","crimson","cyan","xXe","xcyan","xgTMnPd","xWay","xgYF","xgYy","xkhaki","xmagFta","xTivegYF","xSange","xScEd","xYd","xsOmon","xsHgYF","xUXe","xUWay","xUgYy","xQe","xviTet","dAppRk","dApskyXe","dimWay","dimgYy","dodgerXe","fiYbrick","flSOwEte","foYstWAn","fuKsia","gaRsbSo","ghostwEte","gTd","gTMnPd","Way","gYF","gYFLw","gYy","honeyMw","hotpRk","RdianYd","Rdigo","ivSy","khaki","lavFMr","lavFMrXsh","lawngYF","NmoncEffon","ZXe","ZcSO","Zcyan","ZgTMnPdLw","ZWay","ZgYF","ZgYy","ZpRk","ZsOmon","ZsHgYF","ZskyXe","ZUWay","ZUgYy","ZstAlXe","ZLw","lime","limegYF","lRF","magFta","maPon","VaquamarRe","VXe","VScEd","VpurpN","VsHgYF","VUXe","VsprRggYF","VQe","VviTetYd","midnightXe","mRtcYam","mistyPse","moccasR","navajowEte","navy","Tdlace","Tive","TivedBb","Sange","SangeYd","ScEd","pOegTMnPd","pOegYF","pOeQe","pOeviTetYd","papayawEp","pHKpuff","peru","pRk","plum","powMrXe","purpN","YbeccapurpN","Yd","Psybrown","PyOXe","saddNbPwn","sOmon","sandybPwn","sHgYF","sHshell","siFna","silver","skyXe","UXe","UWay","UgYy","snow","sprRggYF","stAlXe","tan","teO","tEstN","tomato","Qe","viTet","JHt","wEte","wEtesmoke","Lw","LwgYF","nameParse","j","ok","nk","unpacked","tkeys","replace","parseInt","unpack","transparent","toLowerCase","modHSL","ratio","tmp","clone","proto","assign","fromObject","input","functionParse","rgbParse","Color","ret","hexParse","_rgb","_valid","hslString","color","weight","me","w2","c1","c2","w1","val","deg","rotate","index_esm","isPatternOrGradient","CanvasGradient","CanvasPattern","getHoverColor","saturate","darken","overrides","descriptors","getScope$1","node","split","set","root","scope","values","defaults","_descriptors","animation","undefined","backgroundColor","borderColor","datasets","devicePixelRatio","context","chart","platform","getDevicePixelRatio","elements","events","font","family","size","style","lineHeight","hover","hoverBackgroundColor","ctx","hoverBorderColor","hoverColor","indexAxis","interaction","mode","intersect","maintainAspectRatio","onHover","onClick","parsing","plugins","responsive","scale","scales","showLine","describe","name","targetScope","targetName","scopeObject","targetScopeObject","privateName","defineProperties","writable","enumerable","local","_scriptable","startsWith","_indexable","_fallback","_measureText","data","gc","longest","string","textWidth","measureText","width","_longestText","arrayOfThings","cache","garbageCollect","save","jlen","thing","nestedThing","restore","gcLen","splice","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","clearCanvas","canvas","getContext","resetTransform","clearRect","height","drawPoint","xOffset","yOffset","cornerRadius","pointStyle","rotation","radius","rad","translate","drawImage","beginPath","arc","closePath","moveTo","lineTo","SQRT1_2","rect","fill","borderWidth","stroke","_isPointInArea","point","area","margin","left","right","top","bottom","clipArea","clip","unclipArea","_steppedLineTo","previous","flip","midpoint","_bezierCurveTo","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","renderText","text","line","opts","lines","strokeWidth","strokeColor","setRenderOpts","strokeStyle","lineWidth","strokeText","maxWidth","fillText","decorateText","translation","fillStyle","textAlign","textBaseline","strikethrough","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","decorationWidth","addRoundedRectPath","topLeft","bottomLeft","bottomRight","topRight","LINE_HEIGHT","RegExp","FONT_STYLE","toLineHeight","matches","match","_readValueToProps","objProps","read","prop","toTRBL","toTRBLCorners","toPadding","toFont","fallback","console","warn","toFontString","resolve","inputs","info","cacheable","createContext","parentContext","_lookup","table","cmp","mid","hi","lo","_lookupByKey","_rlookupByKey","arrayEvents","unlistenArrayEvents","listener","stub","_chartjs","listeners","_arrayUnique","items","Set","add","from","_createResolver","scopes","prefixes","rootScopes","getTarget","_resolve","Symbol","toStringTag","deleteProperty","_keys","_cached","_resolveWithPrefixes","_scopes","has","getKeysFromAllScopes","includes","ownKeys","_storage","_attachContext","proxy","subProxy","descriptorDefaults","_cacheable","_proxy","_context","_subProxy","_stack","setContext","override","isScriptable","Error","join","delete","createSubResolver","_resolveScriptable","isIndexable","arr","filter","resolver","_resolveArray","needsSubResolver","_resolveWithContext","allKeys","configurable","scriptable","indexable","_allKeys","readKey","prefix","resolveFallback","getScope","parent","addScopes","parentScopes","parentFallback","_rootScopes","allScopes","addScopesFromKey","_getTarget","subGetTarget","resolveKeysFromAllScopes","EPSILON","getPoint","points","skip","getValueAxis","splineCurve","firstPoint","middlePoint","afterPoint","current","next","d01","d12","s01","s12","fa","fb","monotoneAdjust","deltaK","mK","alphaK","betaK","tauK","squaredMagnitude","pointCurrent","pointsLen","pointAfter","monotoneCompute","delta","pointBefore","valueAxis","iPixel","vPixel","capControlPoint","pt","_updateBezierControlPoints","loop","controlPoints","spanGaps","cubicInterpolationMode","slopeDelta","splineCurveMonotone","prev","tension","capBezierPoints","inArea","inAreaPrev","inAreaNext","_isDomSupported","document","_getParentNode","domNode","parentNode","host","parseMaxStyle","styleValue","parentProperty","valueInPixels","getComputedStyle","element","positions","getPositionedStyle","styles","suffix","getRelativePosition","evt","borderBox","boxSizing","paddings","borders","native","touches","offsetX","offsetY","box","shadowRoot","useOffsetPos","getBoundingClientRect","clientX","clientY","getCanvasPosition","round1","getMaximumSize","bbWidth","bbHeight","aspectRatio","margins","maxHeight","containerSize","container","containerStyle","containerBorder","containerPadding","clientWidth","clientHeight","getContainerSize","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","setTransform","supportsEventListenerOptions","passiveSupported","passive","addEventListener","removeEventListener","readUsedSize","el","getPropertyValue","getStyle","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","intlCache","Map","formatNumber","num","locale","cacheKey","JSON","stringify","formatter","Intl","NumberFormat","getNumberFormat","format","getRtlAdapter","rtl","rectX","setWidth","xPlus","leftForLtr","itemWidth","getRightToLeftAdapter","_itemWidth","overrideTextDirection","direction","original","getPropertyPriority","setProperty","prevTextDirection","restoreTextDirection","propertyFn","between","compare","normalize","normalizeSegment","count","_boundSegment","segment","bounds","prevValue","startBound","endBound","getSegment","inside","subStart","shouldStart","shouldStop","_boundSegments","segments","sub","splitByStyles","segmentOptions","chartContext","_chart","baseStyle","readStyle","_datasetIndex","prevStyle","addStyle","st","dir","styleChanged","p0","p0DataIndex","p1DataIndex","doSplitByStyles","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","Animator","_request","_charts","_running","_lastDate","anims","date","callbacks","numSteps","duration","initial","currentStep","_update","_refresh","Date","now","remaining","running","item","draw","_active","_total","tick","pop","_notify","charts","complete","progress","event","cb","_getAnims","reduce","acc","cur","_duration","cancel","animator","interpolators","boolean","to","factor","c0","valid","mix","number","Animation","cfg","currentValue","_fn","_easing","easing","_start","delay","_loop","_target","_prop","_from","_to","_promises","elapsed","remain","promises","Promise","res","rej","resolved","method","animationOptions","colors","properties","numbers","active","resize","show","animations","visible","hide","Animations","config","_properties","configure","animatedProps","getOwnPropertyNames","option","newOptions","$shared","$animations","resolveTargetOptions","_createAnimations","anim","wait","all","awaitAll","then","update","_animateOptions","scaleClip","allowedOverflow","getSortedDatasetIndices","filterVisible","metasets","_getSortedDatasetMetas","applyStack","stack","dsIndex","otherValue","singleMode","isStacked","meta","stacked","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","vScale","positive","getMatchingVisibleMetas","updateStacks","controller","parsed","_cachedMeta","_stacks","iScale","iAxis","axis","vAxis","indexScale","valueScale","getStackKey","_top","_bottom","getFirstScaleId","shift","clearStacks","_parsed","isDirectUpdateMode","cloneIfNotShared","cached","shared","DatasetController","_ctx","_cachedDataOpts","getMeta","_type","_parsing","_data","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","$context","_syncList","initialize","linkScales","_stacked","addElements","dataset","getDataset","chooseId","xid","xAxisID","yid","yAxisID","rid","rAxisID","iid","iAxisID","vid","vAxisID","xScale","getScaleForId","yScale","rScale","getDatasetMeta","scaleID","adata","convertObjectDataToArray","isExtensible","defineProperty","_dataCheck","datasetElementType","resetNewElements","stackChanged","oldStacked","_resyncElements","scopeKeys","datasetScopeKeys","getOptionScopes","createResolver","sorted","_sorted","parseArrayData","parseObjectData","parsePrimitiveData","labels","getLabels","singleScale","parse","xAxisKey","yAxisKey","parsedValue","NaN","canStack","otherScale","_getOtherScale","hidden","createStack","NEGATIVE_INFINITY","getUserBounds","minDefined","maxDefined","otherMin","otherMax","_skip","updateRangeFromParsed","getParsed","label","getLabelForValue","_clip","disabled","toClip","defaultClip","getMaxOverflow","chartArea","resolveDatasetElementOptions","resolveDataElementOptions","dataIndex","raw","createDataContext","createDatasetContext","_resolveElementOptions","dataElementType","elementType","sharing","datasetElementScopeKeys","resolveNamedOptions","freeze","transition","datasetAnimationScopeKeys","sharedOptions","_animationsDisabled","_resolveAnimations","getSharedOptions","_setStyle","arg1","arg2","numMeta","numData","_insertElements","_removeElements","move","updateElements","removed","_sync","computeMinSampleSize","curr","_cache","$bar","visibleMetas","concat","getAllParsedValues","sort","getAllScaleValues","_length","updateMinAndPrev","getPixelForValue","ticks","getPixelForTick","parseValue","entry","startValue","endValue","barStart","barEnd","_custom","parseFloatBar","parseArrayOrPrimitive","isFloatBar","custom","setBorderSkipped","edge","borderSkipped","horizontal","borderProps","enableBorderRadius","parseEdge","orig","v2","startEnd","setInflateAmount","inflateAmount","BarController","iAxisKey","vAxisKey","bars","reset","getBasePixel","isHorizontal","ruler","_getRuler","firstOpts","includeOptions","updateSharedOptions","vpixels","head","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","center","updateElement","last","grouped","_getStacks","pixels","barThickness","_startPixel","_endPixel","stackCount","_getStackCount","categoryPercentage","barPercentage","baseValue","minBarLength","actualBase","floating","getDataVisibility","barSign","halfGrid","getLineWidthForValue","skipNull","maxBarThickness","Infinity","percent","chunk","computeFlexCategoryTraits","thickness","computeFitCategoryTraits","stackIndex","_getStackIndex","rects","_index_","offset","grid","_value_","beginAtZero","BubbleController","getPixelForDecimal","tooltip","title","DoughnutController","innerRadius","outerRadius","getter","circumference","isDatasetVisible","_getRotation","_getCircumference","arcs","spacing","getMaxBorderWidth","getMaxOffset","maxSize","cutout","chartWeight","_getRingWeight","_getRotationExtents","ratioX","ratioY","startAngle","endAngle","startX","startY","endX","endY","calcMax","calcMin","maxX","maxY","minX","minY","getRatioAndOffset","maxRadius","radiusLength","_getVisibleDatasetWeightTotal","total","calculateTotal","_getRingWeightOffset","animateRotate","calculateCircumference","animationOpts","centerX","centerY","animateScale","_circumference","metaData","borderAlign","hoverBorderWidth","hoverOffset","ringWeightOffset","legend","generateLabels","legendItem","toggleDataVisibility","tooltipItem","dataLabel","formattedValue","LineController","_dataset","animationsDisabled","pointCount","getStartAndCountOfVisiblePoints","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","scaleRangesChanged","_decimated","animated","maxGapLength","directUpdate","prevParsed","nullData","stop","border","lastPoint","updateControlPoints","PolarAreaController","_updateRadius","minSize","cutoutPercentage","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getIndexAngle","defaultAngle","countVisibleElements","_computeAngle","getDistanceFromCenterForValue","angleLines","display","circular","pointLabels","PieController","RadarController","_fullLoop","pointPosition","getPointPositionForValue","ScatterController","controllers","__proto__","abstract","DateAdapter","timestamp","amount","unit","weekday","members","adapters","_date","getRelativePosition$1","binarySearch","metaset","lookupMethod","_reversePixels","getRange","optimizedEvaluateItems","position","handler","getSortedVisibleDatasetMetas","getIntersectItems","useFinalPosition","_minPadding","inRange","getNearestItems","distanceMetric","useX","useY","deltaX","deltaY","getDistanceMetricForAxis","minDistance","getCenterPoint","distance","getAxisItems","rangeMethod","intersectsItem","evaluateAllVisibleItems","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","setLayoutDims","layouts","params","layout","wrap","stackWeight","placed","buildStacks","vBoxMaxWidth","hBoxMaxHeight","fullSize","availableWidth","availableHeight","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","getPadding","newWidth","outerWidth","newHeight","outerHeight","widthChanged","heightChanged","same","other","getMargins","marginForPositions","fitBoxes","boxes","refit","refitBoxes","setBoxDims","placeBoxes","userPadding","padding","autoPadding","_layers","z","layoutItem","minPadding","layoutBoxes","wrapBoxes","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","buildLayoutBoxes","verticalBoxes","horizontalBoxes","beforeLayout","visibleVerticalBoxCount","updatePos","change","handleMaxPadding","BasePlatform","BasicPlatform","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","eventListenerOptions","removeListener","createAttachObserver","observer","MutationObserver","entries","addedNodes","contains","observe","childList","subtree","createDetachObserver","removedNodes","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","createResizeObserver","ResizeObserver","contentRect","listenDevicePixelRatioChanges","releaseObserver","disconnect","unlistenDevicePixelRatioChanges","createProxyAndListen","fromNativeEvent","addListener","DomPlatform","renderHeight","getAttribute","renderWidth","displayWidth","displayHeight","initCanvas","removeAttribute","setAttribute","proxies","$proxies","attach","detach","isConnected","Element","getProps","final","defaultRoutes","formatters","numeric","tickValue","notation","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","Ticks","autoSkip","tickOpts","ticksLimit","maxTicksLimit","tickLength","_tickSize","maxScale","maxChart","_maxLength","determineMaxTicks","majorIndices","major","enabled","getMajorIndices","numMajorIndices","first","newTicks","ceil","skipMajors","evenMajorSpacing","diff","getEvenSpacing","factors","_factorize","calculateSpacing","avgMajorSpacing","majorStart","majorEnd","grace","drawBorder","drawOnChartArea","drawTicks","tickWidth","tickColor","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkipPadding","labelOffset","minor","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","route","offsetFromEdge","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","lineValue","getTickMarkLength","getTitleHeight","titleAlign","reverseAlign","Scale","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_longestTextCache","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","suggestedMin","suggestedMax","metas","getMinMax","xLabels","yLabels","beforeUpdate","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","minmax","keepZero","_addGrace","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","beforeFit","fit","afterFit","afterUpdate","startPixel","endPixel","reversePixels","_alignToPixels","alignToPixels","notifyPlugins","_callHooks","beforeTickToLabelConversion","afterTickToLabelConversion","maxLabelDiagonal","numTicks","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","asin","titleOpts","gridOpts","titleHeight","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","isRotated","labelsBelowTicks","offsetLeft","offsetRight","generateTickLabels","_computeLabelSizes","tickFont","fontString","nestedLabel","caches","widths","heights","widestLabelSize","highestLabelSize","_resolveTickFontOptions","valueAt","decimal","getBaseValue","createTickContext","optionTicks","rot","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","ticksLength","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","positionAxisID","limit","step","optsAtIndex","lineColor","tickBorderDash","tickBorderDashOffset","lineCount","textOffset","tickAndPadding","hTickAndPadding","_getXAxisLabelAlignment","_getYAxisLabelAlignment","halfCount","backdrop","labelPadding","fillRect","findIndex","_computeGridLineItems","drawLine","setLineDash","lineDashOffset","lastLineWidth","_computeLabelArea","_computeLabelItems","titleX","titleY","titleArgs","drawBackground","drawGrid","drawTitle","drawLabels","tz","gz","axisID","fontSize","TypedRegistry","isPrototypeOf","parentScope","isIChartComponent","register","itemDefaults","routes","propertyParts","sourceName","sourceScope","parts","routeDefaults","registerDefaults","Registry","_typedRegistries","_each","_get","typedRegistry","arg","reg","_getRegistryForType","isForType","_exec","itemReg","registry","component","camelMethod","PluginService","_init","hook","_createDescriptors","descriptor","plugin","cancelable","_oldCache","_notifyStateChanges","getPlugin","allPlugins","getOpts","pluginOpts","createDescriptors","previousDescriptors","some","pluginScopeKeys","getIndexAxis","datasetDefaults","determineAxis","scaleOptions","initOptions","chartDefaults","configScales","chartIndexAxis","firstIDs","scaleConf","error","defaultId","getDefaultScaleIDFromAxis","defaultScaleOptions","defaultID","getAxisFromDefaultScaleID","mergeScaleConfig","initData","keyCache","keysCached","cachedKeys","generate","addIfFound","Config","_config","initConfig","_scopeCache","_resolverCache","clearCache","clear","datasetType","additionalOptionScopes","mainScope","resetCache","keyLists","_cachedScopes","getResolver","subPrefixes","needContext","subResolver","resolverCache","hasFunction","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onComplete","onAnimationProgress","onProgress","getCanvas","getElementById","instances","getChart","Chart","userConfig","initialCanvas","existingChart","chartOptionScopes","OffscreenCanvas","_detectPlatform","updateConfig","acquireContext","_options","_aspectRatio","_metasets","_lastEvent","_listeners","_responsiveListeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","timeout","clearTimeout","setTimeout","debounce","resizeDelay","listen","_initialize","bindEvents","_resizeBeforeDraw","_resize","newSize","newRatio","onResize","render","axisOptions","scaleOpts","updated","isRadial","dposition","dtype","scaleType","getScale","init","hasUpdated","_destroyDatasetMeta","newControllers","_removeUnreferencedMetasets","order","updateIndex","ControllerClass","getController","getElement","_updateMetasets","_resetElements","animsDisabled","ensureScalesHaveIDs","buildOrUpdateScales","setsEqual","unbindEvents","invalidate","buildOrUpdateControllers","buildOrUpdateElements","_updateLayout","_updateDatasets","_eventHandler","noArea","_idx","_updateDataset","layers","_drawDatasets","_drawDataset","useClip","setDatasetVisibility","_updateVisibility","_destroy","remove","_stop","releaseContext","toDataURL","bindUserEvents","bindResponsiveEvents","_add","detached","_remove","isAttached","activeElements","lastActive","_updateHoverStyles","notify","replay","hoverOptions","deactivated","activated","updateHoverStyle","eventFilter","_handleEvent","lastEvent","getElementsAtEventForMode","invalidatePlugins","clipArc","pixelMargin","angleMargin","parseBorderRadius$1","angleDelta","o","borderRadius","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","outerStart","outerEnd","innerStart","innerEnd","rThetaToXY","theta","pathArc","innerR","spacingOffset","alpha","avNogSpacingRadius","angleOffset","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","pCenter","p4","p8","inner","lineJoin","fullCircles","drawFullCircleBorders","version","unregister","ArcElement","chartX","chartY","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","atan2","getAngleFromPoint","rAdjust","halfAngle","halfRadius","radiusOffset","drawArc","setStyle","lineCap","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","stepped","getLineMethod","fastPathSegment","prevX","lastY","avgX","countX","pointIndex","drawX","truncX","_getSegmentMethod","usePath2D","Path2D","path","_path","strokePathWithCache","segmentMethod","strokePathDirect","LineElement","_points","_segments","_pointsUpdated","findStartAndEnd","solidSegments","_computeSegments","_interpolate","_getInterpolationMethod","interpolated","inRange$1","hitRadius","PointElement","mouseX","mouseY","hoverRadius","getBarBounds","bar","half","skipOrLimit","boundingRects","maxW","maxH","parseBorderWidth","maxR","enableBorder","parseBorderRadius","outer","skipX","skipY","addNormalRectPath","inflateRect","refRect","BarElement","addRectPath","cleanDecimatedDataset","cleanDecimatedData","plugin_decimation","algorithm","beforeElementsUpdate","xAxis","getStartAndCountOfVisiblePointsSimplified","threshold","decimated","samples","maxAreaPoint","maxArea","nextA","bucketWidth","sampledIndex","endIndex","avgY","avgRangeStart","avgRangeEnd","avgRangeLength","rangeOffs","rangeTo","pointAx","pointAy","lttbDecimation","minIndex","maxIndex","startIndex","xMin","dx","lastIndex","intermediateIndex1","intermediateIndex2","minMaxDecimation","destroy","decodeFill","fillOption","parseFillOption","simpleArc","computeBoundary","computeCircularBoundary","computeLinearBoundary","findSegmentEnd","addPointsBelow","sourcePoint","linesBelow","postponed","findPoint","unshift","interpolate","pointValue","linePoints","firstValue","lastValue","getLineByIndex","sourcePoints","below","getLinesBelow","createBoundaryLine","buildStackLine","boundary","pointsFromSegments","resolveTarget","propagate","visited","clipY","getBounds","_getEdge","clipBounds","interpolatedLineTo","interpolatedPoint","_fill","tpoints","targetSegments","tgt","subBounds","fillSources","fillSource","src","notShape","lineLoop","targetLoop","drawfill","lineOpts","above","doFill","plugin_filler","afterDatasetsUpdate","_args","$filler","beforeDraw","drawTime","beforeDatasetsDraw","beforeDatasetDraw","getBoxSize","labelOpts","boxHeight","boxWidth","usePointStyle","itemHeight","Legend","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","labelFont","_computeTitleHeight","_fitRows","_fitCols","hitboxes","totalHeight","row","heightLimit","totalWidth","currentColWidth","currentColHeight","col","rtlHelper","hitbox","_draw","cursor","defaultColor","fontColor","halfFontSize","textDirection","lineDash","drawOptions","SQRT2","yBoxTop","xBoxLeft","drawLegendBox","_textX","titleFont","titlePadding","topPaddingPlusHalfFontSize","hitBox","lh","onLeave","isListened","hoveredItem","_getLegendItemAt","sameItem","plugin_legend","_element","adjustHitBoxes","afterEvent","handleEvent","ci","Title","_padding","textSize","fontOpts","_drawArgs","plugin_title","titleBlock","createTitle","WeakMap","plugin_subtitle","positioners","average","hasValue","tooltipPosition","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","String","createTooltipItem","getLabelAndValue","getTooltipSize","body","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","before","after","beforeBody","afterBody","titleSpacing","titleMarginBottom","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineXAlign","yAlign","chartWidth","xAlign","caret","caretSize","caretPadding","doesNotFitWithAlign","determineAlignment","determineYAlign","getBackgroundPoint","alignment","paddingAndSize","alignX","alignY","getAlignedX","getBeforeAfterBodyLines","overrideCallbacks","Tooltip","opacity","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","tooltipItems","beforeTitle","afterTitle","bodyItems","scoped","beforeLabel","afterLabel","beforeFooter","afterFooter","itemSort","labelColor","labelPointStyle","labelTextColor","_createItems","getTitle","getBeforeBody","getBody","getAfterBody","getFooter","positionAndSize","backgroundPoint","external","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","titleColor","colorX","rtlColorX","yOffSet","colorY","multiKeyBackground","outerX","innerX","strokeRect","textColor","bodyAlign","bodyLineHeight","xLinePadding","fillLineOfText","bodyAlignForCalculation","bodyColor","_drawColorBox","footerAlign","footerColor","tooltipSize","drawCaret","quadraticCurveTo","animX","animY","_updateAnimationTarget","hasTooltipContent","globalAlpha","drawBody","drawFooter","positionChanged","_positionChanged","plugin_tooltip","afterInit","afterDraw","labelCount","Decimation","Filler","SubTitle","findOrAddLabel","addIfString","lastIndexOf","CategoryScale","_startValue","_valueRange","getDecimalForPixel","generateTicks$1","generationOptions","dataRange","niceMin","niceMax","numSpaces","precision","maxTicks","maxDigits","includeBounds","maxSpaces","rmin","rmax","countDefined","minSpacing","rounded","almostWhole","decimalPlaces","relativeLabelSize","LinearScaleBase","_endValue","setMin","setMax","minSign","maxSign","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","stepSize","computeTickLimit","getTickLimit","_maxDigits","LinearScale","handleTickRangeOptions","isMajor","tickVal","LogarithmicScale","_zero","exp","endExp","endSignificand","significand","lastTick","generateTicks","getTickBackdropHeight","determineLimits","fitWithPointLabels","furthestLimits","furthestAngles","valueCount","getPointLabelContext","getPointPosition","drawingArea","plFont","_pointLabels","hLimits","vLimits","_setReductions","_pointLabelItems","tickBackdropHeight","outerDistance","extra","pointLabelPosition","yForAngle","getTextAlignForAngle","leftForTextAlign","buildPointLabelItems","pathRadiusLine","numberOrZero","param","RadialLinearScale","setCenterPoint","largestPossibleRadius","radiusReductionLeft","radiusReductionRight","radiusReductionTop","radiusReductionBottom","leftMovement","rightMovement","topMovement","bottomMovement","maxRight","maxLeft","maxTop","maxBottom","scalingFactor","scaledDistance","pointLabel","createPointLabelContext","distanceFromCenter","drawPointLabels","gridLineOpts","drawRadiusLine","animate","INTERVALS","millisecond","common","steps","second","minute","hour","day","week","month","quarter","year","UNITS","sorter","adapter","_adapter","_parseOpts","parser","isoWeekday","startOf","determineUnitForAutoTicks","minUnit","capacity","interval","addTick","time","timestamps","ticksFromTimestamps","majorUnit","setMajorTicks","TimeScale","_unit","_majorUnit","_offsets","_normalized","displayFormats","formats","normalized","_applyBounds","_getLabelBounds","endOf","getLabelTimestamps","timeOpts","_generate","_filterBetween","_getLabelCapacity","determineUnitForFormatting","determineMajorUnit","initOffsets","getDecimalForValue","hasWeekday","getDataTimestamps","tooltipFormat","datetime","minorFormat","majorFormat","_tickFormatFunction","offsets","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","_getLabelSize","prevSource","nextSource","prevTarget","nextTarget","span","TimeSeriesScale","_table","_minPos","_tableRange","_getTimestampsForTable","buildLookupTable","registerables","_defineProperty","_objectSpread","getOwnPropertySymbols","sym","_objectWithoutProperties","excluded","sourceKeys","objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","_slicedToArray","arrayWithHoles","iter","iterator","iterableToArrayLimit","TypeError","nonIterableRest","reforwardRef","setLabels","currentData","nextLabels","setDatasets","nextDatasets","nextDataset","currentDataset","find","cloneData","nextData","noopData","ChartComponent","redraw","dataProp","getDatasetAtEvent","getElementAtEvent","getElementsAtEvent","fallbackContent","onClickProp","canvasRef","useRef","chartRef","useState","computedData","setComputedData","renderChart","ChartJS","destroyChart","useEffect","nextOptions","role","nativeEvent","forwardRef","createTypedChart","Line","Bar","Radar","Doughnut","PolarArea","Bubble"],"mappings":"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","file":"static/js/14.2984cbfd.chunk.js","sourcesContent":["import classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix, useBootstrapBreakpoints } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst Row = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'div',\n  ...props\n}, ref) => {\n  const decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'row');\n  const breakpoints = useBootstrapBreakpoints();\n  const sizePrefix = `${decoratedBsPrefix}-cols`;\n  const classes = [];\n  breakpoints.forEach(brkPoint => {\n    const propValue = props[brkPoint];\n    delete props[brkPoint];\n    let cols;\n\n    if (propValue != null && typeof propValue === 'object') {\n      ({\n        cols\n      } = propValue);\n    } else {\n      cols = propValue;\n    }\n\n    const infix = brkPoint !== 'xs' ? `-${brkPoint}` : '';\n    if (cols != null) classes.push(`${sizePrefix}${infix}-${cols}`);\n  });\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    className: classNames(className, decoratedBsPrefix, ...classes)\n  });\n});\nRow.displayName = 'Row';\nexport default Row;","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}","/*!\n * Chart.js v3.6.0\n * https://www.chartjs.org\n * (c) 2021 Chart.js Contributors\n * Released under the MIT License\n */\nfunction fontString(pixelSize, fontStyle, fontFamily) {\n  return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\nconst requestAnimFrame = (function() {\n  if (typeof window === 'undefined') {\n    return function(callback) {\n      return callback();\n    };\n  }\n  return window.requestAnimationFrame;\n}());\nfunction throttled(fn, thisArg, updateFn) {\n  const updateArgs = updateFn || ((args) => Array.prototype.slice.call(args));\n  let ticking = false;\n  let args = [];\n  return function(...rest) {\n    args = updateArgs(rest);\n    if (!ticking) {\n      ticking = true;\n      requestAnimFrame.call(window, () => {\n        ticking = false;\n        fn.apply(thisArg, args);\n      });\n    }\n  };\n}\nfunction debounce(fn, delay) {\n  let timeout;\n  return function(...args) {\n    if (delay) {\n      clearTimeout(timeout);\n      timeout = setTimeout(fn, delay, args);\n    } else {\n      fn.apply(this, args);\n    }\n    return delay;\n  };\n}\nconst _toLeftRightCenter = (align) => align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\nconst _alignStartEnd = (align, start, end) => align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\nconst _textX = (align, left, right, rtl) => {\n  const check = rtl ? 'left' : 'right';\n  return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n\nfunction noop() {}\nconst uid = (function() {\n  let id = 0;\n  return function() {\n    return id++;\n  };\n}());\nfunction isNullOrUndef(value) {\n  return value === null || typeof value === 'undefined';\n}\nfunction isArray(value) {\n  if (Array.isArray && Array.isArray(value)) {\n    return true;\n  }\n  const type = Object.prototype.toString.call(value);\n  if (type.substr(0, 7) === '[object' && type.substr(-6) === 'Array]') {\n    return true;\n  }\n  return false;\n}\nfunction isObject(value) {\n  return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\nconst isNumberFinite = (value) => (typeof value === 'number' || value instanceof Number) && isFinite(+value);\nfunction finiteOrDefault(value, defaultValue) {\n  return isNumberFinite(value) ? value : defaultValue;\n}\nfunction valueOrDefault(value, defaultValue) {\n  return typeof value === 'undefined' ? defaultValue : value;\n}\nconst toPercentage = (value, dimension) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100\n    : value / dimension;\nconst toDimension = (value, dimension) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100 * dimension\n    : +value;\nfunction callback(fn, args, thisArg) {\n  if (fn && typeof fn.call === 'function') {\n    return fn.apply(thisArg, args);\n  }\n}\nfunction each(loopable, fn, thisArg, reverse) {\n  let i, len, keys;\n  if (isArray(loopable)) {\n    len = loopable.length;\n    if (reverse) {\n      for (i = len - 1; i >= 0; i--) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    } else {\n      for (i = 0; i < len; i++) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    }\n  } else if (isObject(loopable)) {\n    keys = Object.keys(loopable);\n    len = keys.length;\n    for (i = 0; i < len; i++) {\n      fn.call(thisArg, loopable[keys[i]], keys[i]);\n    }\n  }\n}\nfunction _elementsEqual(a0, a1) {\n  let i, ilen, v0, v1;\n  if (!a0 || !a1 || a0.length !== a1.length) {\n    return false;\n  }\n  for (i = 0, ilen = a0.length; i < ilen; ++i) {\n    v0 = a0[i];\n    v1 = a1[i];\n    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction clone$1(source) {\n  if (isArray(source)) {\n    return source.map(clone$1);\n  }\n  if (isObject(source)) {\n    const target = Object.create(null);\n    const keys = Object.keys(source);\n    const klen = keys.length;\n    let k = 0;\n    for (; k < klen; ++k) {\n      target[keys[k]] = clone$1(source[keys[k]]);\n    }\n    return target;\n  }\n  return source;\n}\nfunction isValidKey(key) {\n  return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\n}\nfunction _merger(key, target, source, options) {\n  if (!isValidKey(key)) {\n    return;\n  }\n  const tval = target[key];\n  const sval = source[key];\n  if (isObject(tval) && isObject(sval)) {\n    merge(tval, sval, options);\n  } else {\n    target[key] = clone$1(sval);\n  }\n}\nfunction merge(target, source, options) {\n  const sources = isArray(source) ? source : [source];\n  const ilen = sources.length;\n  if (!isObject(target)) {\n    return target;\n  }\n  options = options || {};\n  const merger = options.merger || _merger;\n  for (let i = 0; i < ilen; ++i) {\n    source = sources[i];\n    if (!isObject(source)) {\n      continue;\n    }\n    const keys = Object.keys(source);\n    for (let k = 0, klen = keys.length; k < klen; ++k) {\n      merger(keys[k], target, source, options);\n    }\n  }\n  return target;\n}\nfunction mergeIf(target, source) {\n  return merge(target, source, {merger: _mergerIf});\n}\nfunction _mergerIf(key, target, source) {\n  if (!isValidKey(key)) {\n    return;\n  }\n  const tval = target[key];\n  const sval = source[key];\n  if (isObject(tval) && isObject(sval)) {\n    mergeIf(tval, sval);\n  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n    target[key] = clone$1(sval);\n  }\n}\nfunction _deprecated(scope, value, previous, current) {\n  if (value !== undefined) {\n    console.warn(scope + ': \"' + previous +\n\t\t\t'\" is deprecated. Please use \"' + current + '\" instead');\n  }\n}\nconst emptyString = '';\nconst dot = '.';\nfunction indexOfDotOrLength(key, start) {\n  const idx = key.indexOf(dot, start);\n  return idx === -1 ? key.length : idx;\n}\nfunction resolveObjectKey(obj, key) {\n  if (key === emptyString) {\n    return obj;\n  }\n  let pos = 0;\n  let idx = indexOfDotOrLength(key, pos);\n  while (obj && idx > pos) {\n    obj = obj[key.substr(pos, idx - pos)];\n    pos = idx + 1;\n    idx = indexOfDotOrLength(key, pos);\n  }\n  return obj;\n}\nfunction _capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\nconst defined = (value) => typeof value !== 'undefined';\nconst isFunction = (value) => typeof value === 'function';\nconst setsEqual = (a, b) => {\n  if (a.size !== b.size) {\n    return false;\n  }\n  for (const item of a) {\n    if (!b.has(item)) {\n      return false;\n    }\n  }\n  return true;\n};\n\nconst PI = Math.PI;\nconst TAU = 2 * PI;\nconst PITAU = TAU + PI;\nconst INFINITY = Number.POSITIVE_INFINITY;\nconst RAD_PER_DEG = PI / 180;\nconst HALF_PI = PI / 2;\nconst QUARTER_PI = PI / 4;\nconst TWO_THIRDS_PI = PI * 2 / 3;\nconst log10 = Math.log10;\nconst sign = Math.sign;\nfunction niceNum(range) {\n  const roundedRange = Math.round(range);\n  range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n  const niceRange = Math.pow(10, Math.floor(log10(range)));\n  const fraction = range / niceRange;\n  const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n  return niceFraction * niceRange;\n}\nfunction _factorize(value) {\n  const result = [];\n  const sqrt = Math.sqrt(value);\n  let i;\n  for (i = 1; i < sqrt; i++) {\n    if (value % i === 0) {\n      result.push(i);\n      result.push(value / i);\n    }\n  }\n  if (sqrt === (sqrt | 0)) {\n    result.push(sqrt);\n  }\n  result.sort((a, b) => a - b).pop();\n  return result;\n}\nfunction isNumber(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\nfunction almostEquals(x, y, epsilon) {\n  return Math.abs(x - y) < epsilon;\n}\nfunction almostWhole(x, epsilon) {\n  const rounded = Math.round(x);\n  return ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\n}\nfunction _setMinAndMaxByKey(array, target, property) {\n  let i, ilen, value;\n  for (i = 0, ilen = array.length; i < ilen; i++) {\n    value = array[i][property];\n    if (!isNaN(value)) {\n      target.min = Math.min(target.min, value);\n      target.max = Math.max(target.max, value);\n    }\n  }\n}\nfunction toRadians(degrees) {\n  return degrees * (PI / 180);\n}\nfunction toDegrees(radians) {\n  return radians * (180 / PI);\n}\nfunction _decimalPlaces(x) {\n  if (!isNumberFinite(x)) {\n    return;\n  }\n  let e = 1;\n  let p = 0;\n  while (Math.round(x * e) / e !== x) {\n    e *= 10;\n    p++;\n  }\n  return p;\n}\nfunction getAngleFromPoint(centrePoint, anglePoint) {\n  const distanceFromXCenter = anglePoint.x - centrePoint.x;\n  const distanceFromYCenter = anglePoint.y - centrePoint.y;\n  const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n  let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n  if (angle < (-0.5 * PI)) {\n    angle += TAU;\n  }\n  return {\n    angle,\n    distance: radialDistanceFromCenter\n  };\n}\nfunction distanceBetweenPoints(pt1, pt2) {\n  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\nfunction _angleDiff(a, b) {\n  return (a - b + PITAU) % TAU - PI;\n}\nfunction _normalizeAngle(a) {\n  return (a % TAU + TAU) % TAU;\n}\nfunction _angleBetween(angle, start, end, sameAngleIsFullCircle) {\n  const a = _normalizeAngle(angle);\n  const s = _normalizeAngle(start);\n  const e = _normalizeAngle(end);\n  const angleToStart = _normalizeAngle(s - a);\n  const angleToEnd = _normalizeAngle(e - a);\n  const startToAngle = _normalizeAngle(a - s);\n  const endToAngle = _normalizeAngle(a - e);\n  return a === s || a === e || (sameAngleIsFullCircle && s === e)\n    || (angleToStart > angleToEnd && startToAngle < endToAngle);\n}\nfunction _limitValue(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n}\nfunction _int16Range(value) {\n  return _limitValue(value, -32768, 32767);\n}\n\nconst atEdge = (t) => t === 0 || t === 1;\nconst elasticIn = (t, s, p) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t, s, p) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\nconst effects = {\n  linear: t => t,\n  easeInQuad: t => t * t,\n  easeOutQuad: t => -t * (t - 2),\n  easeInOutQuad: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t\n    : -0.5 * ((--t) * (t - 2) - 1),\n  easeInCubic: t => t * t * t,\n  easeOutCubic: t => (t -= 1) * t * t + 1,\n  easeInOutCubic: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t\n    : 0.5 * ((t -= 2) * t * t + 2),\n  easeInQuart: t => t * t * t * t,\n  easeOutQuart: t => -((t -= 1) * t * t * t - 1),\n  easeInOutQuart: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t\n    : -0.5 * ((t -= 2) * t * t * t - 2),\n  easeInQuint: t => t * t * t * t * t,\n  easeOutQuint: t => (t -= 1) * t * t * t * t + 1,\n  easeInOutQuint: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t * t\n    : 0.5 * ((t -= 2) * t * t * t * t + 2),\n  easeInSine: t => -Math.cos(t * HALF_PI) + 1,\n  easeOutSine: t => Math.sin(t * HALF_PI),\n  easeInOutSine: t => -0.5 * (Math.cos(PI * t) - 1),\n  easeInExpo: t => (t === 0) ? 0 : Math.pow(2, 10 * (t - 1)),\n  easeOutExpo: t => (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1,\n  easeInOutExpo: t => atEdge(t) ? t : t < 0.5\n    ? 0.5 * Math.pow(2, 10 * (t * 2 - 1))\n    : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n  easeInCirc: t => (t >= 1) ? t : -(Math.sqrt(1 - t * t) - 1),\n  easeOutCirc: t => Math.sqrt(1 - (t -= 1) * t),\n  easeInOutCirc: t => ((t /= 0.5) < 1)\n    ? -0.5 * (Math.sqrt(1 - t * t) - 1)\n    : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n  easeInElastic: t => atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n  easeOutElastic: t => atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n  easeInOutElastic(t) {\n    const s = 0.1125;\n    const p = 0.45;\n    return atEdge(t) ? t :\n      t < 0.5\n        ? 0.5 * elasticIn(t * 2, s, p)\n        : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n  },\n  easeInBack(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n  },\n  easeOutBack(t) {\n    const s = 1.70158;\n    return (t -= 1) * t * ((s + 1) * t + s) + 1;\n  },\n  easeInOutBack(t) {\n    let s = 1.70158;\n    if ((t /= 0.5) < 1) {\n      return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\n    }\n    return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n  },\n  easeInBounce: t => 1 - effects.easeOutBounce(1 - t),\n  easeOutBounce(t) {\n    const m = 7.5625;\n    const d = 2.75;\n    if (t < (1 / d)) {\n      return m * t * t;\n    }\n    if (t < (2 / d)) {\n      return m * (t -= (1.5 / d)) * t + 0.75;\n    }\n    if (t < (2.5 / d)) {\n      return m * (t -= (2.25 / d)) * t + 0.9375;\n    }\n    return m * (t -= (2.625 / d)) * t + 0.984375;\n  },\n  easeInOutBounce: t => (t < 0.5)\n    ? effects.easeInBounce(t * 2) * 0.5\n    : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5,\n};\n\n/*!\n * @kurkle/color v0.1.9\n * https://github.com/kurkle/color#readme\n * (c) 2020 Jukka Kurkela\n * Released under the MIT License\n */\nconst map = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = '0123456789ABCDEF';\nconst h1 = (b) => hex[b & 0xF];\nconst h2 = (b) => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = (b) => (((b & 0xF0) >> 4) === (b & 0xF));\nfunction isShort(v) {\n\treturn eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\n}\nfunction hexParse(str) {\n\tvar len = str.length;\n\tvar ret;\n\tif (str[0] === '#') {\n\t\tif (len === 4 || len === 5) {\n\t\t\tret = {\n\t\t\t\tr: 255 & map[str[1]] * 17,\n\t\t\t\tg: 255 & map[str[2]] * 17,\n\t\t\t\tb: 255 & map[str[3]] * 17,\n\t\t\t\ta: len === 5 ? map[str[4]] * 17 : 255\n\t\t\t};\n\t\t} else if (len === 7 || len === 9) {\n\t\t\tret = {\n\t\t\t\tr: map[str[1]] << 4 | map[str[2]],\n\t\t\t\tg: map[str[3]] << 4 | map[str[4]],\n\t\t\t\tb: map[str[5]] << 4 | map[str[6]],\n\t\t\t\ta: len === 9 ? (map[str[7]] << 4 | map[str[8]]) : 255\n\t\t\t};\n\t\t}\n\t}\n\treturn ret;\n}\nfunction hexString(v) {\n\tvar f = isShort(v) ? h1 : h2;\n\treturn v\n\t\t? '#' + f(v.r) + f(v.g) + f(v.b) + (v.a < 255 ? f(v.a) : '')\n\t\t: v;\n}\nfunction round(v) {\n\treturn v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n\treturn lim(round(v * 2.55), 0, 255);\n}\nfunction n2b(v) {\n\treturn lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n\treturn lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n\treturn lim(round(v * 100), 0, 100);\n}\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n\tconst m = RGB_RE.exec(str);\n\tlet a = 255;\n\tlet r, g, b;\n\tif (!m) {\n\t\treturn;\n\t}\n\tif (m[7] !== r) {\n\t\tconst v = +m[7];\n\t\ta = 255 & (m[8] ? p2b(v) : v * 255);\n\t}\n\tr = +m[1];\n\tg = +m[3];\n\tb = +m[5];\n\tr = 255 & (m[2] ? p2b(r) : r);\n\tg = 255 & (m[4] ? p2b(g) : g);\n\tb = 255 & (m[6] ? p2b(b) : b);\n\treturn {\n\t\tr: r,\n\t\tg: g,\n\t\tb: b,\n\t\ta: a\n\t};\n}\nfunction rgbString(v) {\n\treturn v && (\n\t\tv.a < 255\n\t\t\t? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n\t\t\t: `rgb(${v.r}, ${v.g}, ${v.b})`\n\t);\n}\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n\tconst a = s * Math.min(l, 1 - l);\n\tconst f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n\treturn [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n\tconst f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n\treturn [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n\tconst rgb = hsl2rgbn(h, 1, 0.5);\n\tlet i;\n\tif (w + b > 1) {\n\t\ti = 1 / (w + b);\n\t\tw *= i;\n\t\tb *= i;\n\t}\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] *= 1 - w - b;\n\t\trgb[i] += w;\n\t}\n\treturn rgb;\n}\nfunction rgb2hsl(v) {\n\tconst range = 255;\n\tconst r = v.r / range;\n\tconst g = v.g / range;\n\tconst b = v.b / range;\n\tconst max = Math.max(r, g, b);\n\tconst min = Math.min(r, g, b);\n\tconst l = (max + min) / 2;\n\tlet h, s, d;\n\tif (max !== min) {\n\t\td = max - min;\n\t\ts = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\t\th = max === r\n\t\t\t? ((g - b) / d) + (g < b ? 6 : 0)\n\t\t\t: max === g\n\t\t\t\t? (b - r) / d + 2\n\t\t\t\t: (r - g) / d + 4;\n\t\th = h * 60 + 0.5;\n\t}\n\treturn [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n\treturn (\n\t\tArray.isArray(a)\n\t\t\t? f(a[0], a[1], a[2])\n\t\t\t: f(a, b, c)\n\t).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n\treturn calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n\treturn calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n\treturn calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n\treturn (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n\tconst m = HUE_RE.exec(str);\n\tlet a = 255;\n\tlet v;\n\tif (!m) {\n\t\treturn;\n\t}\n\tif (m[5] !== v) {\n\t\ta = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n\t}\n\tconst h = hue(+m[2]);\n\tconst p1 = +m[3] / 100;\n\tconst p2 = +m[4] / 100;\n\tif (m[1] === 'hwb') {\n\t\tv = hwb2rgb(h, p1, p2);\n\t} else if (m[1] === 'hsv') {\n\t\tv = hsv2rgb(h, p1, p2);\n\t} else {\n\t\tv = hsl2rgb(h, p1, p2);\n\t}\n\treturn {\n\t\tr: v[0],\n\t\tg: v[1],\n\t\tb: v[2],\n\t\ta: a\n\t};\n}\nfunction rotate(v, deg) {\n\tvar h = rgb2hsl(v);\n\th[0] = hue(h[0] + deg);\n\th = hsl2rgb(h);\n\tv.r = h[0];\n\tv.g = h[1];\n\tv.b = h[2];\n}\nfunction hslString(v) {\n\tif (!v) {\n\t\treturn;\n\t}\n\tconst a = rgb2hsl(v);\n\tconst h = a[0];\n\tconst s = n2p(a[1]);\n\tconst l = n2p(a[2]);\n\treturn v.a < 255\n\t\t? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n\t\t: `hsl(${h}, ${s}%, ${l}%)`;\n}\nconst map$1 = {\n\tx: 'dark',\n\tZ: 'light',\n\tY: 're',\n\tX: 'blu',\n\tW: 'gr',\n\tV: 'medium',\n\tU: 'slate',\n\tA: 'ee',\n\tT: 'ol',\n\tS: 'or',\n\tB: 'ra',\n\tC: 'lateg',\n\tD: 'ights',\n\tR: 'in',\n\tQ: 'turquois',\n\tE: 'hi',\n\tP: 'ro',\n\tO: 'al',\n\tN: 'le',\n\tM: 'de',\n\tL: 'yello',\n\tF: 'en',\n\tK: 'ch',\n\tG: 'arks',\n\tH: 'ea',\n\tI: 'ightg',\n\tJ: 'wh'\n};\nconst names = {\n\tOiceXe: 'f0f8ff',\n\tantiquewEte: 'faebd7',\n\taqua: 'ffff',\n\taquamarRe: '7fffd4',\n\tazuY: 'f0ffff',\n\tbeige: 'f5f5dc',\n\tbisque: 'ffe4c4',\n\tblack: '0',\n\tblanKedOmond: 'ffebcd',\n\tXe: 'ff',\n\tXeviTet: '8a2be2',\n\tbPwn: 'a52a2a',\n\tburlywood: 'deb887',\n\tcaMtXe: '5f9ea0',\n\tKartYuse: '7fff00',\n\tKocTate: 'd2691e',\n\tcSO: 'ff7f50',\n\tcSnflowerXe: '6495ed',\n\tcSnsilk: 'fff8dc',\n\tcrimson: 'dc143c',\n\tcyan: 'ffff',\n\txXe: '8b',\n\txcyan: '8b8b',\n\txgTMnPd: 'b8860b',\n\txWay: 'a9a9a9',\n\txgYF: '6400',\n\txgYy: 'a9a9a9',\n\txkhaki: 'bdb76b',\n\txmagFta: '8b008b',\n\txTivegYF: '556b2f',\n\txSange: 'ff8c00',\n\txScEd: '9932cc',\n\txYd: '8b0000',\n\txsOmon: 'e9967a',\n\txsHgYF: '8fbc8f',\n\txUXe: '483d8b',\n\txUWay: '2f4f4f',\n\txUgYy: '2f4f4f',\n\txQe: 'ced1',\n\txviTet: '9400d3',\n\tdAppRk: 'ff1493',\n\tdApskyXe: 'bfff',\n\tdimWay: '696969',\n\tdimgYy: '696969',\n\tdodgerXe: '1e90ff',\n\tfiYbrick: 'b22222',\n\tflSOwEte: 'fffaf0',\n\tfoYstWAn: '228b22',\n\tfuKsia: 'ff00ff',\n\tgaRsbSo: 'dcdcdc',\n\tghostwEte: 'f8f8ff',\n\tgTd: 'ffd700',\n\tgTMnPd: 'daa520',\n\tWay: '808080',\n\tgYF: '8000',\n\tgYFLw: 'adff2f',\n\tgYy: '808080',\n\thoneyMw: 'f0fff0',\n\thotpRk: 'ff69b4',\n\tRdianYd: 'cd5c5c',\n\tRdigo: '4b0082',\n\tivSy: 'fffff0',\n\tkhaki: 'f0e68c',\n\tlavFMr: 'e6e6fa',\n\tlavFMrXsh: 'fff0f5',\n\tlawngYF: '7cfc00',\n\tNmoncEffon: 'fffacd',\n\tZXe: 'add8e6',\n\tZcSO: 'f08080',\n\tZcyan: 'e0ffff',\n\tZgTMnPdLw: 'fafad2',\n\tZWay: 'd3d3d3',\n\tZgYF: '90ee90',\n\tZgYy: 'd3d3d3',\n\tZpRk: 'ffb6c1',\n\tZsOmon: 'ffa07a',\n\tZsHgYF: '20b2aa',\n\tZskyXe: '87cefa',\n\tZUWay: '778899',\n\tZUgYy: '778899',\n\tZstAlXe: 'b0c4de',\n\tZLw: 'ffffe0',\n\tlime: 'ff00',\n\tlimegYF: '32cd32',\n\tlRF: 'faf0e6',\n\tmagFta: 'ff00ff',\n\tmaPon: '800000',\n\tVaquamarRe: '66cdaa',\n\tVXe: 'cd',\n\tVScEd: 'ba55d3',\n\tVpurpN: '9370db',\n\tVsHgYF: '3cb371',\n\tVUXe: '7b68ee',\n\tVsprRggYF: 'fa9a',\n\tVQe: '48d1cc',\n\tVviTetYd: 'c71585',\n\tmidnightXe: '191970',\n\tmRtcYam: 'f5fffa',\n\tmistyPse: 'ffe4e1',\n\tmoccasR: 'ffe4b5',\n\tnavajowEte: 'ffdead',\n\tnavy: '80',\n\tTdlace: 'fdf5e6',\n\tTive: '808000',\n\tTivedBb: '6b8e23',\n\tSange: 'ffa500',\n\tSangeYd: 'ff4500',\n\tScEd: 'da70d6',\n\tpOegTMnPd: 'eee8aa',\n\tpOegYF: '98fb98',\n\tpOeQe: 'afeeee',\n\tpOeviTetYd: 'db7093',\n\tpapayawEp: 'ffefd5',\n\tpHKpuff: 'ffdab9',\n\tperu: 'cd853f',\n\tpRk: 'ffc0cb',\n\tplum: 'dda0dd',\n\tpowMrXe: 'b0e0e6',\n\tpurpN: '800080',\n\tYbeccapurpN: '663399',\n\tYd: 'ff0000',\n\tPsybrown: 'bc8f8f',\n\tPyOXe: '4169e1',\n\tsaddNbPwn: '8b4513',\n\tsOmon: 'fa8072',\n\tsandybPwn: 'f4a460',\n\tsHgYF: '2e8b57',\n\tsHshell: 'fff5ee',\n\tsiFna: 'a0522d',\n\tsilver: 'c0c0c0',\n\tskyXe: '87ceeb',\n\tUXe: '6a5acd',\n\tUWay: '708090',\n\tUgYy: '708090',\n\tsnow: 'fffafa',\n\tsprRggYF: 'ff7f',\n\tstAlXe: '4682b4',\n\ttan: 'd2b48c',\n\tteO: '8080',\n\ttEstN: 'd8bfd8',\n\ttomato: 'ff6347',\n\tQe: '40e0d0',\n\tviTet: 'ee82ee',\n\tJHt: 'f5deb3',\n\twEte: 'ffffff',\n\twEtesmoke: 'f5f5f5',\n\tLw: 'ffff00',\n\tLwgYF: '9acd32'\n};\nfunction unpack() {\n\tconst unpacked = {};\n\tconst keys = Object.keys(names);\n\tconst tkeys = Object.keys(map$1);\n\tlet i, j, k, ok, nk;\n\tfor (i = 0; i < keys.length; i++) {\n\t\tok = nk = keys[i];\n\t\tfor (j = 0; j < tkeys.length; j++) {\n\t\t\tk = tkeys[j];\n\t\t\tnk = nk.replace(k, map$1[k]);\n\t\t}\n\t\tk = parseInt(names[ok], 16);\n\t\tunpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n\t}\n\treturn unpacked;\n}\nlet names$1;\nfunction nameParse(str) {\n\tif (!names$1) {\n\t\tnames$1 = unpack();\n\t\tnames$1.transparent = [0, 0, 0, 0];\n\t}\n\tconst a = names$1[str.toLowerCase()];\n\treturn a && {\n\t\tr: a[0],\n\t\tg: a[1],\n\t\tb: a[2],\n\t\ta: a.length === 4 ? a[3] : 255\n\t};\n}\nfunction modHSL(v, i, ratio) {\n\tif (v) {\n\t\tlet tmp = rgb2hsl(v);\n\t\ttmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n\t\ttmp = hsl2rgb(tmp);\n\t\tv.r = tmp[0];\n\t\tv.g = tmp[1];\n\t\tv.b = tmp[2];\n\t}\n}\nfunction clone(v, proto) {\n\treturn v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n\tvar v = {r: 0, g: 0, b: 0, a: 255};\n\tif (Array.isArray(input)) {\n\t\tif (input.length >= 3) {\n\t\t\tv = {r: input[0], g: input[1], b: input[2], a: 255};\n\t\t\tif (input.length > 3) {\n\t\t\t\tv.a = n2b(input[3]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tv = clone(input, {r: 0, g: 0, b: 0, a: 1});\n\t\tv.a = n2b(v.a);\n\t}\n\treturn v;\n}\nfunction functionParse(str) {\n\tif (str.charAt(0) === 'r') {\n\t\treturn rgbParse(str);\n\t}\n\treturn hueParse(str);\n}\nclass Color {\n\tconstructor(input) {\n\t\tif (input instanceof Color) {\n\t\t\treturn input;\n\t\t}\n\t\tconst type = typeof input;\n\t\tlet v;\n\t\tif (type === 'object') {\n\t\t\tv = fromObject(input);\n\t\t} else if (type === 'string') {\n\t\t\tv = hexParse(input) || nameParse(input) || functionParse(input);\n\t\t}\n\t\tthis._rgb = v;\n\t\tthis._valid = !!v;\n\t}\n\tget valid() {\n\t\treturn this._valid;\n\t}\n\tget rgb() {\n\t\tvar v = clone(this._rgb);\n\t\tif (v) {\n\t\t\tv.a = b2n(v.a);\n\t\t}\n\t\treturn v;\n\t}\n\tset rgb(obj) {\n\t\tthis._rgb = fromObject(obj);\n\t}\n\trgbString() {\n\t\treturn this._valid ? rgbString(this._rgb) : this._rgb;\n\t}\n\thexString() {\n\t\treturn this._valid ? hexString(this._rgb) : this._rgb;\n\t}\n\thslString() {\n\t\treturn this._valid ? hslString(this._rgb) : this._rgb;\n\t}\n\tmix(color, weight) {\n\t\tconst me = this;\n\t\tif (color) {\n\t\t\tconst c1 = me.rgb;\n\t\t\tconst c2 = color.rgb;\n\t\t\tlet w2;\n\t\t\tconst p = weight === w2 ? 0.5 : weight;\n\t\t\tconst w = 2 * p - 1;\n\t\t\tconst a = c1.a - c2.a;\n\t\t\tconst w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\t\tw2 = 1 - w1;\n\t\t\tc1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n\t\t\tc1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n\t\t\tc1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n\t\t\tc1.a = p * c1.a + (1 - p) * c2.a;\n\t\t\tme.rgb = c1;\n\t\t}\n\t\treturn me;\n\t}\n\tclone() {\n\t\treturn new Color(this.rgb);\n\t}\n\talpha(a) {\n\t\tthis._rgb.a = n2b(a);\n\t\treturn this;\n\t}\n\tclearer(ratio) {\n\t\tconst rgb = this._rgb;\n\t\trgb.a *= 1 - ratio;\n\t\treturn this;\n\t}\n\tgreyscale() {\n\t\tconst rgb = this._rgb;\n\t\tconst val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n\t\trgb.r = rgb.g = rgb.b = val;\n\t\treturn this;\n\t}\n\topaquer(ratio) {\n\t\tconst rgb = this._rgb;\n\t\trgb.a *= 1 + ratio;\n\t\treturn this;\n\t}\n\tnegate() {\n\t\tconst v = this._rgb;\n\t\tv.r = 255 - v.r;\n\t\tv.g = 255 - v.g;\n\t\tv.b = 255 - v.b;\n\t\treturn this;\n\t}\n\tlighten(ratio) {\n\t\tmodHSL(this._rgb, 2, ratio);\n\t\treturn this;\n\t}\n\tdarken(ratio) {\n\t\tmodHSL(this._rgb, 2, -ratio);\n\t\treturn this;\n\t}\n\tsaturate(ratio) {\n\t\tmodHSL(this._rgb, 1, ratio);\n\t\treturn this;\n\t}\n\tdesaturate(ratio) {\n\t\tmodHSL(this._rgb, 1, -ratio);\n\t\treturn this;\n\t}\n\trotate(deg) {\n\t\trotate(this._rgb, deg);\n\t\treturn this;\n\t}\n}\nfunction index_esm(input) {\n\treturn new Color(input);\n}\n\nconst isPatternOrGradient = (value) => value instanceof CanvasGradient || value instanceof CanvasPattern;\nfunction color(value) {\n  return isPatternOrGradient(value) ? value : index_esm(value);\n}\nfunction getHoverColor(value) {\n  return isPatternOrGradient(value)\n    ? value\n    : index_esm(value).saturate(0.5).darken(0.1).hexString();\n}\n\nconst overrides = Object.create(null);\nconst descriptors = Object.create(null);\nfunction getScope$1(node, key) {\n  if (!key) {\n    return node;\n  }\n  const keys = key.split('.');\n  for (let i = 0, n = keys.length; i < n; ++i) {\n    const k = keys[i];\n    node = node[k] || (node[k] = Object.create(null));\n  }\n  return node;\n}\nfunction set(root, scope, values) {\n  if (typeof scope === 'string') {\n    return merge(getScope$1(root, scope), values);\n  }\n  return merge(getScope$1(root, ''), scope);\n}\nclass Defaults {\n  constructor(_descriptors) {\n    this.animation = undefined;\n    this.backgroundColor = 'rgba(0,0,0,0.1)';\n    this.borderColor = 'rgba(0,0,0,0.1)';\n    this.color = '#666';\n    this.datasets = {};\n    this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio();\n    this.elements = {};\n    this.events = [\n      'mousemove',\n      'mouseout',\n      'click',\n      'touchstart',\n      'touchmove'\n    ];\n    this.font = {\n      family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n      size: 12,\n      style: 'normal',\n      lineHeight: 1.2,\n      weight: null\n    };\n    this.hover = {};\n    this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor);\n    this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor);\n    this.hoverColor = (ctx, options) => getHoverColor(options.color);\n    this.indexAxis = 'x';\n    this.interaction = {\n      mode: 'nearest',\n      intersect: true\n    };\n    this.maintainAspectRatio = true;\n    this.onHover = null;\n    this.onClick = null;\n    this.parsing = true;\n    this.plugins = {};\n    this.responsive = true;\n    this.scale = undefined;\n    this.scales = {};\n    this.showLine = true;\n    this.describe(_descriptors);\n  }\n  set(scope, values) {\n    return set(this, scope, values);\n  }\n  get(scope) {\n    return getScope$1(this, scope);\n  }\n  describe(scope, values) {\n    return set(descriptors, scope, values);\n  }\n  override(scope, values) {\n    return set(overrides, scope, values);\n  }\n  route(scope, name, targetScope, targetName) {\n    const scopeObject = getScope$1(this, scope);\n    const targetScopeObject = getScope$1(this, targetScope);\n    const privateName = '_' + name;\n    Object.defineProperties(scopeObject, {\n      [privateName]: {\n        value: scopeObject[name],\n        writable: true\n      },\n      [name]: {\n        enumerable: true,\n        get() {\n          const local = this[privateName];\n          const target = targetScopeObject[targetName];\n          if (isObject(local)) {\n            return Object.assign({}, target, local);\n          }\n          return valueOrDefault(local, target);\n        },\n        set(value) {\n          this[privateName] = value;\n        }\n      }\n    });\n  }\n}\nvar defaults = new Defaults({\n  _scriptable: (name) => !name.startsWith('on'),\n  _indexable: (name) => name !== 'events',\n  hover: {\n    _fallback: 'interaction'\n  },\n  interaction: {\n    _scriptable: false,\n    _indexable: false,\n  }\n});\n\nfunction toFontString(font) {\n  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n    return null;\n  }\n  return (font.style ? font.style + ' ' : '')\n\t\t+ (font.weight ? font.weight + ' ' : '')\n\t\t+ font.size + 'px '\n\t\t+ font.family;\n}\nfunction _measureText(ctx, data, gc, longest, string) {\n  let textWidth = data[string];\n  if (!textWidth) {\n    textWidth = data[string] = ctx.measureText(string).width;\n    gc.push(string);\n  }\n  if (textWidth > longest) {\n    longest = textWidth;\n  }\n  return longest;\n}\nfunction _longestText(ctx, font, arrayOfThings, cache) {\n  cache = cache || {};\n  let data = cache.data = cache.data || {};\n  let gc = cache.garbageCollect = cache.garbageCollect || [];\n  if (cache.font !== font) {\n    data = cache.data = {};\n    gc = cache.garbageCollect = [];\n    cache.font = font;\n  }\n  ctx.save();\n  ctx.font = font;\n  let longest = 0;\n  const ilen = arrayOfThings.length;\n  let i, j, jlen, thing, nestedThing;\n  for (i = 0; i < ilen; i++) {\n    thing = arrayOfThings[i];\n    if (thing !== undefined && thing !== null && isArray(thing) !== true) {\n      longest = _measureText(ctx, data, gc, longest, thing);\n    } else if (isArray(thing)) {\n      for (j = 0, jlen = thing.length; j < jlen; j++) {\n        nestedThing = thing[j];\n        if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n          longest = _measureText(ctx, data, gc, longest, nestedThing);\n        }\n      }\n    }\n  }\n  ctx.restore();\n  const gcLen = gc.length / 2;\n  if (gcLen > arrayOfThings.length) {\n    for (i = 0; i < gcLen; i++) {\n      delete data[gc[i]];\n    }\n    gc.splice(0, gcLen);\n  }\n  return longest;\n}\nfunction _alignPixel(chart, pixel, width) {\n  const devicePixelRatio = chart.currentDevicePixelRatio;\n  const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\nfunction clearCanvas(canvas, ctx) {\n  ctx = ctx || canvas.getContext('2d');\n  ctx.save();\n  ctx.resetTransform();\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.restore();\n}\nfunction drawPoint(ctx, options, x, y) {\n  let type, xOffset, yOffset, size, cornerRadius;\n  const style = options.pointStyle;\n  const rotation = options.rotation;\n  const radius = options.radius;\n  let rad = (rotation || 0) * RAD_PER_DEG;\n  if (style && typeof style === 'object') {\n    type = style.toString();\n    if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.rotate(rad);\n      ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n      ctx.restore();\n      return;\n    }\n  }\n  if (isNaN(radius) || radius <= 0) {\n    return;\n  }\n  ctx.beginPath();\n  switch (style) {\n  default:\n    ctx.arc(x, y, radius, 0, TAU);\n    ctx.closePath();\n    break;\n  case 'triangle':\n    ctx.moveTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    ctx.closePath();\n    break;\n  case 'rectRounded':\n    cornerRadius = radius * 0.516;\n    size = radius - cornerRadius;\n    xOffset = Math.cos(rad + QUARTER_PI) * size;\n    yOffset = Math.sin(rad + QUARTER_PI) * size;\n    ctx.arc(x - xOffset, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n    ctx.arc(x + yOffset, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n    ctx.arc(x + xOffset, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n    ctx.arc(x - yOffset, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n    ctx.closePath();\n    break;\n  case 'rect':\n    if (!rotation) {\n      size = Math.SQRT1_2 * radius;\n      ctx.rect(x - size, y - size, 2 * size, 2 * size);\n      break;\n    }\n    rad += QUARTER_PI;\n  case 'rectRot':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    ctx.closePath();\n    break;\n  case 'crossRot':\n    rad += QUARTER_PI;\n  case 'cross':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'star':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    rad += QUARTER_PI;\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'line':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    break;\n  case 'dash':\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + Math.cos(rad) * radius, y + Math.sin(rad) * radius);\n    break;\n  }\n  ctx.fill();\n  if (options.borderWidth > 0) {\n    ctx.stroke();\n  }\n}\nfunction _isPointInArea(point, area, margin) {\n  margin = margin || 0.5;\n  return !area || (point && point.x > area.left - margin && point.x < area.right + margin &&\n\t\tpoint.y > area.top - margin && point.y < area.bottom + margin);\n}\nfunction clipArea(ctx, area) {\n  ctx.save();\n  ctx.beginPath();\n  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n  ctx.clip();\n}\nfunction unclipArea(ctx) {\n  ctx.restore();\n}\nfunction _steppedLineTo(ctx, previous, target, flip, mode) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  if (mode === 'middle') {\n    const midpoint = (previous.x + target.x) / 2.0;\n    ctx.lineTo(midpoint, previous.y);\n    ctx.lineTo(midpoint, target.y);\n  } else if (mode === 'after' !== !!flip) {\n    ctx.lineTo(previous.x, target.y);\n  } else {\n    ctx.lineTo(target.x, previous.y);\n  }\n  ctx.lineTo(target.x, target.y);\n}\nfunction _bezierCurveTo(ctx, previous, target, flip) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  ctx.bezierCurveTo(\n    flip ? previous.cp1x : previous.cp2x,\n    flip ? previous.cp1y : previous.cp2y,\n    flip ? target.cp2x : target.cp1x,\n    flip ? target.cp2y : target.cp1y,\n    target.x,\n    target.y);\n}\nfunction renderText(ctx, text, x, y, font, opts = {}) {\n  const lines = isArray(text) ? text : [text];\n  const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n  let i, line;\n  ctx.save();\n  ctx.font = font.string;\n  setRenderOpts(ctx, opts);\n  for (i = 0; i < lines.length; ++i) {\n    line = lines[i];\n    if (stroke) {\n      if (opts.strokeColor) {\n        ctx.strokeStyle = opts.strokeColor;\n      }\n      if (!isNullOrUndef(opts.strokeWidth)) {\n        ctx.lineWidth = opts.strokeWidth;\n      }\n      ctx.strokeText(line, x, y, opts.maxWidth);\n    }\n    ctx.fillText(line, x, y, opts.maxWidth);\n    decorateText(ctx, x, y, line, opts);\n    y += font.lineHeight;\n  }\n  ctx.restore();\n}\nfunction setRenderOpts(ctx, opts) {\n  if (opts.translation) {\n    ctx.translate(opts.translation[0], opts.translation[1]);\n  }\n  if (!isNullOrUndef(opts.rotation)) {\n    ctx.rotate(opts.rotation);\n  }\n  if (opts.color) {\n    ctx.fillStyle = opts.color;\n  }\n  if (opts.textAlign) {\n    ctx.textAlign = opts.textAlign;\n  }\n  if (opts.textBaseline) {\n    ctx.textBaseline = opts.textBaseline;\n  }\n}\nfunction decorateText(ctx, x, y, line, opts) {\n  if (opts.strikethrough || opts.underline) {\n    const metrics = ctx.measureText(line);\n    const left = x - metrics.actualBoundingBoxLeft;\n    const right = x + metrics.actualBoundingBoxRight;\n    const top = y - metrics.actualBoundingBoxAscent;\n    const bottom = y + metrics.actualBoundingBoxDescent;\n    const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n    ctx.strokeStyle = ctx.fillStyle;\n    ctx.beginPath();\n    ctx.lineWidth = opts.decorationWidth || 2;\n    ctx.moveTo(left, yDecoration);\n    ctx.lineTo(right, yDecoration);\n    ctx.stroke();\n  }\n}\nfunction addRoundedRectPath(ctx, rect) {\n  const {x, y, w, h, radius} = rect;\n  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, -HALF_PI, PI, true);\n  ctx.lineTo(x, y + h - radius.bottomLeft);\n  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n  ctx.lineTo(x + w - radius.bottomRight, y + h);\n  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n  ctx.lineTo(x + w, y + radius.topRight);\n  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n  ctx.lineTo(x + radius.topLeft, y);\n}\n\nconst LINE_HEIGHT = new RegExp(/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/);\nconst FONT_STYLE = new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);\nfunction toLineHeight(value, size) {\n  const matches = ('' + value).match(LINE_HEIGHT);\n  if (!matches || matches[1] === 'normal') {\n    return size * 1.2;\n  }\n  value = +matches[2];\n  switch (matches[3]) {\n  case 'px':\n    return value;\n  case '%':\n    value /= 100;\n    break;\n  }\n  return size * value;\n}\nconst numberOrZero = v => +v || 0;\nfunction _readValueToProps(value, props) {\n  const ret = {};\n  const objProps = isObject(props);\n  const keys = objProps ? Object.keys(props) : props;\n  const read = isObject(value)\n    ? objProps\n      ? prop => valueOrDefault(value[prop], value[props[prop]])\n      : prop => value[prop]\n    : () => value;\n  for (const prop of keys) {\n    ret[prop] = numberOrZero(read(prop));\n  }\n  return ret;\n}\nfunction toTRBL(value) {\n  return _readValueToProps(value, {top: 'y', right: 'x', bottom: 'y', left: 'x'});\n}\nfunction toTRBLCorners(value) {\n  return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);\n}\nfunction toPadding(value) {\n  const obj = toTRBL(value);\n  obj.width = obj.left + obj.right;\n  obj.height = obj.top + obj.bottom;\n  return obj;\n}\nfunction toFont(options, fallback) {\n  options = options || {};\n  fallback = fallback || defaults.font;\n  let size = valueOrDefault(options.size, fallback.size);\n  if (typeof size === 'string') {\n    size = parseInt(size, 10);\n  }\n  let style = valueOrDefault(options.style, fallback.style);\n  if (style && !('' + style).match(FONT_STYLE)) {\n    console.warn('Invalid font style specified: \"' + style + '\"');\n    style = '';\n  }\n  const font = {\n    family: valueOrDefault(options.family, fallback.family),\n    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n    size,\n    style,\n    weight: valueOrDefault(options.weight, fallback.weight),\n    string: ''\n  };\n  font.string = toFontString(font);\n  return font;\n}\nfunction resolve(inputs, context, index, info) {\n  let cacheable = true;\n  let i, ilen, value;\n  for (i = 0, ilen = inputs.length; i < ilen; ++i) {\n    value = inputs[i];\n    if (value === undefined) {\n      continue;\n    }\n    if (context !== undefined && typeof value === 'function') {\n      value = value(context);\n      cacheable = false;\n    }\n    if (index !== undefined && isArray(value)) {\n      value = value[index % value.length];\n      cacheable = false;\n    }\n    if (value !== undefined) {\n      if (info && !cacheable) {\n        info.cacheable = false;\n      }\n      return value;\n    }\n  }\n}\nfunction _addGrace(minmax, grace, beginAtZero) {\n  const {min, max} = minmax;\n  const change = toDimension(grace, (max - min) / 2);\n  const keepZero = (value, add) => beginAtZero && value === 0 ? 0 : value + add;\n  return {\n    min: keepZero(min, -Math.abs(change)),\n    max: keepZero(max, change)\n  };\n}\nfunction createContext(parentContext, context) {\n  return Object.assign(Object.create(parentContext), context);\n}\n\nfunction _lookup(table, value, cmp) {\n  cmp = cmp || ((index) => table[index] < value);\n  let hi = table.length - 1;\n  let lo = 0;\n  let mid;\n  while (hi - lo > 1) {\n    mid = (lo + hi) >> 1;\n    if (cmp(mid)) {\n      lo = mid;\n    } else {\n      hi = mid;\n    }\n  }\n  return {lo, hi};\n}\nconst _lookupByKey = (table, key, value) =>\n  _lookup(table, value, index => table[index][key] < value);\nconst _rlookupByKey = (table, key, value) =>\n  _lookup(table, value, index => table[index][key] >= value);\nfunction _filterBetween(values, min, max) {\n  let start = 0;\n  let end = values.length;\n  while (start < end && values[start] < min) {\n    start++;\n  }\n  while (end > start && values[end - 1] > max) {\n    end--;\n  }\n  return start > 0 || end < values.length\n    ? values.slice(start, end)\n    : values;\n}\nconst arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'];\nfunction listenArrayEvents(array, listener) {\n  if (array._chartjs) {\n    array._chartjs.listeners.push(listener);\n    return;\n  }\n  Object.defineProperty(array, '_chartjs', {\n    configurable: true,\n    enumerable: false,\n    value: {\n      listeners: [listener]\n    }\n  });\n  arrayEvents.forEach((key) => {\n    const method = '_onData' + _capitalize(key);\n    const base = array[key];\n    Object.defineProperty(array, key, {\n      configurable: true,\n      enumerable: false,\n      value(...args) {\n        const res = base.apply(this, args);\n        array._chartjs.listeners.forEach((object) => {\n          if (typeof object[method] === 'function') {\n            object[method](...args);\n          }\n        });\n        return res;\n      }\n    });\n  });\n}\nfunction unlistenArrayEvents(array, listener) {\n  const stub = array._chartjs;\n  if (!stub) {\n    return;\n  }\n  const listeners = stub.listeners;\n  const index = listeners.indexOf(listener);\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n  if (listeners.length > 0) {\n    return;\n  }\n  arrayEvents.forEach((key) => {\n    delete array[key];\n  });\n  delete array._chartjs;\n}\nfunction _arrayUnique(items) {\n  const set = new Set();\n  let i, ilen;\n  for (i = 0, ilen = items.length; i < ilen; ++i) {\n    set.add(items[i]);\n  }\n  if (set.size === ilen) {\n    return items;\n  }\n  return Array.from(set);\n}\n\nfunction _createResolver(scopes, prefixes = [''], rootScopes = scopes, fallback, getTarget = () => scopes[0]) {\n  if (!defined(fallback)) {\n    fallback = _resolve('_fallback', scopes);\n  }\n  const cache = {\n    [Symbol.toStringTag]: 'Object',\n    _cacheable: true,\n    _scopes: scopes,\n    _rootScopes: rootScopes,\n    _fallback: fallback,\n    _getTarget: getTarget,\n    override: (scope) => _createResolver([scope, ...scopes], prefixes, rootScopes, fallback),\n  };\n  return new Proxy(cache, {\n    deleteProperty(target, prop) {\n      delete target[prop];\n      delete target._keys;\n      delete scopes[0][prop];\n      return true;\n    },\n    get(target, prop) {\n      return _cached(target, prop,\n        () => _resolveWithPrefixes(prop, prefixes, scopes, target));\n    },\n    getOwnPropertyDescriptor(target, prop) {\n      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n    },\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(scopes[0]);\n    },\n    has(target, prop) {\n      return getKeysFromAllScopes(target).includes(prop);\n    },\n    ownKeys(target) {\n      return getKeysFromAllScopes(target);\n    },\n    set(target, prop, value) {\n      const storage = target._storage || (target._storage = getTarget());\n      storage[prop] = value;\n      delete target[prop];\n      delete target._keys;\n      return true;\n    }\n  });\n}\nfunction _attachContext(proxy, context, subProxy, descriptorDefaults) {\n  const cache = {\n    _cacheable: false,\n    _proxy: proxy,\n    _context: context,\n    _subProxy: subProxy,\n    _stack: new Set(),\n    _descriptors: _descriptors(proxy, descriptorDefaults),\n    setContext: (ctx) => _attachContext(proxy, ctx, subProxy, descriptorDefaults),\n    override: (scope) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n  };\n  return new Proxy(cache, {\n    deleteProperty(target, prop) {\n      delete target[prop];\n      delete proxy[prop];\n      return true;\n    },\n    get(target, prop, receiver) {\n      return _cached(target, prop,\n        () => _resolveWithContext(target, prop, receiver));\n    },\n    getOwnPropertyDescriptor(target, prop) {\n      return target._descriptors.allKeys\n        ? Reflect.has(proxy, prop) ? {enumerable: true, configurable: true} : undefined\n        : Reflect.getOwnPropertyDescriptor(proxy, prop);\n    },\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(proxy);\n    },\n    has(target, prop) {\n      return Reflect.has(proxy, prop);\n    },\n    ownKeys() {\n      return Reflect.ownKeys(proxy);\n    },\n    set(target, prop, value) {\n      proxy[prop] = value;\n      delete target[prop];\n      return true;\n    }\n  });\n}\nfunction _descriptors(proxy, defaults = {scriptable: true, indexable: true}) {\n  const {_scriptable = defaults.scriptable, _indexable = defaults.indexable, _allKeys = defaults.allKeys} = proxy;\n  return {\n    allKeys: _allKeys,\n    scriptable: _scriptable,\n    indexable: _indexable,\n    isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable,\n    isIndexable: isFunction(_indexable) ? _indexable : () => _indexable\n  };\n}\nconst readKey = (prefix, name) => prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop, value) => isObject(value) && prop !== 'adapters';\nfunction _cached(target, prop, resolve) {\n  if (Object.prototype.hasOwnProperty.call(target, prop)) {\n    return target[prop];\n  }\n  const value = resolve();\n  target[prop] = value;\n  return value;\n}\nfunction _resolveWithContext(target, prop, receiver) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  let value = _proxy[prop];\n  if (isFunction(value) && descriptors.isScriptable(prop)) {\n    value = _resolveScriptable(prop, value, target, receiver);\n  }\n  if (isArray(value) && value.length) {\n    value = _resolveArray(prop, value, target, descriptors.isIndexable);\n  }\n  if (needsSubResolver(prop, value)) {\n    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n  }\n  return value;\n}\nfunction _resolveScriptable(prop, value, target, receiver) {\n  const {_proxy, _context, _subProxy, _stack} = target;\n  if (_stack.has(prop)) {\n    throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n  }\n  _stack.add(prop);\n  value = value(_context, _subProxy || receiver);\n  _stack.delete(prop);\n  if (isObject(value)) {\n    value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n  }\n  return value;\n}\nfunction _resolveArray(prop, value, target, isIndexable) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  if (defined(_context.index) && isIndexable(prop)) {\n    value = value[_context.index % value.length];\n  } else if (isObject(value[0])) {\n    const arr = value;\n    const scopes = _proxy._scopes.filter(s => s !== arr);\n    value = [];\n    for (const item of arr) {\n      const resolver = createSubResolver(scopes, _proxy, prop, item);\n      value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n    }\n  }\n  return value;\n}\nfunction resolveFallback(fallback, prop, value) {\n  return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\nconst getScope = (key, parent) => key === true ? parent\n  : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\nfunction addScopes(set, parentScopes, key, parentFallback) {\n  for (const parent of parentScopes) {\n    const scope = getScope(key, parent);\n    if (scope) {\n      set.add(scope);\n      const fallback = resolveFallback(scope._fallback, key, scope);\n      if (defined(fallback) && fallback !== key && fallback !== parentFallback) {\n        return fallback;\n      }\n    } else if (scope === false && defined(parentFallback) && key !== parentFallback) {\n      return null;\n    }\n  }\n  return false;\n}\nfunction createSubResolver(parentScopes, resolver, prop, value) {\n  const rootScopes = resolver._rootScopes;\n  const fallback = resolveFallback(resolver._fallback, prop, value);\n  const allScopes = [...parentScopes, ...rootScopes];\n  const set = new Set();\n  set.add(value);\n  let key = addScopesFromKey(set, allScopes, prop, fallback || prop);\n  if (key === null) {\n    return false;\n  }\n  if (defined(fallback) && fallback !== prop) {\n    key = addScopesFromKey(set, allScopes, fallback, key);\n    if (key === null) {\n      return false;\n    }\n  }\n  return _createResolver(Array.from(set), [''], rootScopes, fallback,\n    () => subGetTarget(resolver, prop, value));\n}\nfunction addScopesFromKey(set, allScopes, key, fallback) {\n  while (key) {\n    key = addScopes(set, allScopes, key, fallback);\n  }\n  return key;\n}\nfunction subGetTarget(resolver, prop, value) {\n  const parent = resolver._getTarget();\n  if (!(prop in parent)) {\n    parent[prop] = {};\n  }\n  const target = parent[prop];\n  if (isArray(target) && isObject(value)) {\n    return value;\n  }\n  return target;\n}\nfunction _resolveWithPrefixes(prop, prefixes, scopes, proxy) {\n  let value;\n  for (const prefix of prefixes) {\n    value = _resolve(readKey(prefix, prop), scopes);\n    if (defined(value)) {\n      return needsSubResolver(prop, value)\n        ? createSubResolver(scopes, proxy, prop, value)\n        : value;\n    }\n  }\n}\nfunction _resolve(key, scopes) {\n  for (const scope of scopes) {\n    if (!scope) {\n      continue;\n    }\n    const value = scope[key];\n    if (defined(value)) {\n      return value;\n    }\n  }\n}\nfunction getKeysFromAllScopes(target) {\n  let keys = target._keys;\n  if (!keys) {\n    keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n  }\n  return keys;\n}\nfunction resolveKeysFromAllScopes(scopes) {\n  const set = new Set();\n  for (const scope of scopes) {\n    for (const key of Object.keys(scope).filter(k => !k.startsWith('_'))) {\n      set.add(key);\n    }\n  }\n  return Array.from(set);\n}\n\nconst EPSILON = Number.EPSILON || 1e-14;\nconst getPoint = (points, i) => i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis) => indexAxis === 'x' ? 'y' : 'x';\nfunction splineCurve(firstPoint, middlePoint, afterPoint, t) {\n  const previous = firstPoint.skip ? middlePoint : firstPoint;\n  const current = middlePoint;\n  const next = afterPoint.skip ? middlePoint : afterPoint;\n  const d01 = distanceBetweenPoints(current, previous);\n  const d12 = distanceBetweenPoints(next, current);\n  let s01 = d01 / (d01 + d12);\n  let s12 = d12 / (d01 + d12);\n  s01 = isNaN(s01) ? 0 : s01;\n  s12 = isNaN(s12) ? 0 : s12;\n  const fa = t * s01;\n  const fb = t * s12;\n  return {\n    previous: {\n      x: current.x - fa * (next.x - previous.x),\n      y: current.y - fa * (next.y - previous.y)\n    },\n    next: {\n      x: current.x + fb * (next.x - previous.x),\n      y: current.y + fb * (next.y - previous.y)\n    }\n  };\n}\nfunction monotoneAdjust(points, deltaK, mK) {\n  const pointsLen = points.length;\n  let alphaK, betaK, tauK, squaredMagnitude, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen - 1; ++i) {\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent || !pointAfter) {\n      continue;\n    }\n    if (almostEquals(deltaK[i], 0, EPSILON)) {\n      mK[i] = mK[i + 1] = 0;\n      continue;\n    }\n    alphaK = mK[i] / deltaK[i];\n    betaK = mK[i + 1] / deltaK[i];\n    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n    if (squaredMagnitude <= 9) {\n      continue;\n    }\n    tauK = 3 / Math.sqrt(squaredMagnitude);\n    mK[i] = alphaK * tauK * deltaK[i];\n    mK[i + 1] = betaK * tauK * deltaK[i];\n  }\n}\nfunction monotoneCompute(points, mK, indexAxis = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  let delta, pointBefore, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n    const iPixel = pointCurrent[indexAxis];\n    const vPixel = pointCurrent[valueAxis];\n    if (pointBefore) {\n      delta = (iPixel - pointBefore[indexAxis]) / 3;\n      pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n      pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n    }\n    if (pointAfter) {\n      delta = (pointAfter[indexAxis] - iPixel) / 3;\n      pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n      pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n    }\n  }\n}\nfunction splineCurveMonotone(points, indexAxis = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  const deltaK = Array(pointsLen).fill(0);\n  const mK = Array(pointsLen);\n  let i, pointBefore, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n    if (pointAfter) {\n      const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n      deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n    }\n    mK[i] = !pointBefore ? deltaK[i]\n      : !pointAfter ? deltaK[i - 1]\n      : (sign(deltaK[i - 1]) !== sign(deltaK[i])) ? 0\n      : (deltaK[i - 1] + deltaK[i]) / 2;\n  }\n  monotoneAdjust(points, deltaK, mK);\n  monotoneCompute(points, mK, indexAxis);\n}\nfunction capControlPoint(pt, min, max) {\n  return Math.max(Math.min(pt, max), min);\n}\nfunction capBezierPoints(points, area) {\n  let i, ilen, point, inArea, inAreaPrev;\n  let inAreaNext = _isPointInArea(points[0], area);\n  for (i = 0, ilen = points.length; i < ilen; ++i) {\n    inAreaPrev = inArea;\n    inArea = inAreaNext;\n    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n    if (!inArea) {\n      continue;\n    }\n    point = points[i];\n    if (inAreaPrev) {\n      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n    }\n    if (inAreaNext) {\n      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n    }\n  }\n}\nfunction _updateBezierControlPoints(points, options, area, loop, indexAxis) {\n  let i, ilen, point, controlPoints;\n  if (options.spanGaps) {\n    points = points.filter((pt) => !pt.skip);\n  }\n  if (options.cubicInterpolationMode === 'monotone') {\n    splineCurveMonotone(points, indexAxis);\n  } else {\n    let prev = loop ? points[points.length - 1] : points[0];\n    for (i = 0, ilen = points.length; i < ilen; ++i) {\n      point = points[i];\n      controlPoints = splineCurve(\n        prev,\n        point,\n        points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen],\n        options.tension\n      );\n      point.cp1x = controlPoints.previous.x;\n      point.cp1y = controlPoints.previous.y;\n      point.cp2x = controlPoints.next.x;\n      point.cp2y = controlPoints.next.y;\n      prev = point;\n    }\n  }\n  if (options.capBezierPoints) {\n    capBezierPoints(points, area);\n  }\n}\n\nfunction _isDomSupported() {\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\nfunction _getParentNode(domNode) {\n  let parent = domNode.parentNode;\n  if (parent && parent.toString() === '[object ShadowRoot]') {\n    parent = parent.host;\n  }\n  return parent;\n}\nfunction parseMaxStyle(styleValue, node, parentProperty) {\n  let valueInPixels;\n  if (typeof styleValue === 'string') {\n    valueInPixels = parseInt(styleValue, 10);\n    if (styleValue.indexOf('%') !== -1) {\n      valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n    }\n  } else {\n    valueInPixels = styleValue;\n  }\n  return valueInPixels;\n}\nconst getComputedStyle = (element) => window.getComputedStyle(element, null);\nfunction getStyle(el, property) {\n  return getComputedStyle(el).getPropertyValue(property);\n}\nconst positions = ['top', 'right', 'bottom', 'left'];\nfunction getPositionedStyle(styles, style, suffix) {\n  const result = {};\n  suffix = suffix ? '-' + suffix : '';\n  for (let i = 0; i < 4; i++) {\n    const pos = positions[i];\n    result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n  }\n  result.width = result.left + result.right;\n  result.height = result.top + result.bottom;\n  return result;\n}\nconst useOffsetPos = (x, y, target) => (x > 0 || y > 0) && (!target || !target.shadowRoot);\nfunction getCanvasPosition(evt, canvas) {\n  const e = evt.native || evt;\n  const touches = e.touches;\n  const source = touches && touches.length ? touches[0] : e;\n  const {offsetX, offsetY} = source;\n  let box = false;\n  let x, y;\n  if (useOffsetPos(offsetX, offsetY, e.target)) {\n    x = offsetX;\n    y = offsetY;\n  } else {\n    const rect = canvas.getBoundingClientRect();\n    x = source.clientX - rect.left;\n    y = source.clientY - rect.top;\n    box = true;\n  }\n  return {x, y, box};\n}\nfunction getRelativePosition(evt, chart) {\n  const {canvas, currentDevicePixelRatio} = chart;\n  const style = getComputedStyle(canvas);\n  const borderBox = style.boxSizing === 'border-box';\n  const paddings = getPositionedStyle(style, 'padding');\n  const borders = getPositionedStyle(style, 'border', 'width');\n  const {x, y, box} = getCanvasPosition(evt, canvas);\n  const xOffset = paddings.left + (box && borders.left);\n  const yOffset = paddings.top + (box && borders.top);\n  let {width, height} = chart;\n  if (borderBox) {\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  return {\n    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n  };\n}\nfunction getContainerSize(canvas, width, height) {\n  let maxWidth, maxHeight;\n  if (width === undefined || height === undefined) {\n    const container = _getParentNode(canvas);\n    if (!container) {\n      width = canvas.clientWidth;\n      height = canvas.clientHeight;\n    } else {\n      const rect = container.getBoundingClientRect();\n      const containerStyle = getComputedStyle(container);\n      const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n      const containerPadding = getPositionedStyle(containerStyle, 'padding');\n      width = rect.width - containerPadding.width - containerBorder.width;\n      height = rect.height - containerPadding.height - containerBorder.height;\n      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n    }\n  }\n  return {\n    width,\n    height,\n    maxWidth: maxWidth || INFINITY,\n    maxHeight: maxHeight || INFINITY\n  };\n}\nconst round1 = v => Math.round(v * 10) / 10;\nfunction getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {\n  const style = getComputedStyle(canvas);\n  const margins = getPositionedStyle(style, 'margin');\n  const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n  const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n  const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n  let {width, height} = containerSize;\n  if (style.boxSizing === 'content-box') {\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const paddings = getPositionedStyle(style, 'padding');\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  width = Math.max(0, width - margins.width);\n  height = Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height - margins.height);\n  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n  if (width && !height) {\n    height = round1(width / 2);\n  }\n  return {\n    width,\n    height\n  };\n}\nfunction retinaScale(chart, forceRatio, forceStyle) {\n  const pixelRatio = forceRatio || 1;\n  const deviceHeight = Math.floor(chart.height * pixelRatio);\n  const deviceWidth = Math.floor(chart.width * pixelRatio);\n  chart.height = deviceHeight / pixelRatio;\n  chart.width = deviceWidth / pixelRatio;\n  const canvas = chart.canvas;\n  if (canvas.style && (forceStyle || (!canvas.style.height && !canvas.style.width))) {\n    canvas.style.height = `${chart.height}px`;\n    canvas.style.width = `${chart.width}px`;\n  }\n  if (chart.currentDevicePixelRatio !== pixelRatio\n      || canvas.height !== deviceHeight\n      || canvas.width !== deviceWidth) {\n    chart.currentDevicePixelRatio = pixelRatio;\n    canvas.height = deviceHeight;\n    canvas.width = deviceWidth;\n    chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    return true;\n  }\n  return false;\n}\nconst supportsEventListenerOptions = (function() {\n  let passiveSupported = false;\n  try {\n    const options = {\n      get passive() {\n        passiveSupported = true;\n        return false;\n      }\n    };\n    window.addEventListener('test', null, options);\n    window.removeEventListener('test', null, options);\n  } catch (e) {\n  }\n  return passiveSupported;\n}());\nfunction readUsedSize(element, property) {\n  const value = getStyle(element, property);\n  const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n  return matches ? +matches[1] : undefined;\n}\n\nfunction _pointInLine(p1, p2, t, mode) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: p1.y + t * (p2.y - p1.y)\n  };\n}\nfunction _steppedInterpolation(p1, p2, t, mode) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y\n    : mode === 'after' ? t < 1 ? p1.y : p2.y\n    : t > 0 ? p2.y : p1.y\n  };\n}\nfunction _bezierInterpolation(p1, p2, t, mode) {\n  const cp1 = {x: p1.cp2x, y: p1.cp2y};\n  const cp2 = {x: p2.cp1x, y: p2.cp1y};\n  const a = _pointInLine(p1, cp1, t);\n  const b = _pointInLine(cp1, cp2, t);\n  const c = _pointInLine(cp2, p2, t);\n  const d = _pointInLine(a, b, t);\n  const e = _pointInLine(b, c, t);\n  return _pointInLine(d, e, t);\n}\n\nconst intlCache = new Map();\nfunction getNumberFormat(locale, options) {\n  options = options || {};\n  const cacheKey = locale + JSON.stringify(options);\n  let formatter = intlCache.get(cacheKey);\n  if (!formatter) {\n    formatter = new Intl.NumberFormat(locale, options);\n    intlCache.set(cacheKey, formatter);\n  }\n  return formatter;\n}\nfunction formatNumber(num, locale, options) {\n  return getNumberFormat(locale, options).format(num);\n}\n\nconst getRightToLeftAdapter = function(rectX, width) {\n  return {\n    x(x) {\n      return rectX + rectX + width - x;\n    },\n    setWidth(w) {\n      width = w;\n    },\n    textAlign(align) {\n      if (align === 'center') {\n        return align;\n      }\n      return align === 'right' ? 'left' : 'right';\n    },\n    xPlus(x, value) {\n      return x - value;\n    },\n    leftForLtr(x, itemWidth) {\n      return x - itemWidth;\n    },\n  };\n};\nconst getLeftToRightAdapter = function() {\n  return {\n    x(x) {\n      return x;\n    },\n    setWidth(w) {\n    },\n    textAlign(align) {\n      return align;\n    },\n    xPlus(x, value) {\n      return x + value;\n    },\n    leftForLtr(x, _itemWidth) {\n      return x;\n    },\n  };\n};\nfunction getRtlAdapter(rtl, rectX, width) {\n  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\nfunction overrideTextDirection(ctx, direction) {\n  let style, original;\n  if (direction === 'ltr' || direction === 'rtl') {\n    style = ctx.canvas.style;\n    original = [\n      style.getPropertyValue('direction'),\n      style.getPropertyPriority('direction'),\n    ];\n    style.setProperty('direction', direction, 'important');\n    ctx.prevTextDirection = original;\n  }\n}\nfunction restoreTextDirection(ctx, original) {\n  if (original !== undefined) {\n    delete ctx.prevTextDirection;\n    ctx.canvas.style.setProperty('direction', original[0], original[1]);\n  }\n}\n\nfunction propertyFn(property) {\n  if (property === 'angle') {\n    return {\n      between: _angleBetween,\n      compare: _angleDiff,\n      normalize: _normalizeAngle,\n    };\n  }\n  return {\n    between: (n, s, e) => n >= Math.min(s, e) && n <= Math.max(e, s),\n    compare: (a, b) => a - b,\n    normalize: x => x\n  };\n}\nfunction normalizeSegment({start, end, count, loop, style}) {\n  return {\n    start: start % count,\n    end: end % count,\n    loop: loop && (end - start + 1) % count === 0,\n    style\n  };\n}\nfunction getSegment(segment, points, bounds) {\n  const {property, start: startBound, end: endBound} = bounds;\n  const {between, normalize} = propertyFn(property);\n  const count = points.length;\n  let {start, end, loop} = segment;\n  let i, ilen;\n  if (loop) {\n    start += count;\n    end += count;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n        break;\n      }\n      start--;\n      end--;\n    }\n    start %= count;\n    end %= count;\n  }\n  if (end < start) {\n    end += count;\n  }\n  return {start, end, loop, style: segment.style};\n}\nfunction _boundSegment(segment, points, bounds) {\n  if (!bounds) {\n    return [segment];\n  }\n  const {property, start: startBound, end: endBound} = bounds;\n  const count = points.length;\n  const {compare, between, normalize} = propertyFn(property);\n  const {start, end, loop, style} = getSegment(segment, points, bounds);\n  const result = [];\n  let inside = false;\n  let subStart = null;\n  let value, point, prevValue;\n  const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n  const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value);\n  const shouldStart = () => inside || startIsBefore();\n  const shouldStop = () => !inside || endIsBefore();\n  for (let i = start, prev = start; i <= end; ++i) {\n    point = points[i % count];\n    if (point.skip) {\n      continue;\n    }\n    value = normalize(point[property]);\n    if (value === prevValue) {\n      continue;\n    }\n    inside = between(value, startBound, endBound);\n    if (subStart === null && shouldStart()) {\n      subStart = compare(value, startBound) === 0 ? i : prev;\n    }\n    if (subStart !== null && shouldStop()) {\n      result.push(normalizeSegment({start: subStart, end: i, loop, count, style}));\n      subStart = null;\n    }\n    prev = i;\n    prevValue = value;\n  }\n  if (subStart !== null) {\n    result.push(normalizeSegment({start: subStart, end, loop, count, style}));\n  }\n  return result;\n}\nfunction _boundSegments(line, bounds) {\n  const result = [];\n  const segments = line.segments;\n  for (let i = 0; i < segments.length; i++) {\n    const sub = _boundSegment(segments[i], line.points, bounds);\n    if (sub.length) {\n      result.push(...sub);\n    }\n  }\n  return result;\n}\nfunction findStartAndEnd(points, count, loop, spanGaps) {\n  let start = 0;\n  let end = count - 1;\n  if (loop && !spanGaps) {\n    while (start < count && !points[start].skip) {\n      start++;\n    }\n  }\n  while (start < count && points[start].skip) {\n    start++;\n  }\n  start %= count;\n  if (loop) {\n    end += start;\n  }\n  while (end > start && points[end % count].skip) {\n    end--;\n  }\n  end %= count;\n  return {start, end};\n}\nfunction solidSegments(points, start, max, loop) {\n  const count = points.length;\n  const result = [];\n  let last = start;\n  let prev = points[start];\n  let end;\n  for (end = start + 1; end <= max; ++end) {\n    const cur = points[end % count];\n    if (cur.skip || cur.stop) {\n      if (!prev.skip) {\n        loop = false;\n        result.push({start: start % count, end: (end - 1) % count, loop});\n        start = last = cur.stop ? end : null;\n      }\n    } else {\n      last = end;\n      if (prev.skip) {\n        start = end;\n      }\n    }\n    prev = cur;\n  }\n  if (last !== null) {\n    result.push({start: start % count, end: last % count, loop});\n  }\n  return result;\n}\nfunction _computeSegments(line, segmentOptions) {\n  const points = line.points;\n  const spanGaps = line.options.spanGaps;\n  const count = points.length;\n  if (!count) {\n    return [];\n  }\n  const loop = !!line._loop;\n  const {start, end} = findStartAndEnd(points, count, loop, spanGaps);\n  if (spanGaps === true) {\n    return splitByStyles(line, [{start, end, loop}], points, segmentOptions);\n  }\n  const max = end < start ? end + count : end;\n  const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n  return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\nfunction splitByStyles(line, segments, points, segmentOptions) {\n  if (!segmentOptions || !segmentOptions.setContext || !points) {\n    return segments;\n  }\n  return doSplitByStyles(line, segments, points, segmentOptions);\n}\nfunction doSplitByStyles(line, segments, points, segmentOptions) {\n  const chartContext = line._chart.getContext();\n  const baseStyle = readStyle(line.options);\n  const {_datasetIndex: datasetIndex, options: {spanGaps}} = line;\n  const count = points.length;\n  const result = [];\n  let prevStyle = baseStyle;\n  let start = segments[0].start;\n  let i = start;\n  function addStyle(s, e, l, st) {\n    const dir = spanGaps ? -1 : 1;\n    if (s === e) {\n      return;\n    }\n    s += count;\n    while (points[s % count].skip) {\n      s -= dir;\n    }\n    while (points[e % count].skip) {\n      e += dir;\n    }\n    if (s % count !== e % count) {\n      result.push({start: s % count, end: e % count, loop: l, style: st});\n      prevStyle = st;\n      start = e % count;\n    }\n  }\n  for (const segment of segments) {\n    start = spanGaps ? start : segment.start;\n    let prev = points[start % count];\n    let style;\n    for (i = start + 1; i <= segment.end; i++) {\n      const pt = points[i % count];\n      style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n        type: 'segment',\n        p0: prev,\n        p1: pt,\n        p0DataIndex: (i - 1) % count,\n        p1DataIndex: i % count,\n        datasetIndex\n      })));\n      if (styleChanged(style, prevStyle)) {\n        addStyle(start, i - 1, segment.loop, prevStyle);\n      }\n      prev = pt;\n      prevStyle = style;\n    }\n    if (start < i - 1) {\n      addStyle(start, i - 1, segment.loop, prevStyle);\n    }\n  }\n  return result;\n}\nfunction readStyle(options) {\n  return {\n    backgroundColor: options.backgroundColor,\n    borderCapStyle: options.borderCapStyle,\n    borderDash: options.borderDash,\n    borderDashOffset: options.borderDashOffset,\n    borderJoinStyle: options.borderJoinStyle,\n    borderWidth: options.borderWidth,\n    borderColor: options.borderColor\n  };\n}\nfunction styleChanged(style, prevStyle) {\n  return prevStyle && JSON.stringify(style) !== JSON.stringify(prevStyle);\n}\n\nexport { _alignStartEnd as $, _rlookupByKey as A, toPadding as B, each as C, getMaximumSize as D, _getParentNode as E, readUsedSize as F, throttled as G, HALF_PI as H, supportsEventListenerOptions as I, _isDomSupported as J, log10 as K, _factorize as L, finiteOrDefault as M, callback as N, _addGrace as O, PI as P, toDegrees as Q, _measureText as R, _int16Range as S, TAU as T, _alignPixel as U, clipArea as V, renderText as W, unclipArea as X, toFont as Y, _toLeftRightCenter as Z, _arrayUnique as _, resolve as a, overrides as a0, merge as a1, _capitalize as a2, descriptors as a3, isFunction as a4, _attachContext as a5, _createResolver as a6, _descriptors as a7, mergeIf as a8, uid as a9, distanceBetweenPoints as aA, _setMinAndMaxByKey as aB, niceNum as aC, almostWhole as aD, almostEquals as aE, _decimalPlaces as aF, _longestText as aG, _filterBetween as aH, _lookup as aI, getHoverColor as aJ, clone$1 as aK, _merger as aL, _mergerIf as aM, _deprecated as aN, toFontString as aO, splineCurve as aP, splineCurveMonotone as aQ, getStyle as aR, fontString as aS, toLineHeight as aT, PITAU as aU, INFINITY as aV, RAD_PER_DEG as aW, QUARTER_PI as aX, TWO_THIRDS_PI as aY, _angleDiff as aZ, debounce as aa, retinaScale as ab, clearCanvas as ac, setsEqual as ad, _elementsEqual as ae, getAngleFromPoint as af, _readValueToProps as ag, _updateBezierControlPoints as ah, _computeSegments as ai, _boundSegments as aj, _steppedInterpolation as ak, _bezierInterpolation as al, _pointInLine as am, _steppedLineTo as an, _bezierCurveTo as ao, drawPoint as ap, addRoundedRectPath as aq, toTRBL as ar, toTRBLCorners as as, _boundSegment as at, _normalizeAngle as au, getRtlAdapter as av, overrideTextDirection as aw, _textX as ax, restoreTextDirection as ay, noop as az, isArray as b, color as c, defaults as d, effects as e, resolveObjectKey as f, isNumberFinite as g, createContext as h, isObject as i, defined as j, isNullOrUndef as k, listenArrayEvents as l, toPercentage as m, toDimension as n, formatNumber as o, _angleBetween as p, isNumber as q, requestAnimFrame as r, sign as s, toRadians as t, unlistenArrayEvents as u, valueOrDefault as v, _limitValue as w, _lookupByKey as x, getRelativePosition as y, _isPointInArea as z };\n","/*!\n * Chart.js v3.6.0\n * https://www.chartjs.org\n * (c) 2021 Chart.js Contributors\n * Released under the MIT License\n */\nimport { r as requestAnimFrame, a as resolve, e as effects, c as color, d as defaults, i as isObject, b as isArray, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as createContext, j as defined, s as sign, k as isNullOrUndef, _ as _arrayUnique, t as toRadians, m as toPercentage, n as toDimension, T as TAU, o as formatNumber, p as _angleBetween, H as HALF_PI, P as PI, q as isNumber, w as _limitValue, x as _lookupByKey, y as getRelativePosition$1, z as _isPointInArea, A as _rlookupByKey, B as toPadding, C as each, D as getMaximumSize, E as _getParentNode, F as readUsedSize, G as throttled, I as supportsEventListenerOptions, J as _isDomSupported, K as log10, L as _factorize, M as finiteOrDefault, N as callback, O as _addGrace, Q as toDegrees, R as _measureText, S as _int16Range, U as _alignPixel, V as clipArea, W as renderText, X as unclipArea, Y as toFont, Z as _toLeftRightCenter, $ as _alignStartEnd, a0 as overrides, a1 as merge, a2 as _capitalize, a3 as descriptors, a4 as isFunction, a5 as _attachContext, a6 as _createResolver, a7 as _descriptors, a8 as mergeIf, a9 as uid, aa as debounce, ab as retinaScale, ac as clearCanvas, ad as setsEqual, ae as _elementsEqual, af as getAngleFromPoint, ag as _readValueToProps, ah as _updateBezierControlPoints, ai as _computeSegments, aj as _boundSegments, ak as _steppedInterpolation, al as _bezierInterpolation, am as _pointInLine, an as _steppedLineTo, ao as _bezierCurveTo, ap as drawPoint, aq as addRoundedRectPath, ar as toTRBL, as as toTRBLCorners, at as _boundSegment, au as _normalizeAngle, av as getRtlAdapter, aw as overrideTextDirection, ax as _textX, ay as restoreTextDirection, az as noop, aA as distanceBetweenPoints, aB as _setMinAndMaxByKey, aC as niceNum, aD as almostWhole, aE as almostEquals, aF as _decimalPlaces, aG as _longestText, aH as _filterBetween, aI as _lookup } from './chunks/helpers.segment.js';\nexport { d as defaults } from './chunks/helpers.segment.js';\n\nclass Animator {\n  constructor() {\n    this._request = null;\n    this._charts = new Map();\n    this._running = false;\n    this._lastDate = undefined;\n  }\n  _notify(chart, anims, date, type) {\n    const callbacks = anims.listeners[type];\n    const numSteps = anims.duration;\n    callbacks.forEach(fn => fn({\n      chart,\n      initial: anims.initial,\n      numSteps,\n      currentStep: Math.min(date - anims.start, numSteps)\n    }));\n  }\n  _refresh() {\n    if (this._request) {\n      return;\n    }\n    this._running = true;\n    this._request = requestAnimFrame.call(window, () => {\n      this._update();\n      this._request = null;\n      if (this._running) {\n        this._refresh();\n      }\n    });\n  }\n  _update(date = Date.now()) {\n    let remaining = 0;\n    this._charts.forEach((anims, chart) => {\n      if (!anims.running || !anims.items.length) {\n        return;\n      }\n      const items = anims.items;\n      let i = items.length - 1;\n      let draw = false;\n      let item;\n      for (; i >= 0; --i) {\n        item = items[i];\n        if (item._active) {\n          if (item._total > anims.duration) {\n            anims.duration = item._total;\n          }\n          item.tick(date);\n          draw = true;\n        } else {\n          items[i] = items[items.length - 1];\n          items.pop();\n        }\n      }\n      if (draw) {\n        chart.draw();\n        this._notify(chart, anims, date, 'progress');\n      }\n      if (!items.length) {\n        anims.running = false;\n        this._notify(chart, anims, date, 'complete');\n        anims.initial = false;\n      }\n      remaining += items.length;\n    });\n    this._lastDate = date;\n    if (remaining === 0) {\n      this._running = false;\n    }\n  }\n  _getAnims(chart) {\n    const charts = this._charts;\n    let anims = charts.get(chart);\n    if (!anims) {\n      anims = {\n        running: false,\n        initial: true,\n        items: [],\n        listeners: {\n          complete: [],\n          progress: []\n        }\n      };\n      charts.set(chart, anims);\n    }\n    return anims;\n  }\n  listen(chart, event, cb) {\n    this._getAnims(chart).listeners[event].push(cb);\n  }\n  add(chart, items) {\n    if (!items || !items.length) {\n      return;\n    }\n    this._getAnims(chart).items.push(...items);\n  }\n  has(chart) {\n    return this._getAnims(chart).items.length > 0;\n  }\n  start(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims) {\n      return;\n    }\n    anims.running = true;\n    anims.start = Date.now();\n    anims.duration = anims.items.reduce((acc, cur) => Math.max(acc, cur._duration), 0);\n    this._refresh();\n  }\n  running(chart) {\n    if (!this._running) {\n      return false;\n    }\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.running || !anims.items.length) {\n      return false;\n    }\n    return true;\n  }\n  stop(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.items.length) {\n      return;\n    }\n    const items = anims.items;\n    let i = items.length - 1;\n    for (; i >= 0; --i) {\n      items[i].cancel();\n    }\n    anims.items = [];\n    this._notify(chart, anims, Date.now(), 'complete');\n  }\n  remove(chart) {\n    return this._charts.delete(chart);\n  }\n}\nvar animator = new Animator();\n\nconst transparent = 'transparent';\nconst interpolators = {\n  boolean(from, to, factor) {\n    return factor > 0.5 ? to : from;\n  },\n  color(from, to, factor) {\n    const c0 = color(from || transparent);\n    const c1 = c0.valid && color(to || transparent);\n    return c1 && c1.valid\n      ? c1.mix(c0, factor).hexString()\n      : to;\n  },\n  number(from, to, factor) {\n    return from + (to - from) * factor;\n  }\n};\nclass Animation {\n  constructor(cfg, target, prop, to) {\n    const currentValue = target[prop];\n    to = resolve([cfg.to, to, currentValue, cfg.from]);\n    const from = resolve([cfg.from, currentValue, to]);\n    this._active = true;\n    this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n    this._easing = effects[cfg.easing] || effects.linear;\n    this._start = Math.floor(Date.now() + (cfg.delay || 0));\n    this._duration = this._total = Math.floor(cfg.duration);\n    this._loop = !!cfg.loop;\n    this._target = target;\n    this._prop = prop;\n    this._from = from;\n    this._to = to;\n    this._promises = undefined;\n  }\n  active() {\n    return this._active;\n  }\n  update(cfg, to, date) {\n    if (this._active) {\n      this._notify(false);\n      const currentValue = this._target[this._prop];\n      const elapsed = date - this._start;\n      const remain = this._duration - elapsed;\n      this._start = date;\n      this._duration = Math.floor(Math.max(remain, cfg.duration));\n      this._total += elapsed;\n      this._loop = !!cfg.loop;\n      this._to = resolve([cfg.to, to, currentValue, cfg.from]);\n      this._from = resolve([cfg.from, currentValue, to]);\n    }\n  }\n  cancel() {\n    if (this._active) {\n      this.tick(Date.now());\n      this._active = false;\n      this._notify(false);\n    }\n  }\n  tick(date) {\n    const elapsed = date - this._start;\n    const duration = this._duration;\n    const prop = this._prop;\n    const from = this._from;\n    const loop = this._loop;\n    const to = this._to;\n    let factor;\n    this._active = from !== to && (loop || (elapsed < duration));\n    if (!this._active) {\n      this._target[prop] = to;\n      this._notify(true);\n      return;\n    }\n    if (elapsed < 0) {\n      this._target[prop] = from;\n      return;\n    }\n    factor = (elapsed / duration) % 2;\n    factor = loop && factor > 1 ? 2 - factor : factor;\n    factor = this._easing(Math.min(1, Math.max(0, factor)));\n    this._target[prop] = this._fn(from, to, factor);\n  }\n  wait() {\n    const promises = this._promises || (this._promises = []);\n    return new Promise((res, rej) => {\n      promises.push({res, rej});\n    });\n  }\n  _notify(resolved) {\n    const method = resolved ? 'res' : 'rej';\n    const promises = this._promises || [];\n    for (let i = 0; i < promises.length; i++) {\n      promises[i][method]();\n    }\n  }\n}\n\nconst numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\nconst colors = ['color', 'borderColor', 'backgroundColor'];\ndefaults.set('animation', {\n  delay: undefined,\n  duration: 1000,\n  easing: 'easeOutQuart',\n  fn: undefined,\n  from: undefined,\n  loop: undefined,\n  to: undefined,\n  type: undefined,\n});\nconst animationOptions = Object.keys(defaults.animation);\ndefaults.describe('animation', {\n  _fallback: false,\n  _indexable: false,\n  _scriptable: (name) => name !== 'onProgress' && name !== 'onComplete' && name !== 'fn',\n});\ndefaults.set('animations', {\n  colors: {\n    type: 'color',\n    properties: colors\n  },\n  numbers: {\n    type: 'number',\n    properties: numbers\n  },\n});\ndefaults.describe('animations', {\n  _fallback: 'animation',\n});\ndefaults.set('transitions', {\n  active: {\n    animation: {\n      duration: 400\n    }\n  },\n  resize: {\n    animation: {\n      duration: 0\n    }\n  },\n  show: {\n    animations: {\n      colors: {\n        from: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        duration: 0\n      },\n    }\n  },\n  hide: {\n    animations: {\n      colors: {\n        to: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        easing: 'linear',\n        fn: v => v | 0\n      },\n    }\n  }\n});\nclass Animations {\n  constructor(chart, config) {\n    this._chart = chart;\n    this._properties = new Map();\n    this.configure(config);\n  }\n  configure(config) {\n    if (!isObject(config)) {\n      return;\n    }\n    const animatedProps = this._properties;\n    Object.getOwnPropertyNames(config).forEach(key => {\n      const cfg = config[key];\n      if (!isObject(cfg)) {\n        return;\n      }\n      const resolved = {};\n      for (const option of animationOptions) {\n        resolved[option] = cfg[option];\n      }\n      (isArray(cfg.properties) && cfg.properties || [key]).forEach((prop) => {\n        if (prop === key || !animatedProps.has(prop)) {\n          animatedProps.set(prop, resolved);\n        }\n      });\n    });\n  }\n  _animateOptions(target, values) {\n    const newOptions = values.options;\n    const options = resolveTargetOptions(target, newOptions);\n    if (!options) {\n      return [];\n    }\n    const animations = this._createAnimations(options, newOptions);\n    if (newOptions.$shared) {\n      awaitAll(target.options.$animations, newOptions).then(() => {\n        target.options = newOptions;\n      }, () => {\n      });\n    }\n    return animations;\n  }\n  _createAnimations(target, values) {\n    const animatedProps = this._properties;\n    const animations = [];\n    const running = target.$animations || (target.$animations = {});\n    const props = Object.keys(values);\n    const date = Date.now();\n    let i;\n    for (i = props.length - 1; i >= 0; --i) {\n      const prop = props[i];\n      if (prop.charAt(0) === '$') {\n        continue;\n      }\n      if (prop === 'options') {\n        animations.push(...this._animateOptions(target, values));\n        continue;\n      }\n      const value = values[prop];\n      let animation = running[prop];\n      const cfg = animatedProps.get(prop);\n      if (animation) {\n        if (cfg && animation.active()) {\n          animation.update(cfg, value, date);\n          continue;\n        } else {\n          animation.cancel();\n        }\n      }\n      if (!cfg || !cfg.duration) {\n        target[prop] = value;\n        continue;\n      }\n      running[prop] = animation = new Animation(cfg, target, prop, value);\n      animations.push(animation);\n    }\n    return animations;\n  }\n  update(target, values) {\n    if (this._properties.size === 0) {\n      Object.assign(target, values);\n      return;\n    }\n    const animations = this._createAnimations(target, values);\n    if (animations.length) {\n      animator.add(this._chart, animations);\n      return true;\n    }\n  }\n}\nfunction awaitAll(animations, properties) {\n  const running = [];\n  const keys = Object.keys(properties);\n  for (let i = 0; i < keys.length; i++) {\n    const anim = animations[keys[i]];\n    if (anim && anim.active()) {\n      running.push(anim.wait());\n    }\n  }\n  return Promise.all(running);\n}\nfunction resolveTargetOptions(target, newOptions) {\n  if (!newOptions) {\n    return;\n  }\n  let options = target.options;\n  if (!options) {\n    target.options = newOptions;\n    return;\n  }\n  if (options.$shared) {\n    target.options = options = Object.assign({}, options, {$shared: false, $animations: {}});\n  }\n  return options;\n}\n\nfunction scaleClip(scale, allowedOverflow) {\n  const opts = scale && scale.options || {};\n  const reverse = opts.reverse;\n  const min = opts.min === undefined ? allowedOverflow : 0;\n  const max = opts.max === undefined ? allowedOverflow : 0;\n  return {\n    start: reverse ? max : min,\n    end: reverse ? min : max\n  };\n}\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n  if (allowedOverflow === false) {\n    return false;\n  }\n  const x = scaleClip(xScale, allowedOverflow);\n  const y = scaleClip(yScale, allowedOverflow);\n  return {\n    top: y.end,\n    right: x.end,\n    bottom: y.start,\n    left: x.start\n  };\n}\nfunction toClip(value) {\n  let t, r, b, l;\n  if (isObject(value)) {\n    t = value.top;\n    r = value.right;\n    b = value.bottom;\n    l = value.left;\n  } else {\n    t = r = b = l = value;\n  }\n  return {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l,\n    disabled: value === false\n  };\n}\nfunction getSortedDatasetIndices(chart, filterVisible) {\n  const keys = [];\n  const metasets = chart._getSortedDatasetMetas(filterVisible);\n  let i, ilen;\n  for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n    keys.push(metasets[i].index);\n  }\n  return keys;\n}\nfunction applyStack(stack, value, dsIndex, options = {}) {\n  const keys = stack.keys;\n  const singleMode = options.mode === 'single';\n  let i, ilen, datasetIndex, otherValue;\n  if (value === null) {\n    return;\n  }\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    datasetIndex = +keys[i];\n    if (datasetIndex === dsIndex) {\n      if (options.all) {\n        continue;\n      }\n      break;\n    }\n    otherValue = stack.values[datasetIndex];\n    if (isNumberFinite(otherValue) && (singleMode || (value === 0 || sign(value) === sign(otherValue)))) {\n      value += otherValue;\n    }\n  }\n  return value;\n}\nfunction convertObjectDataToArray(data) {\n  const keys = Object.keys(data);\n  const adata = new Array(keys.length);\n  let i, ilen, key;\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    key = keys[i];\n    adata[i] = {\n      x: key,\n      y: data[key]\n    };\n  }\n  return adata;\n}\nfunction isStacked(scale, meta) {\n  const stacked = scale && scale.options.stacked;\n  return stacked || (stacked === undefined && meta.stack !== undefined);\n}\nfunction getStackKey(indexScale, valueScale, meta) {\n  return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\nfunction getUserBounds(scale) {\n  const {min, max, minDefined, maxDefined} = scale.getUserBounds();\n  return {\n    min: minDefined ? min : Number.NEGATIVE_INFINITY,\n    max: maxDefined ? max : Number.POSITIVE_INFINITY\n  };\n}\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n  const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n  return subStack[indexValue] || (subStack[indexValue] = {});\n}\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n  for (const meta of vScale.getMatchingVisibleMetas(type).reverse()) {\n    const value = stack[meta.index];\n    if ((positive && value > 0) || (!positive && value < 0)) {\n      return meta.index;\n    }\n  }\n  return null;\n}\nfunction updateStacks(controller, parsed) {\n  const {chart, _cachedMeta: meta} = controller;\n  const stacks = chart._stacks || (chart._stacks = {});\n  const {iScale, vScale, index: datasetIndex} = meta;\n  const iAxis = iScale.axis;\n  const vAxis = vScale.axis;\n  const key = getStackKey(iScale, vScale, meta);\n  const ilen = parsed.length;\n  let stack;\n  for (let i = 0; i < ilen; ++i) {\n    const item = parsed[i];\n    const {[iAxis]: index, [vAxis]: value} = item;\n    const itemStacks = item._stacks || (item._stacks = {});\n    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n    stack[datasetIndex] = value;\n    stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n    stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n  }\n}\nfunction getFirstScaleId(chart, axis) {\n  const scales = chart.scales;\n  return Object.keys(scales).filter(key => scales[key].axis === axis).shift();\n}\nfunction createDatasetContext(parent, index) {\n  return createContext(parent,\n    {\n      active: false,\n      dataset: undefined,\n      datasetIndex: index,\n      index,\n      mode: 'default',\n      type: 'dataset'\n    }\n  );\n}\nfunction createDataContext(parent, index, element) {\n  return createContext(parent, {\n    active: false,\n    dataIndex: index,\n    parsed: undefined,\n    raw: undefined,\n    element,\n    index,\n    mode: 'default',\n    type: 'data'\n  });\n}\nfunction clearStacks(meta, items) {\n  const datasetIndex = meta.controller.index;\n  const axis = meta.vScale && meta.vScale.axis;\n  if (!axis) {\n    return;\n  }\n  items = items || meta._parsed;\n  for (const parsed of items) {\n    const stacks = parsed._stacks;\n    if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n      return;\n    }\n    delete stacks[axis][datasetIndex];\n  }\n}\nconst isDirectUpdateMode = (mode) => mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared) => shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart) => canStack && !meta.hidden && meta._stacked\n  && {keys: getSortedDatasetIndices(chart, true), values: null};\nclass DatasetController {\n  constructor(chart, datasetIndex) {\n    this.chart = chart;\n    this._ctx = chart.ctx;\n    this.index = datasetIndex;\n    this._cachedDataOpts = {};\n    this._cachedMeta = this.getMeta();\n    this._type = this._cachedMeta.type;\n    this.options = undefined;\n    this._parsing = false;\n    this._data = undefined;\n    this._objectData = undefined;\n    this._sharedOptions = undefined;\n    this._drawStart = undefined;\n    this._drawCount = undefined;\n    this.enableOptionSharing = false;\n    this.$context = undefined;\n    this._syncList = [];\n    this.initialize();\n  }\n  initialize() {\n    const meta = this._cachedMeta;\n    this.configure();\n    this.linkScales();\n    meta._stacked = isStacked(meta.vScale, meta);\n    this.addElements();\n  }\n  updateIndex(datasetIndex) {\n    if (this.index !== datasetIndex) {\n      clearStacks(this._cachedMeta);\n    }\n    this.index = datasetIndex;\n  }\n  linkScales() {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    const chooseId = (axis, x, y, r) => axis === 'x' ? x : axis === 'r' ? r : y;\n    const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n    const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n    const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n    const indexAxis = meta.indexAxis;\n    const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n    const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n    meta.xScale = this.getScaleForId(xid);\n    meta.yScale = this.getScaleForId(yid);\n    meta.rScale = this.getScaleForId(rid);\n    meta.iScale = this.getScaleForId(iid);\n    meta.vScale = this.getScaleForId(vid);\n  }\n  getDataset() {\n    return this.chart.data.datasets[this.index];\n  }\n  getMeta() {\n    return this.chart.getDatasetMeta(this.index);\n  }\n  getScaleForId(scaleID) {\n    return this.chart.scales[scaleID];\n  }\n  _getOtherScale(scale) {\n    const meta = this._cachedMeta;\n    return scale === meta.iScale\n      ? meta.vScale\n      : meta.iScale;\n  }\n  reset() {\n    this._update('reset');\n  }\n  _destroy() {\n    const meta = this._cachedMeta;\n    if (this._data) {\n      unlistenArrayEvents(this._data, this);\n    }\n    if (meta._stacked) {\n      clearStacks(meta);\n    }\n  }\n  _dataCheck() {\n    const dataset = this.getDataset();\n    const data = dataset.data || (dataset.data = []);\n    const _data = this._data;\n    if (isObject(data)) {\n      this._data = convertObjectDataToArray(data);\n    } else if (_data !== data) {\n      if (_data) {\n        unlistenArrayEvents(_data, this);\n        const meta = this._cachedMeta;\n        clearStacks(meta);\n        meta._parsed = [];\n      }\n      if (data && Object.isExtensible(data)) {\n        listenArrayEvents(data, this);\n      }\n      this._syncList = [];\n      this._data = data;\n    }\n  }\n  addElements() {\n    const meta = this._cachedMeta;\n    this._dataCheck();\n    if (this.datasetElementType) {\n      meta.dataset = new this.datasetElementType();\n    }\n  }\n  buildOrUpdateElements(resetNewElements) {\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    let stackChanged = false;\n    this._dataCheck();\n    const oldStacked = meta._stacked;\n    meta._stacked = isStacked(meta.vScale, meta);\n    if (meta.stack !== dataset.stack) {\n      stackChanged = true;\n      clearStacks(meta);\n      meta.stack = dataset.stack;\n    }\n    this._resyncElements(resetNewElements);\n    if (stackChanged || oldStacked !== meta._stacked) {\n      updateStacks(this, meta._parsed);\n    }\n  }\n  configure() {\n    const config = this.chart.config;\n    const scopeKeys = config.datasetScopeKeys(this._type);\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n    this.options = config.createResolver(scopes, this.getContext());\n    this._parsing = this.options.parsing;\n  }\n  parse(start, count) {\n    const {_cachedMeta: meta, _data: data} = this;\n    const {iScale, _stacked} = meta;\n    const iAxis = iScale.axis;\n    let sorted = start === 0 && count === data.length ? true : meta._sorted;\n    let prev = start > 0 && meta._parsed[start - 1];\n    let i, cur, parsed;\n    if (this._parsing === false) {\n      meta._parsed = data;\n      meta._sorted = true;\n      parsed = data;\n    } else {\n      if (isArray(data[start])) {\n        parsed = this.parseArrayData(meta, data, start, count);\n      } else if (isObject(data[start])) {\n        parsed = this.parseObjectData(meta, data, start, count);\n      } else {\n        parsed = this.parsePrimitiveData(meta, data, start, count);\n      }\n      const isNotInOrderComparedToPrev = () => cur[iAxis] === null || (prev && cur[iAxis] < prev[iAxis]);\n      for (i = 0; i < count; ++i) {\n        meta._parsed[i + start] = cur = parsed[i];\n        if (sorted) {\n          if (isNotInOrderComparedToPrev()) {\n            sorted = false;\n          }\n          prev = cur;\n        }\n      }\n      meta._sorted = sorted;\n    }\n    if (_stacked) {\n      updateStacks(this, parsed);\n    }\n  }\n  parsePrimitiveData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = new Array(count);\n    let i, ilen, index;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      parsed[i] = {\n        [iAxis]: singleScale || iScale.parse(labels[index], index),\n        [vAxis]: vScale.parse(data[index], index)\n      };\n    }\n    return parsed;\n  }\n  parseArrayData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(item[0], index),\n        y: yScale.parse(item[1], index)\n      };\n    }\n    return parsed;\n  }\n  parseObjectData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n        y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n      };\n    }\n    return parsed;\n  }\n  getParsed(index) {\n    return this._cachedMeta._parsed[index];\n  }\n  getDataElement(index) {\n    return this._cachedMeta.data[index];\n  }\n  applyStack(scale, parsed, mode) {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const value = parsed[scale.axis];\n    const stack = {\n      keys: getSortedDatasetIndices(chart, true),\n      values: parsed._stacks[scale.axis]\n    };\n    return applyStack(stack, value, meta.index, {mode});\n  }\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    const parsedValue = parsed[scale.axis];\n    let value = parsedValue === null ? NaN : parsedValue;\n    const values = stack && parsed._stacks[scale.axis];\n    if (stack && values) {\n      stack.values = values;\n      value = applyStack(stack, parsedValue, this._cachedMeta.index);\n    }\n    range.min = Math.min(range.min, value);\n    range.max = Math.max(range.max, value);\n  }\n  getMinMax(scale, canStack) {\n    const meta = this._cachedMeta;\n    const _parsed = meta._parsed;\n    const sorted = meta._sorted && scale === meta.iScale;\n    const ilen = _parsed.length;\n    const otherScale = this._getOtherScale(scale);\n    const stack = createStack(canStack, meta, this.chart);\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n    const {min: otherMin, max: otherMax} = getUserBounds(otherScale);\n    let i, parsed;\n    function _skip() {\n      parsed = _parsed[i];\n      const otherValue = parsed[otherScale.axis];\n      return !isNumberFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n    }\n    for (i = 0; i < ilen; ++i) {\n      if (_skip()) {\n        continue;\n      }\n      this.updateRangeFromParsed(range, scale, parsed, stack);\n      if (sorted) {\n        break;\n      }\n    }\n    if (sorted) {\n      for (i = ilen - 1; i >= 0; --i) {\n        if (_skip()) {\n          continue;\n        }\n        this.updateRangeFromParsed(range, scale, parsed, stack);\n        break;\n      }\n    }\n    return range;\n  }\n  getAllParsedValues(scale) {\n    const parsed = this._cachedMeta._parsed;\n    const values = [];\n    let i, ilen, value;\n    for (i = 0, ilen = parsed.length; i < ilen; ++i) {\n      value = parsed[i][scale.axis];\n      if (isNumberFinite(value)) {\n        values.push(value);\n      }\n    }\n    return values;\n  }\n  getMaxOverflow() {\n    return false;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n      value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n    };\n  }\n  _update(mode) {\n    const meta = this._cachedMeta;\n    this.configure();\n    this._cachedDataOpts = {};\n    this.update(mode || 'default');\n    meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n  }\n  update(mode) {}\n  draw() {\n    const ctx = this._ctx;\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const elements = meta.data || [];\n    const area = chart.chartArea;\n    const active = [];\n    const start = this._drawStart || 0;\n    const count = this._drawCount || (elements.length - start);\n    let i;\n    if (meta.dataset) {\n      meta.dataset.draw(ctx, area, start, count);\n    }\n    for (i = start; i < start + count; ++i) {\n      const element = elements[i];\n      if (element.hidden) {\n        continue;\n      }\n      if (element.active) {\n        active.push(element);\n      } else {\n        element.draw(ctx, area);\n      }\n    }\n    for (i = 0; i < active.length; ++i) {\n      active[i].draw(ctx, area);\n    }\n  }\n  getStyle(index, active) {\n    const mode = active ? 'active' : 'default';\n    return index === undefined && this._cachedMeta.dataset\n      ? this.resolveDatasetElementOptions(mode)\n      : this.resolveDataElementOptions(index || 0, mode);\n  }\n  getContext(index, active, mode) {\n    const dataset = this.getDataset();\n    let context;\n    if (index >= 0 && index < this._cachedMeta.data.length) {\n      const element = this._cachedMeta.data[index];\n      context = element.$context ||\n        (element.$context = createDataContext(this.getContext(), index, element));\n      context.parsed = this.getParsed(index);\n      context.raw = dataset.data[index];\n      context.index = context.dataIndex = index;\n    } else {\n      context = this.$context ||\n        (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n      context.dataset = dataset;\n      context.index = context.datasetIndex = this.index;\n    }\n    context.active = !!active;\n    context.mode = mode;\n    return context;\n  }\n  resolveDatasetElementOptions(mode) {\n    return this._resolveElementOptions(this.datasetElementType.id, mode);\n  }\n  resolveDataElementOptions(index, mode) {\n    return this._resolveElementOptions(this.dataElementType.id, mode, index);\n  }\n  _resolveElementOptions(elementType, mode = 'default', index) {\n    const active = mode === 'active';\n    const cache = this._cachedDataOpts;\n    const cacheKey = elementType + '-' + mode;\n    const cached = cache[cacheKey];\n    const sharing = this.enableOptionSharing && defined(index);\n    if (cached) {\n      return cloneIfNotShared(cached, sharing);\n    }\n    const config = this.chart.config;\n    const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n    const prefixes = active ? [`${elementType}Hover`, 'hover', elementType, ''] : [elementType, ''];\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n    const names = Object.keys(defaults.elements[elementType]);\n    const context = () => this.getContext(index, active);\n    const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n    if (values.$shared) {\n      values.$shared = sharing;\n      cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n    }\n    return values;\n  }\n  _resolveAnimations(index, transition, active) {\n    const chart = this.chart;\n    const cache = this._cachedDataOpts;\n    const cacheKey = `animation-${transition}`;\n    const cached = cache[cacheKey];\n    if (cached) {\n      return cached;\n    }\n    let options;\n    if (chart.options.animation !== false) {\n      const config = this.chart.config;\n      const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n      const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n      options = config.createResolver(scopes, this.getContext(index, active, transition));\n    }\n    const animations = new Animations(chart, options && options.animations);\n    if (options && options._cacheable) {\n      cache[cacheKey] = Object.freeze(animations);\n    }\n    return animations;\n  }\n  getSharedOptions(options) {\n    if (!options.$shared) {\n      return;\n    }\n    return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n  }\n  includeOptions(mode, sharedOptions) {\n    return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n  }\n  updateElement(element, index, properties, mode) {\n    if (isDirectUpdateMode(mode)) {\n      Object.assign(element, properties);\n    } else {\n      this._resolveAnimations(index, mode).update(element, properties);\n    }\n  }\n  updateSharedOptions(sharedOptions, mode, newOptions) {\n    if (sharedOptions && !isDirectUpdateMode(mode)) {\n      this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n    }\n  }\n  _setStyle(element, index, mode, active) {\n    element.active = active;\n    const options = this.getStyle(index, active);\n    this._resolveAnimations(index, mode, active).update(element, {\n      options: (!active && this.getSharedOptions(options)) || options\n    });\n  }\n  removeHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', false);\n  }\n  setHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', true);\n  }\n  _removeDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n    if (element) {\n      this._setStyle(element, undefined, 'active', false);\n    }\n  }\n  _setDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n    if (element) {\n      this._setStyle(element, undefined, 'active', true);\n    }\n  }\n  _resyncElements(resetNewElements) {\n    const data = this._data;\n    const elements = this._cachedMeta.data;\n    for (const [method, arg1, arg2] of this._syncList) {\n      this[method](arg1, arg2);\n    }\n    this._syncList = [];\n    const numMeta = elements.length;\n    const numData = data.length;\n    const count = Math.min(numData, numMeta);\n    if (count) {\n      this.parse(0, count);\n    }\n    if (numData > numMeta) {\n      this._insertElements(numMeta, numData - numMeta, resetNewElements);\n    } else if (numData < numMeta) {\n      this._removeElements(numData, numMeta - numData);\n    }\n  }\n  _insertElements(start, count, resetNewElements = true) {\n    const meta = this._cachedMeta;\n    const data = meta.data;\n    const end = start + count;\n    let i;\n    const move = (arr) => {\n      arr.length += count;\n      for (i = arr.length - 1; i >= end; i--) {\n        arr[i] = arr[i - count];\n      }\n    };\n    move(data);\n    for (i = start; i < end; ++i) {\n      data[i] = new this.dataElementType();\n    }\n    if (this._parsing) {\n      move(meta._parsed);\n    }\n    this.parse(start, count);\n    if (resetNewElements) {\n      this.updateElements(data, start, count, 'reset');\n    }\n  }\n  updateElements(element, start, count, mode) {}\n  _removeElements(start, count) {\n    const meta = this._cachedMeta;\n    if (this._parsing) {\n      const removed = meta._parsed.splice(start, count);\n      if (meta._stacked) {\n        clearStacks(meta, removed);\n      }\n    }\n    meta.data.splice(start, count);\n  }\n  _sync(args) {\n    if (this._parsing) {\n      this._syncList.push(args);\n    } else {\n      const [method, arg1, arg2] = args;\n      this[method](arg1, arg2);\n    }\n  }\n  _onDataPush() {\n    const count = arguments.length;\n    this._sync(['_insertElements', this.getDataset().data.length - count, count]);\n  }\n  _onDataPop() {\n    this._sync(['_removeElements', this._cachedMeta.data.length - 1, 1]);\n  }\n  _onDataShift() {\n    this._sync(['_removeElements', 0, 1]);\n  }\n  _onDataSplice(start, count) {\n    this._sync(['_removeElements', start, count]);\n    this._sync(['_insertElements', start, arguments.length - 2]);\n  }\n  _onDataUnshift() {\n    this._sync(['_insertElements', 0, arguments.length]);\n  }\n}\nDatasetController.defaults = {};\nDatasetController.prototype.datasetElementType = null;\nDatasetController.prototype.dataElementType = null;\n\nfunction getAllScaleValues(scale, type) {\n  if (!scale._cache.$bar) {\n    const visibleMetas = scale.getMatchingVisibleMetas(type);\n    let values = [];\n    for (let i = 0, ilen = visibleMetas.length; i < ilen; i++) {\n      values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n    }\n    scale._cache.$bar = _arrayUnique(values.sort((a, b) => a - b));\n  }\n  return scale._cache.$bar;\n}\nfunction computeMinSampleSize(meta) {\n  const scale = meta.iScale;\n  const values = getAllScaleValues(scale, meta.type);\n  let min = scale._length;\n  let i, ilen, curr, prev;\n  const updateMinAndPrev = () => {\n    if (curr === 32767 || curr === -32768) {\n      return;\n    }\n    if (defined(prev)) {\n      min = Math.min(min, Math.abs(curr - prev) || min);\n    }\n    prev = curr;\n  };\n  for (i = 0, ilen = values.length; i < ilen; ++i) {\n    curr = scale.getPixelForValue(values[i]);\n    updateMinAndPrev();\n  }\n  prev = undefined;\n  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {\n    curr = scale.getPixelForTick(i);\n    updateMinAndPrev();\n  }\n  return min;\n}\nfunction computeFitCategoryTraits(index, ruler, options, stackCount) {\n  const thickness = options.barThickness;\n  let size, ratio;\n  if (isNullOrUndef(thickness)) {\n    size = ruler.min * options.categoryPercentage;\n    ratio = options.barPercentage;\n  } else {\n    size = thickness * stackCount;\n    ratio = 1;\n  }\n  return {\n    chunk: size / stackCount,\n    ratio,\n    start: ruler.pixels[index] - (size / 2)\n  };\n}\nfunction computeFlexCategoryTraits(index, ruler, options, stackCount) {\n  const pixels = ruler.pixels;\n  const curr = pixels[index];\n  let prev = index > 0 ? pixels[index - 1] : null;\n  let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n  const percent = options.categoryPercentage;\n  if (prev === null) {\n    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n  }\n  if (next === null) {\n    next = curr + curr - prev;\n  }\n  const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n  const size = Math.abs(next - prev) / 2 * percent;\n  return {\n    chunk: size / stackCount,\n    ratio: options.barPercentage,\n    start\n  };\n}\nfunction parseFloatBar(entry, item, vScale, i) {\n  const startValue = vScale.parse(entry[0], i);\n  const endValue = vScale.parse(entry[1], i);\n  const min = Math.min(startValue, endValue);\n  const max = Math.max(startValue, endValue);\n  let barStart = min;\n  let barEnd = max;\n  if (Math.abs(min) > Math.abs(max)) {\n    barStart = max;\n    barEnd = min;\n  }\n  item[vScale.axis] = barEnd;\n  item._custom = {\n    barStart,\n    barEnd,\n    start: startValue,\n    end: endValue,\n    min,\n    max\n  };\n}\nfunction parseValue(entry, item, vScale, i) {\n  if (isArray(entry)) {\n    parseFloatBar(entry, item, vScale, i);\n  } else {\n    item[vScale.axis] = vScale.parse(entry, i);\n  }\n  return item;\n}\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n  const iScale = meta.iScale;\n  const vScale = meta.vScale;\n  const labels = iScale.getLabels();\n  const singleScale = iScale === vScale;\n  const parsed = [];\n  let i, ilen, item, entry;\n  for (i = start, ilen = start + count; i < ilen; ++i) {\n    entry = data[i];\n    item = {};\n    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n    parsed.push(parseValue(entry, item, vScale, i));\n  }\n  return parsed;\n}\nfunction isFloatBar(custom) {\n  return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\nfunction barSign(size, vScale, actualBase) {\n  if (size !== 0) {\n    return sign(size);\n  }\n  return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\nfunction borderProps(properties) {\n  let reverse, start, end, top, bottom;\n  if (properties.horizontal) {\n    reverse = properties.base > properties.x;\n    start = 'left';\n    end = 'right';\n  } else {\n    reverse = properties.base < properties.y;\n    start = 'bottom';\n    end = 'top';\n  }\n  if (reverse) {\n    top = 'end';\n    bottom = 'start';\n  } else {\n    top = 'start';\n    bottom = 'end';\n  }\n  return {start, end, reverse, top, bottom};\n}\nfunction setBorderSkipped(properties, options, stack, index) {\n  let edge = options.borderSkipped;\n  const res = {};\n  if (!edge) {\n    properties.borderSkipped = res;\n    return;\n  }\n  const {start, end, reverse, top, bottom} = borderProps(properties);\n  if (edge === 'middle' && stack) {\n    properties.enableBorderRadius = true;\n    if ((stack._top || 0) === index) {\n      edge = top;\n    } else if ((stack._bottom || 0) === index) {\n      edge = bottom;\n    } else {\n      res[parseEdge(bottom, start, end, reverse)] = true;\n      edge = top;\n    }\n  }\n  res[parseEdge(edge, start, end, reverse)] = true;\n  properties.borderSkipped = res;\n}\nfunction parseEdge(edge, a, b, reverse) {\n  if (reverse) {\n    edge = swap(edge, a, b);\n    edge = startEnd(edge, b, a);\n  } else {\n    edge = startEnd(edge, a, b);\n  }\n  return edge;\n}\nfunction swap(orig, v1, v2) {\n  return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\nfunction startEnd(v, start, end) {\n  return v === 'start' ? start : v === 'end' ? end : v;\n}\nfunction setInflateAmount(properties, {inflateAmount}, ratio) {\n  properties.inflateAmount = inflateAmount === 'auto'\n    ? ratio === 1 ? 0.33 : 0\n    : inflateAmount;\n}\nclass BarController extends DatasetController {\n  parsePrimitiveData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n  parseArrayData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n  parseObjectData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const parsed = [];\n    let i, ilen, item, obj;\n    for (i = start, ilen = start + count; i < ilen; ++i) {\n      obj = data[i];\n      item = {};\n      item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n      parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n    }\n    return parsed;\n  }\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    super.updateRangeFromParsed(range, scale, parsed, stack);\n    const custom = parsed._custom;\n    if (custom && scale === this._cachedMeta.vScale) {\n      range.min = Math.min(range.min, custom.min);\n      range.max = Math.max(range.max, custom.max);\n    }\n  }\n  getMaxOverflow() {\n    return 0;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const {iScale, vScale} = meta;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const value = isFloatBar(custom)\n      ? '[' + custom.start + ', ' + custom.end + ']'\n      : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n    return {\n      label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n      value\n    };\n  }\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n    const meta = this._cachedMeta;\n    meta.stack = this.getDataset().stack;\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    this.updateElements(meta.data, 0, meta.data.length, mode);\n  }\n  updateElements(bars, start, count, mode) {\n    const reset = mode === 'reset';\n    const {index, _cachedMeta: {vScale}} = this;\n    const base = vScale.getBasePixel();\n    const horizontal = vScale.isHorizontal();\n    const ruler = this._getRuler();\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    for (let i = start; i < start + count; i++) {\n      const parsed = this.getParsed(i);\n      const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {base, head: base} : this._calculateBarValuePixels(i);\n      const ipixels = this._calculateBarIndexPixels(i, ruler);\n      const stack = (parsed._stacks || {})[vScale.axis];\n      const properties = {\n        horizontal,\n        base: vpixels.base,\n        enableBorderRadius: !stack || isFloatBar(parsed._custom) || (index === stack._top || index === stack._bottom),\n        x: horizontal ? vpixels.head : ipixels.center,\n        y: horizontal ? ipixels.center : vpixels.head,\n        height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n        width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n      }\n      const options = properties.options || bars[i].options;\n      setBorderSkipped(properties, options, stack, index);\n      setInflateAmount(properties, options, ruler.ratio);\n      this.updateElement(bars[i], i, properties, mode);\n    }\n  }\n  _getStacks(last, dataIndex) {\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const metasets = iScale.getMatchingVisibleMetas(this._type);\n    const stacked = iScale.options.stacked;\n    const ilen = metasets.length;\n    const stacks = [];\n    let i, item;\n    for (i = 0; i < ilen; ++i) {\n      item = metasets[i];\n      if (!item.controller.options.grouped) {\n        continue;\n      }\n      if (typeof dataIndex !== 'undefined') {\n        const val = item.controller.getParsed(dataIndex)[\n          item.controller._cachedMeta.vScale.axis\n        ];\n        if (isNullOrUndef(val) || isNaN(val)) {\n          continue;\n        }\n      }\n      if (stacked === false || stacks.indexOf(item.stack) === -1 ||\n\t\t\t\t(stacked === undefined && item.stack === undefined)) {\n        stacks.push(item.stack);\n      }\n      if (item.index === last) {\n        break;\n      }\n    }\n    if (!stacks.length) {\n      stacks.push(undefined);\n    }\n    return stacks;\n  }\n  _getStackCount(index) {\n    return this._getStacks(undefined, index).length;\n  }\n  _getStackIndex(datasetIndex, name, dataIndex) {\n    const stacks = this._getStacks(datasetIndex, dataIndex);\n    const index = (name !== undefined)\n      ? stacks.indexOf(name)\n      : -1;\n    return (index === -1)\n      ? stacks.length - 1\n      : index;\n  }\n  _getRuler() {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const pixels = [];\n    let i, ilen;\n    for (i = 0, ilen = meta.data.length; i < ilen; ++i) {\n      pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n    }\n    const barThickness = opts.barThickness;\n    const min = barThickness || computeMinSampleSize(meta);\n    return {\n      min,\n      pixels,\n      start: iScale._startPixel,\n      end: iScale._endPixel,\n      stackCount: this._getStackCount(),\n      scale: iScale,\n      grouped: opts.grouped,\n      ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n    };\n  }\n  _calculateBarValuePixels(index) {\n    const {_cachedMeta: {vScale, _stacked}, options: {base: baseValue, minBarLength}} = this;\n    const actualBase = baseValue || 0;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const floating = isFloatBar(custom);\n    let value = parsed[vScale.axis];\n    let start = 0;\n    let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n    let head, size;\n    if (length !== value) {\n      start = length - value;\n      length = value;\n    }\n    if (floating) {\n      value = custom.barStart;\n      length = custom.barEnd - custom.barStart;\n      if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n        start = 0;\n      }\n      start += value;\n    }\n    const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n    let base = vScale.getPixelForValue(startValue);\n    if (this.chart.getDataVisibility(index)) {\n      head = vScale.getPixelForValue(start + length);\n    } else {\n      head = base;\n    }\n    size = head - base;\n    if (Math.abs(size) < minBarLength) {\n      size = barSign(size, vScale, actualBase) * minBarLength;\n      if (value === actualBase) {\n        base -= size / 2;\n      }\n      head = base + size;\n    }\n    if (base === vScale.getPixelForValue(actualBase)) {\n      const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n      base += halfGrid;\n      size -= halfGrid;\n    }\n    return {\n      size,\n      base,\n      head,\n      center: head + size / 2\n    };\n  }\n  _calculateBarIndexPixels(index, ruler) {\n    const scale = ruler.scale;\n    const options = this.options;\n    const skipNull = options.skipNull;\n    const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n    let center, size;\n    if (ruler.grouped) {\n      const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n      const range = options.barThickness === 'flex'\n        ? computeFlexCategoryTraits(index, ruler, options, stackCount)\n        : computeFitCategoryTraits(index, ruler, options, stackCount);\n      const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\n      center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);\n      size = Math.min(maxBarThickness, range.chunk * range.ratio);\n    } else {\n      center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n      size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n    }\n    return {\n      base: center - size / 2,\n      head: center + size / 2,\n      center,\n      size\n    };\n  }\n  draw() {\n    const meta = this._cachedMeta;\n    const vScale = meta.vScale;\n    const rects = meta.data;\n    const ilen = rects.length;\n    let i = 0;\n    for (; i < ilen; ++i) {\n      if (this.getParsed(i)[vScale.axis] !== null) {\n        rects[i].draw(this._ctx);\n      }\n    }\n  }\n}\nBarController.id = 'bar';\nBarController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'bar',\n  categoryPercentage: 0.8,\n  barPercentage: 0.9,\n  grouped: true,\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'base', 'width', 'height']\n    }\n  }\n};\nBarController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category',\n      offset: true,\n      grid: {\n        offset: true\n      }\n    },\n    _value_: {\n      type: 'linear',\n      beginAtZero: true,\n    }\n  }\n};\n\nclass BubbleController extends DatasetController {\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n  parsePrimitiveData(meta, data, start, count) {\n    const parsed = super.parsePrimitiveData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n    }\n    return parsed;\n  }\n  parseArrayData(meta, data, start, count) {\n    const parsed = super.parseArrayData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n  parseObjectData(meta, data, start, count) {\n    const parsed = super.parseObjectData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n  getMaxOverflow() {\n    const data = this._cachedMeta.data;\n    let max = 0;\n    for (let i = data.length - 1; i >= 0; --i) {\n      max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n    }\n    return max > 0 && max;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const {xScale, yScale} = meta;\n    const parsed = this.getParsed(index);\n    const x = xScale.getLabelForValue(parsed.x);\n    const y = yScale.getLabelForValue(parsed.y);\n    const r = parsed._custom;\n    return {\n      label: meta.label,\n      value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n    };\n  }\n  update(mode) {\n    const points = this._cachedMeta.data;\n    this.updateElements(points, 0, points.length, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale} = this._cachedMeta;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const parsed = !reset && this.getParsed(i);\n      const properties = {};\n      const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n      const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n      properties.skip = isNaN(iPixel) || isNaN(vPixel);\n      if (includeOptions) {\n        properties.options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n        if (reset) {\n          properties.options.radius = 0;\n        }\n      }\n      this.updateElement(point, i, properties, mode);\n    }\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  resolveDataElementOptions(index, mode) {\n    const parsed = this.getParsed(index);\n    let values = super.resolveDataElementOptions(index, mode);\n    if (values.$shared) {\n      values = Object.assign({}, values, {$shared: false});\n    }\n    const radius = values.radius;\n    if (mode !== 'active') {\n      values.radius = 0;\n    }\n    values.radius += valueOrDefault(parsed && parsed._custom, radius);\n    return values;\n  }\n}\nBubbleController.id = 'bubble';\nBubbleController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'point',\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'borderWidth', 'radius']\n    }\n  }\n};\nBubbleController.overrides = {\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        }\n      }\n    }\n  }\n};\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n  let ratioX = 1;\n  let ratioY = 1;\n  let offsetX = 0;\n  let offsetY = 0;\n  if (circumference < TAU) {\n    const startAngle = rotation;\n    const endAngle = startAngle + circumference;\n    const startX = Math.cos(startAngle);\n    const startY = Math.sin(startAngle);\n    const endX = Math.cos(endAngle);\n    const endY = Math.sin(endAngle);\n    const calcMax = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n    const calcMin = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n    const maxX = calcMax(0, startX, endX);\n    const maxY = calcMax(HALF_PI, startY, endY);\n    const minX = calcMin(PI, startX, endX);\n    const minY = calcMin(PI + HALF_PI, startY, endY);\n    ratioX = (maxX - minX) / 2;\n    ratioY = (maxY - minY) / 2;\n    offsetX = -(maxX + minX) / 2;\n    offsetY = -(maxY + minY) / 2;\n  }\n  return {ratioX, ratioY, offsetX, offsetY};\n}\nclass DoughnutController extends DatasetController {\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n    this.enableOptionSharing = true;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.offsetX = undefined;\n    this.offsetY = undefined;\n  }\n  linkScales() {}\n  parse(start, count) {\n    const data = this.getDataset().data;\n    const meta = this._cachedMeta;\n    if (this._parsing === false) {\n      meta._parsed = data;\n    } else {\n      let getter = (i) => +data[i];\n      if (isObject(data[start])) {\n        const {key = 'value'} = this._parsing;\n        getter = (i) => +resolveObjectKey(data[i], key);\n      }\n      let i, ilen;\n      for (i = start, ilen = start + count; i < ilen; ++i) {\n        meta._parsed[i] = getter(i);\n      }\n    }\n  }\n  _getRotation() {\n    return toRadians(this.options.rotation - 90);\n  }\n  _getCircumference() {\n    return toRadians(this.options.circumference);\n  }\n  _getRotationExtents() {\n    let min = TAU;\n    let max = -TAU;\n    for (let i = 0; i < this.chart.data.datasets.length; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        const controller = this.chart.getDatasetMeta(i).controller;\n        const rotation = controller._getRotation();\n        const circumference = controller._getCircumference();\n        min = Math.min(min, rotation);\n        max = Math.max(max, rotation + circumference);\n      }\n    }\n    return {\n      rotation: min,\n      circumference: max - min,\n    };\n  }\n  update(mode) {\n    const chart = this.chart;\n    const {chartArea} = chart;\n    const meta = this._cachedMeta;\n    const arcs = meta.data;\n    const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n    const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n    const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n    const chartWeight = this._getRingWeight(this.index);\n    const {circumference, rotation} = this._getRotationExtents();\n    const {ratioX, ratioY, offsetX, offsetY} = getRatioAndOffset(rotation, circumference, cutout);\n    const maxWidth = (chartArea.width - spacing) / ratioX;\n    const maxHeight = (chartArea.height - spacing) / ratioY;\n    const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n    const outerRadius = toDimension(this.options.radius, maxRadius);\n    const innerRadius = Math.max(outerRadius * cutout, 0);\n    const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n    this.offsetX = offsetX * outerRadius;\n    this.offsetY = offsetY * outerRadius;\n    meta.total = this.calculateTotal();\n    this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n    this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n  _circumference(i, reset) {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const circumference = this._getCircumference();\n    if ((reset && opts.animation.animateRotate) || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n      return 0;\n    }\n    return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n  }\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const centerX = (chartArea.left + chartArea.right) / 2;\n    const centerY = (chartArea.top + chartArea.bottom) / 2;\n    const animateScale = reset && animationOpts.animateScale;\n    const innerRadius = animateScale ? 0 : this.innerRadius;\n    const outerRadius = animateScale ? 0 : this.outerRadius;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    let startAngle = this._getRotation();\n    let i;\n    for (i = 0; i < start; ++i) {\n      startAngle += this._circumference(i, reset);\n    }\n    for (i = start; i < start + count; ++i) {\n      const circumference = this._circumference(i, reset);\n      const arc = arcs[i];\n      const properties = {\n        x: centerX + this.offsetX,\n        y: centerY + this.offsetY,\n        startAngle,\n        endAngle: startAngle + circumference,\n        circumference,\n        outerRadius,\n        innerRadius\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n      }\n      startAngle += circumference;\n      this.updateElement(arc, i, properties, mode);\n    }\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  calculateTotal() {\n    const meta = this._cachedMeta;\n    const metaData = meta.data;\n    let total = 0;\n    let i;\n    for (i = 0; i < metaData.length; i++) {\n      const value = meta._parsed[i];\n      if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n        total += Math.abs(value);\n      }\n    }\n    return total;\n  }\n  calculateCircumference(value) {\n    const total = this._cachedMeta.total;\n    if (total > 0 && !isNaN(value)) {\n      return TAU * (Math.abs(value) / total);\n    }\n    return 0;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index], chart.options.locale);\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n  getMaxBorderWidth(arcs) {\n    let max = 0;\n    const chart = this.chart;\n    let i, ilen, meta, controller, options;\n    if (!arcs) {\n      for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\n        if (chart.isDatasetVisible(i)) {\n          meta = chart.getDatasetMeta(i);\n          arcs = meta.data;\n          controller = meta.controller;\n          if (controller !== this) {\n            controller.configure();\n          }\n          break;\n        }\n      }\n    }\n    if (!arcs) {\n      return 0;\n    }\n    for (i = 0, ilen = arcs.length; i < ilen; ++i) {\n      options = controller.resolveDataElementOptions(i);\n      if (options.borderAlign !== 'inner') {\n        max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n      }\n    }\n    return max;\n  }\n  getMaxOffset(arcs) {\n    let max = 0;\n    for (let i = 0, ilen = arcs.length; i < ilen; ++i) {\n      const options = this.resolveDataElementOptions(i);\n      max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n    }\n    return max;\n  }\n  _getRingWeightOffset(datasetIndex) {\n    let ringWeightOffset = 0;\n    for (let i = 0; i < datasetIndex; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        ringWeightOffset += this._getRingWeight(i);\n      }\n    }\n    return ringWeightOffset;\n  }\n  _getRingWeight(datasetIndex) {\n    return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n  }\n  _getVisibleDatasetWeightTotal() {\n    return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n  }\n}\nDoughnutController.id = 'doughnut';\nDoughnutController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: false\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth', 'spacing']\n    },\n  },\n  cutout: '50%',\n  rotation: 0,\n  circumference: 360,\n  radius: '100%',\n  spacing: 0,\n  indexAxis: 'r',\n};\nDoughnutController.descriptors = {\n  _scriptable: (name) => name !== 'spacing',\n  _indexable: (name) => name !== 'spacing',\n};\nDoughnutController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels(chart) {\n          const data = chart.data;\n          if (data.labels.length && data.datasets.length) {\n            const {labels: {pointStyle}} = chart.legend.options;\n            return data.labels.map((label, i) => {\n              const meta = chart.getDatasetMeta(0);\n              const style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                pointStyle: pointStyle,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n          return [];\n        }\n      },\n      onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(tooltipItem) {\n          let dataLabel = tooltipItem.label;\n          const value = ': ' + tooltipItem.formattedValue;\n          if (isArray(dataLabel)) {\n            dataLabel = dataLabel.slice();\n            dataLabel[0] += value;\n          } else {\n            dataLabel += value;\n          }\n          return dataLabel;\n        }\n      }\n    }\n  }\n};\n\nclass LineController extends DatasetController {\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {dataset: line, data: points = [], _dataset} = meta;\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n    this._drawStart = start;\n    this._drawCount = count;\n    if (scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n    line._chart = this.chart;\n    line._datasetIndex = this.index;\n    line._decimated = !!_dataset._decimated;\n    line.points = points;\n    const options = this.resolveDatasetElementOptions(mode);\n    if (!this.options.showLine) {\n      options.borderWidth = 0;\n    }\n    options.segment = this.options.segment;\n    this.updateElement(line, undefined, {\n      animated: !animationsDisabled,\n      options\n    }, mode);\n    this.updateElements(points, start, count, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n    for (let i = start; i < start + count; ++i) {\n      const point = points[i];\n      const parsed = this.getParsed(i);\n      const properties = directUpdate ? point : {};\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n      prevParsed = parsed;\n    }\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n    const data = meta.data || [];\n    if (!data.length) {\n      return border;\n    }\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n  draw() {\n    const meta = this._cachedMeta;\n    meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n    super.draw();\n  }\n}\nLineController.id = 'line';\nLineController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  showLine: true,\n  spanGaps: false,\n};\nLineController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category',\n    },\n    _value_: {\n      type: 'linear',\n    },\n  }\n};\nfunction getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\n  const pointCount = points.length;\n  let start = 0;\n  let count = pointCount;\n  if (meta._sorted) {\n    const {iScale, _parsed} = meta;\n    const axis = iScale.axis;\n    const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n    if (minDefined) {\n      start = _limitValue(Math.min(\n        _lookupByKey(_parsed, iScale.axis, min).lo,\n        animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo),\n      0, pointCount - 1);\n    }\n    if (maxDefined) {\n      count = _limitValue(Math.max(\n        _lookupByKey(_parsed, iScale.axis, max).hi + 1,\n        animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max)).hi + 1),\n      start, pointCount) - start;\n    } else {\n      count = pointCount - start;\n    }\n  }\n  return {start, count};\n}\nfunction scaleRangesChanged(meta) {\n  const {xScale, yScale, _scaleRanges} = meta;\n  const newRanges = {\n    xmin: xScale.min,\n    xmax: xScale.max,\n    ymin: yScale.min,\n    ymax: yScale.max\n  };\n  if (!_scaleRanges) {\n    meta._scaleRanges = newRanges;\n    return true;\n  }\n  const changed = _scaleRanges.xmin !== xScale.min\n\t\t|| _scaleRanges.xmax !== xScale.max\n\t\t|| _scaleRanges.ymin !== yScale.min\n\t\t|| _scaleRanges.ymax !== yScale.max;\n  Object.assign(_scaleRanges, newRanges);\n  return changed;\n}\n\nclass PolarAreaController extends DatasetController {\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index].r, chart.options.locale);\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n  update(mode) {\n    const arcs = this._cachedMeta.data;\n    this._updateRadius();\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n  _updateRadius() {\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n    const outerRadius = Math.max(minSize / 2, 0);\n    const innerRadius = Math.max(opts.cutoutPercentage ? (outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\n    const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n    this.outerRadius = outerRadius - (radiusLength * this.index);\n    this.innerRadius = this.outerRadius - radiusLength;\n  }\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const dataset = this.getDataset();\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const scale = this._cachedMeta.rScale;\n    const centerX = scale.xCenter;\n    const centerY = scale.yCenter;\n    const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n    let angle = datasetStartAngle;\n    let i;\n    const defaultAngle = 360 / this.countVisibleElements();\n    for (i = 0; i < start; ++i) {\n      angle += this._computeAngle(i, mode, defaultAngle);\n    }\n    for (i = start; i < start + count; i++) {\n      const arc = arcs[i];\n      let startAngle = angle;\n      let endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n      let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(dataset.data[i]) : 0;\n      angle = endAngle;\n      if (reset) {\n        if (animationOpts.animateScale) {\n          outerRadius = 0;\n        }\n        if (animationOpts.animateRotate) {\n          startAngle = endAngle = datasetStartAngle;\n        }\n      }\n      const properties = {\n        x: centerX,\n        y: centerY,\n        innerRadius: 0,\n        outerRadius,\n        startAngle,\n        endAngle,\n        options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n      };\n      this.updateElement(arc, i, properties, mode);\n    }\n  }\n  countVisibleElements() {\n    const dataset = this.getDataset();\n    const meta = this._cachedMeta;\n    let count = 0;\n    meta.data.forEach((element, index) => {\n      if (!isNaN(dataset.data[index]) && this.chart.getDataVisibility(index)) {\n        count++;\n      }\n    });\n    return count;\n  }\n  _computeAngle(index, mode, defaultAngle) {\n    return this.chart.getDataVisibility(index)\n      ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle)\n      : 0;\n  }\n}\nPolarAreaController.id = 'polarArea';\nPolarAreaController.defaults = {\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: true\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius']\n    },\n  },\n  indexAxis: 'r',\n  startAngle: 0,\n};\nPolarAreaController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels(chart) {\n          const data = chart.data;\n          if (data.labels.length && data.datasets.length) {\n            const {labels: {pointStyle}} = chart.legend.options;\n            return data.labels.map((label, i) => {\n              const meta = chart.getDatasetMeta(0);\n              const style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                pointStyle: pointStyle,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n          return [];\n        }\n      },\n      onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(context) {\n          return context.chart.data.labels[context.dataIndex] + ': ' + context.formattedValue;\n        }\n      }\n    }\n  },\n  scales: {\n    r: {\n      type: 'radialLinear',\n      angleLines: {\n        display: false\n      },\n      beginAtZero: true,\n      grid: {\n        circular: true\n      },\n      pointLabels: {\n        display: false\n      },\n      startAngle: 0\n    }\n  }\n};\n\nclass PieController extends DoughnutController {\n}\nPieController.id = 'pie';\nPieController.defaults = {\n  cutout: 0,\n  rotation: 0,\n  circumference: 360,\n  radius: '100%'\n};\n\nclass RadarController extends DatasetController {\n  getLabelAndValue(index) {\n    const vScale = this._cachedMeta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: vScale.getLabels()[index],\n      value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n    };\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    const line = meta.dataset;\n    const points = meta.data || [];\n    const labels = meta.iScale.getLabels();\n    line.points = points;\n    if (mode !== 'resize') {\n      const options = this.resolveDatasetElementOptions(mode);\n      if (!this.options.showLine) {\n        options.borderWidth = 0;\n      }\n      const properties = {\n        _loop: true,\n        _fullLoop: labels.length === points.length,\n        options\n      };\n      this.updateElement(line, undefined, properties, mode);\n    }\n    this.updateElements(points, 0, points.length, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const dataset = this.getDataset();\n    const scale = this._cachedMeta.rScale;\n    const reset = mode === 'reset';\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      const pointPosition = scale.getPointPositionForValue(i, dataset.data[i]);\n      const x = reset ? scale.xCenter : pointPosition.x;\n      const y = reset ? scale.yCenter : pointPosition.y;\n      const properties = {\n        x,\n        y,\n        angle: pointPosition.angle,\n        skip: isNaN(x) || isNaN(y),\n        options\n      };\n      this.updateElement(point, i, properties, mode);\n    }\n  }\n}\nRadarController.id = 'radar';\nRadarController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  indexAxis: 'r',\n  showLine: true,\n  elements: {\n    line: {\n      fill: 'start'\n    }\n  },\n};\nRadarController.overrides = {\n  aspectRatio: 1,\n  scales: {\n    r: {\n      type: 'radialLinear',\n    }\n  }\n};\n\nclass ScatterController extends LineController {\n}\nScatterController.id = 'scatter';\nScatterController.defaults = {\n  showLine: false,\n  fill: false\n};\nScatterController.overrides = {\n  interaction: {\n    mode: 'point'\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(item) {\n          return '(' + item.label + ', ' + item.formattedValue + ')';\n        }\n      }\n    }\n  },\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  }\n};\n\nvar controllers = /*#__PURE__*/Object.freeze({\n__proto__: null,\nBarController: BarController,\nBubbleController: BubbleController,\nDoughnutController: DoughnutController,\nLineController: LineController,\nPolarAreaController: PolarAreaController,\nPieController: PieController,\nRadarController: RadarController,\nScatterController: ScatterController\n});\n\nfunction abstract() {\n  throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\nclass DateAdapter {\n  constructor(options) {\n    this.options = options || {};\n  }\n  formats() {\n    return abstract();\n  }\n  parse(value, format) {\n    return abstract();\n  }\n  format(timestamp, format) {\n    return abstract();\n  }\n  add(timestamp, amount, unit) {\n    return abstract();\n  }\n  diff(a, b, unit) {\n    return abstract();\n  }\n  startOf(timestamp, unit, weekday) {\n    return abstract();\n  }\n  endOf(timestamp, unit) {\n    return abstract();\n  }\n}\nDateAdapter.override = function(members) {\n  Object.assign(DateAdapter.prototype, members);\n};\nvar adapters = {\n  _date: DateAdapter\n};\n\nfunction getRelativePosition(e, chart) {\n  if ('native' in e) {\n    return {\n      x: e.x,\n      y: e.y\n    };\n  }\n  return getRelativePosition$1(e, chart);\n}\nfunction evaluateAllVisibleItems(chart, handler) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  let index, data, element;\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    ({index, data} = metasets[i]);\n    for (let j = 0, jlen = data.length; j < jlen; ++j) {\n      element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\nfunction binarySearch(metaset, axis, value, intersect) {\n  const {controller, data, _sorted} = metaset;\n  const iScale = controller._cachedMeta.iScale;\n  if (iScale && axis === iScale.axis && _sorted && data.length) {\n    const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n    if (!intersect) {\n      return lookupMethod(data, axis, value);\n    } else if (controller._sharedOptions) {\n      const el = data[0];\n      const range = typeof el.getRange === 'function' && el.getRange(axis);\n      if (range) {\n        const start = lookupMethod(data, axis, value - range);\n        const end = lookupMethod(data, axis, value + range);\n        return {lo: start.lo, hi: end.hi};\n      }\n    }\n  }\n  return {lo: 0, hi: data.length - 1};\n}\nfunction optimizedEvaluateItems(chart, axis, position, handler, intersect) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  const value = position[axis];\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    const {index, data} = metasets[i];\n    const {lo, hi} = binarySearch(metasets[i], axis, value, intersect);\n    for (let j = lo; j <= hi; ++j) {\n      const element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\nfunction getDistanceMetricForAxis(axis) {\n  const useX = axis.indexOf('x') !== -1;\n  const useY = axis.indexOf('y') !== -1;\n  return function(pt1, pt2) {\n    const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n    const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n  };\n}\nfunction getIntersectItems(chart, position, axis, useFinalPosition) {\n  const items = [];\n  if (!_isPointInArea(position, chart.chartArea, chart._minPadding)) {\n    return items;\n  }\n  const evaluationFunc = function(element, datasetIndex, index) {\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n  };\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc, true);\n  return items;\n}\nfunction getNearestItems(chart, position, axis, intersect, useFinalPosition) {\n  const distanceMetric = getDistanceMetricForAxis(axis);\n  let minDistance = Number.POSITIVE_INFINITY;\n  let items = [];\n  if (!_isPointInArea(position, chart.chartArea, chart._minPadding)) {\n    return items;\n  }\n  const evaluationFunc = function(element, datasetIndex, index) {\n    if (intersect && !element.inRange(position.x, position.y, useFinalPosition)) {\n      return;\n    }\n    const center = element.getCenterPoint(useFinalPosition);\n    if (!_isPointInArea(center, chart.chartArea, chart._minPadding) && !element.inRange(position.x, position.y, useFinalPosition)) {\n      return;\n    }\n    const distance = distanceMetric(position, center);\n    if (distance < minDistance) {\n      items = [{element, datasetIndex, index}];\n      minDistance = distance;\n    } else if (distance === minDistance) {\n      items.push({element, datasetIndex, index});\n    }\n  };\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc);\n  return items;\n}\nfunction getAxisItems(chart, e, options, useFinalPosition) {\n  const position = getRelativePosition(e, chart);\n  const items = [];\n  const axis = options.axis;\n  const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n  let intersectsItem = false;\n  evaluateAllVisibleItems(chart, (element, datasetIndex, index) => {\n    if (element[rangeMethod](position[axis], useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      intersectsItem = true;\n    }\n  });\n  if (options.intersect && !intersectsItem) {\n    return [];\n  }\n  return items;\n}\nvar Interaction = {\n  modes: {\n    index(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'x';\n      const items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition)\n        : getNearestItems(chart, position, axis, false, useFinalPosition);\n      const elements = [];\n      if (!items.length) {\n        return [];\n      }\n      chart.getSortedVisibleDatasetMetas().forEach((meta) => {\n        const index = items[0].index;\n        const element = meta.data[index];\n        if (element && !element.skip) {\n          elements.push({element, datasetIndex: meta.index, index});\n        }\n      });\n      return elements;\n    },\n    dataset(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      let items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition) :\n        getNearestItems(chart, position, axis, false, useFinalPosition);\n      if (items.length > 0) {\n        const datasetIndex = items[0].datasetIndex;\n        const data = chart.getDatasetMeta(datasetIndex).data;\n        items = [];\n        for (let i = 0; i < data.length; ++i) {\n          items.push({element: data[i], datasetIndex, index: i});\n        }\n      }\n      return items;\n    },\n    point(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      return getIntersectItems(chart, position, axis, useFinalPosition);\n    },\n    nearest(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition);\n    },\n    x(chart, e, options, useFinalPosition) {\n      options.axis = 'x';\n      return getAxisItems(chart, e, options, useFinalPosition);\n    },\n    y(chart, e, options, useFinalPosition) {\n      options.axis = 'y';\n      return getAxisItems(chart, e, options, useFinalPosition);\n    }\n  }\n};\n\nconst STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];\nfunction filterByPosition(array, position) {\n  return array.filter(v => v.pos === position);\n}\nfunction filterDynamicPositionByAxis(array, axis) {\n  return array.filter(v => STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\nfunction sortByWeight(array, reverse) {\n  return array.sort((a, b) => {\n    const v0 = reverse ? b : a;\n    const v1 = reverse ? a : b;\n    return v0.weight === v1.weight ?\n      v0.index - v1.index :\n      v0.weight - v1.weight;\n  });\n}\nfunction wrapBoxes(boxes) {\n  const layoutBoxes = [];\n  let i, ilen, box, pos, stack, stackWeight;\n  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\n    box = boxes[i];\n    ({position: pos, options: {stack, stackWeight = 1}} = box);\n    layoutBoxes.push({\n      index: i,\n      box,\n      pos,\n      horizontal: box.isHorizontal(),\n      weight: box.weight,\n      stack: stack && (pos + stack),\n      stackWeight\n    });\n  }\n  return layoutBoxes;\n}\nfunction buildStacks(layouts) {\n  const stacks = {};\n  for (const wrap of layouts) {\n    const {stack, pos, stackWeight} = wrap;\n    if (!stack || !STATIC_POSITIONS.includes(pos)) {\n      continue;\n    }\n    const _stack = stacks[stack] || (stacks[stack] = {count: 0, placed: 0, weight: 0, size: 0});\n    _stack.count++;\n    _stack.weight += stackWeight;\n  }\n  return stacks;\n}\nfunction setLayoutDims(layouts, params) {\n  const stacks = buildStacks(layouts);\n  const {vBoxMaxWidth, hBoxMaxHeight} = params;\n  let i, ilen, layout;\n  for (i = 0, ilen = layouts.length; i < ilen; ++i) {\n    layout = layouts[i];\n    const {fullSize} = layout.box;\n    const stack = stacks[layout.stack];\n    const factor = stack && layout.stackWeight / stack.weight;\n    if (layout.horizontal) {\n      layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n      layout.height = hBoxMaxHeight;\n    } else {\n      layout.width = vBoxMaxWidth;\n      layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n    }\n  }\n  return stacks;\n}\nfunction buildLayoutBoxes(boxes) {\n  const layoutBoxes = wrapBoxes(boxes);\n  const fullSize = sortByWeight(layoutBoxes.filter(wrap => wrap.box.fullSize), true);\n  const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n  const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n  const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n  const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n  const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n  const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n  return {\n    fullSize,\n    leftAndTop: left.concat(top),\n    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n    chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n    vertical: left.concat(right).concat(centerVertical),\n    horizontal: top.concat(bottom).concat(centerHorizontal)\n  };\n}\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\nfunction updateMaxPadding(maxPadding, boxPadding) {\n  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\nfunction updateDims(chartArea, params, layout, stacks) {\n  const {pos, box} = layout;\n  const maxPadding = chartArea.maxPadding;\n  if (!isObject(pos)) {\n    if (layout.size) {\n      chartArea[pos] -= layout.size;\n    }\n    const stack = stacks[layout.stack] || {size: 0, count: 1};\n    stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n    layout.size = stack.size / stack.count;\n    chartArea[pos] += layout.size;\n  }\n  if (box.getPadding) {\n    updateMaxPadding(maxPadding, box.getPadding());\n  }\n  const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n  const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n  const widthChanged = newWidth !== chartArea.w;\n  const heightChanged = newHeight !== chartArea.h;\n  chartArea.w = newWidth;\n  chartArea.h = newHeight;\n  return layout.horizontal\n    ? {same: widthChanged, other: heightChanged}\n    : {same: heightChanged, other: widthChanged};\n}\nfunction handleMaxPadding(chartArea) {\n  const maxPadding = chartArea.maxPadding;\n  function updatePos(pos) {\n    const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n    chartArea[pos] += change;\n    return change;\n  }\n  chartArea.y += updatePos('top');\n  chartArea.x += updatePos('left');\n  updatePos('right');\n  updatePos('bottom');\n}\nfunction getMargins(horizontal, chartArea) {\n  const maxPadding = chartArea.maxPadding;\n  function marginForPositions(positions) {\n    const margin = {left: 0, top: 0, right: 0, bottom: 0};\n    positions.forEach((pos) => {\n      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n    });\n    return margin;\n  }\n  return horizontal\n    ? marginForPositions(['left', 'right'])\n    : marginForPositions(['top', 'bottom']);\n}\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n  const refitBoxes = [];\n  let i, ilen, layout, box, refit, changed;\n  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n    box.update(\n      layout.width || chartArea.w,\n      layout.height || chartArea.h,\n      getMargins(layout.horizontal, chartArea)\n    );\n    const {same, other} = updateDims(chartArea, params, layout, stacks);\n    refit |= same && refitBoxes.length;\n    changed = changed || other;\n    if (!box.fullSize) {\n      refitBoxes.push(layout);\n    }\n  }\n  return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\nfunction setBoxDims(box, left, top, width, height) {\n  box.top = top;\n  box.left = left;\n  box.right = left + width;\n  box.bottom = top + height;\n  box.width = width;\n  box.height = height;\n}\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n  const userPadding = params.padding;\n  let {x, y} = chartArea;\n  for (const layout of boxes) {\n    const box = layout.box;\n    const stack = stacks[layout.stack] || {count: 1, placed: 0, weight: 1};\n    const weight = (layout.stackWeight / stack.weight) || 1;\n    if (layout.horizontal) {\n      const width = chartArea.w * weight;\n      const height = stack.size || box.height;\n      if (defined(stack.start)) {\n        y = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n      } else {\n        setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n      }\n      stack.start = y;\n      stack.placed += width;\n      y = box.bottom;\n    } else {\n      const height = chartArea.h * weight;\n      const width = stack.size || box.width;\n      if (defined(stack.start)) {\n        x = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n      } else {\n        setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n      }\n      stack.start = x;\n      stack.placed += height;\n      x = box.right;\n    }\n  }\n  chartArea.x = x;\n  chartArea.y = y;\n}\ndefaults.set('layout', {\n  autoPadding: true,\n  padding: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  }\n});\nvar layouts = {\n  addBox(chart, item) {\n    if (!chart.boxes) {\n      chart.boxes = [];\n    }\n    item.fullSize = item.fullSize || false;\n    item.position = item.position || 'top';\n    item.weight = item.weight || 0;\n    item._layers = item._layers || function() {\n      return [{\n        z: 0,\n        draw(chartArea) {\n          item.draw(chartArea);\n        }\n      }];\n    };\n    chart.boxes.push(item);\n  },\n  removeBox(chart, layoutItem) {\n    const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n    if (index !== -1) {\n      chart.boxes.splice(index, 1);\n    }\n  },\n  configure(chart, item, options) {\n    item.fullSize = options.fullSize;\n    item.position = options.position;\n    item.weight = options.weight;\n  },\n  update(chart, width, height, minPadding) {\n    if (!chart) {\n      return;\n    }\n    const padding = toPadding(chart.options.layout.padding);\n    const availableWidth = Math.max(width - padding.width, 0);\n    const availableHeight = Math.max(height - padding.height, 0);\n    const boxes = buildLayoutBoxes(chart.boxes);\n    const verticalBoxes = boxes.vertical;\n    const horizontalBoxes = boxes.horizontal;\n    each(chart.boxes, box => {\n      if (typeof box.beforeLayout === 'function') {\n        box.beforeLayout();\n      }\n    });\n    const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap) =>\n      wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n    const params = Object.freeze({\n      outerWidth: width,\n      outerHeight: height,\n      padding,\n      availableWidth,\n      availableHeight,\n      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n      hBoxMaxHeight: availableHeight / 2\n    });\n    const maxPadding = Object.assign({}, padding);\n    updateMaxPadding(maxPadding, toPadding(minPadding));\n    const chartArea = Object.assign({\n      maxPadding,\n      w: availableWidth,\n      h: availableHeight,\n      x: padding.left,\n      y: padding.top\n    }, padding);\n    const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n    fitBoxes(boxes.fullSize, chartArea, params, stacks);\n    fitBoxes(verticalBoxes, chartArea, params, stacks);\n    if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n      fitBoxes(verticalBoxes, chartArea, params, stacks);\n    }\n    handleMaxPadding(chartArea);\n    placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n    chartArea.x += chartArea.w;\n    chartArea.y += chartArea.h;\n    placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n    chart.chartArea = {\n      left: chartArea.left,\n      top: chartArea.top,\n      right: chartArea.left + chartArea.w,\n      bottom: chartArea.top + chartArea.h,\n      height: chartArea.h,\n      width: chartArea.w,\n    };\n    each(boxes.chartArea, (layout) => {\n      const box = layout.box;\n      Object.assign(box, chart.chartArea);\n      box.update(chartArea.w, chartArea.h);\n    });\n  }\n};\n\nclass BasePlatform {\n  acquireContext(canvas, aspectRatio) {}\n  releaseContext(context) {\n    return false;\n  }\n  addEventListener(chart, type, listener) {}\n  removeEventListener(chart, type, listener) {}\n  getDevicePixelRatio() {\n    return 1;\n  }\n  getMaximumSize(element, width, height, aspectRatio) {\n    width = Math.max(0, width || element.width);\n    height = height || element.height;\n    return {\n      width,\n      height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n    };\n  }\n  isAttached(canvas) {\n    return true;\n  }\n  updateConfig(config) {\n  }\n}\n\nclass BasicPlatform extends BasePlatform {\n  acquireContext(item) {\n    return item && item.getContext && item.getContext('2d') || null;\n  }\n  updateConfig(config) {\n    config.options.animation = false;\n  }\n}\n\nconst EXPANDO_KEY = '$chartjs';\nconst EVENT_TYPES = {\n  touchstart: 'mousedown',\n  touchmove: 'mousemove',\n  touchend: 'mouseup',\n  pointerenter: 'mouseenter',\n  pointerdown: 'mousedown',\n  pointermove: 'mousemove',\n  pointerup: 'mouseup',\n  pointerleave: 'mouseout',\n  pointerout: 'mouseout'\n};\nconst isNullOrEmpty = value => value === null || value === '';\nfunction initCanvas(canvas, aspectRatio) {\n  const style = canvas.style;\n  const renderHeight = canvas.getAttribute('height');\n  const renderWidth = canvas.getAttribute('width');\n  canvas[EXPANDO_KEY] = {\n    initial: {\n      height: renderHeight,\n      width: renderWidth,\n      style: {\n        display: style.display,\n        height: style.height,\n        width: style.width\n      }\n    }\n  };\n  style.display = style.display || 'block';\n  style.boxSizing = style.boxSizing || 'border-box';\n  if (isNullOrEmpty(renderWidth)) {\n    const displayWidth = readUsedSize(canvas, 'width');\n    if (displayWidth !== undefined) {\n      canvas.width = displayWidth;\n    }\n  }\n  if (isNullOrEmpty(renderHeight)) {\n    if (canvas.style.height === '') {\n      canvas.height = canvas.width / (aspectRatio || 2);\n    } else {\n      const displayHeight = readUsedSize(canvas, 'height');\n      if (displayHeight !== undefined) {\n        canvas.height = displayHeight;\n      }\n    }\n  }\n  return canvas;\n}\nconst eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false;\nfunction addListener(node, type, listener) {\n  node.addEventListener(type, listener, eventListenerOptions);\n}\nfunction removeListener(chart, type, listener) {\n  chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n}\nfunction fromNativeEvent(event, chart) {\n  const type = EVENT_TYPES[event.type] || event.type;\n  const {x, y} = getRelativePosition$1(event, chart);\n  return {\n    type,\n    chart,\n    native: event,\n    x: x !== undefined ? x : null,\n    y: y !== undefined ? y : null,\n  };\n}\nfunction createAttachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    for (const entry of entries) {\n      for (const node of entry.addedNodes) {\n        if (node === canvas || node.contains(canvas)) {\n          return listener();\n        }\n      }\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\nfunction createDetachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    for (const entry of entries) {\n      for (const node of entry.removedNodes) {\n        if (node === canvas || node.contains(canvas)) {\n          return listener();\n        }\n      }\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\nfunction onWindowResize() {\n  const dpr = window.devicePixelRatio;\n  if (dpr === oldDevicePixelRatio) {\n    return;\n  }\n  oldDevicePixelRatio = dpr;\n  drpListeningCharts.forEach((resize, chart) => {\n    if (chart.currentDevicePixelRatio !== dpr) {\n      resize();\n    }\n  });\n}\nfunction listenDevicePixelRatioChanges(chart, resize) {\n  if (!drpListeningCharts.size) {\n    window.addEventListener('resize', onWindowResize);\n  }\n  drpListeningCharts.set(chart, resize);\n}\nfunction unlistenDevicePixelRatioChanges(chart) {\n  drpListeningCharts.delete(chart);\n  if (!drpListeningCharts.size) {\n    window.removeEventListener('resize', onWindowResize);\n  }\n}\nfunction createResizeObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const container = canvas && _getParentNode(canvas);\n  if (!container) {\n    return;\n  }\n  const resize = throttled((width, height) => {\n    const w = container.clientWidth;\n    listener(width, height);\n    if (w < container.clientWidth) {\n      listener();\n    }\n  }, window);\n  const observer = new ResizeObserver(entries => {\n    const entry = entries[0];\n    const width = entry.contentRect.width;\n    const height = entry.contentRect.height;\n    if (width === 0 && height === 0) {\n      return;\n    }\n    resize(width, height);\n  });\n  observer.observe(container);\n  listenDevicePixelRatioChanges(chart, resize);\n  return observer;\n}\nfunction releaseObserver(chart, type, observer) {\n  if (observer) {\n    observer.disconnect();\n  }\n  if (type === 'resize') {\n    unlistenDevicePixelRatioChanges(chart);\n  }\n}\nfunction createProxyAndListen(chart, type, listener) {\n  const canvas = chart.canvas;\n  const proxy = throttled((event) => {\n    if (chart.ctx !== null) {\n      listener(fromNativeEvent(event, chart));\n    }\n  }, chart, (args) => {\n    const event = args[0];\n    return [event, event.offsetX, event.offsetY];\n  });\n  addListener(canvas, type, proxy);\n  return proxy;\n}\nclass DomPlatform extends BasePlatform {\n  acquireContext(canvas, aspectRatio) {\n    const context = canvas && canvas.getContext && canvas.getContext('2d');\n    if (context && context.canvas === canvas) {\n      initCanvas(canvas, aspectRatio);\n      return context;\n    }\n    return null;\n  }\n  releaseContext(context) {\n    const canvas = context.canvas;\n    if (!canvas[EXPANDO_KEY]) {\n      return false;\n    }\n    const initial = canvas[EXPANDO_KEY].initial;\n    ['height', 'width'].forEach((prop) => {\n      const value = initial[prop];\n      if (isNullOrUndef(value)) {\n        canvas.removeAttribute(prop);\n      } else {\n        canvas.setAttribute(prop, value);\n      }\n    });\n    const style = initial.style || {};\n    Object.keys(style).forEach((key) => {\n      canvas.style[key] = style[key];\n    });\n    canvas.width = canvas.width;\n    delete canvas[EXPANDO_KEY];\n    return true;\n  }\n  addEventListener(chart, type, listener) {\n    this.removeEventListener(chart, type);\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const handlers = {\n      attach: createAttachObserver,\n      detach: createDetachObserver,\n      resize: createResizeObserver\n    };\n    const handler = handlers[type] || createProxyAndListen;\n    proxies[type] = handler(chart, type, listener);\n  }\n  removeEventListener(chart, type) {\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const proxy = proxies[type];\n    if (!proxy) {\n      return;\n    }\n    const handlers = {\n      attach: releaseObserver,\n      detach: releaseObserver,\n      resize: releaseObserver\n    };\n    const handler = handlers[type] || removeListener;\n    handler(chart, type, proxy);\n    proxies[type] = undefined;\n  }\n  getDevicePixelRatio() {\n    return window.devicePixelRatio;\n  }\n  getMaximumSize(canvas, width, height, aspectRatio) {\n    return getMaximumSize(canvas, width, height, aspectRatio);\n  }\n  isAttached(canvas) {\n    const container = _getParentNode(canvas);\n    return !!(container && container.isConnected);\n  }\n}\n\nfunction _detectPlatform(canvas) {\n  if (!_isDomSupported() || (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas)) {\n    return BasicPlatform;\n  }\n  return DomPlatform;\n}\n\nclass Element {\n  constructor() {\n    this.x = undefined;\n    this.y = undefined;\n    this.active = false;\n    this.options = undefined;\n    this.$animations = undefined;\n  }\n  tooltipPosition(useFinalPosition) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n  hasValue() {\n    return isNumber(this.x) && isNumber(this.y);\n  }\n  getProps(props, final) {\n    const anims = this.$animations;\n    if (!final || !anims) {\n      return this;\n    }\n    const ret = {};\n    props.forEach(prop => {\n      ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop];\n    });\n    return ret;\n  }\n}\nElement.defaults = {};\nElement.defaultRoutes = undefined;\n\nconst formatters = {\n  values(value) {\n    return isArray(value) ? value : '' + value;\n  },\n  numeric(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const locale = this.chart.options.locale;\n    let notation;\n    let delta = tickValue;\n    if (ticks.length > 1) {\n      const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\n        notation = 'scientific';\n      }\n      delta = calculateDelta(tickValue, ticks);\n    }\n    const logDelta = log10(Math.abs(delta));\n    const numDecimal = Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n    const options = {notation, minimumFractionDigits: numDecimal, maximumFractionDigits: numDecimal};\n    Object.assign(options, this.options.ticks.format);\n    return formatNumber(tickValue, locale, options);\n  },\n  logarithmic(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const remain = tickValue / (Math.pow(10, Math.floor(log10(tickValue))));\n    if (remain === 1 || remain === 2 || remain === 5) {\n      return formatters.numeric.call(this, tickValue, index, ticks);\n    }\n    return '';\n  }\n};\nfunction calculateDelta(tickValue, ticks) {\n  let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n    delta = tickValue - Math.floor(tickValue);\n  }\n  return delta;\n}\nvar Ticks = {formatters};\n\ndefaults.set('scale', {\n  display: true,\n  offset: false,\n  reverse: false,\n  beginAtZero: false,\n  bounds: 'ticks',\n  grace: 0,\n  grid: {\n    display: true,\n    lineWidth: 1,\n    drawBorder: true,\n    drawOnChartArea: true,\n    drawTicks: true,\n    tickLength: 8,\n    tickWidth: (_ctx, options) => options.lineWidth,\n    tickColor: (_ctx, options) => options.color,\n    offset: false,\n    borderDash: [],\n    borderDashOffset: 0.0,\n    borderWidth: 1\n  },\n  title: {\n    display: false,\n    text: '',\n    padding: {\n      top: 4,\n      bottom: 4\n    }\n  },\n  ticks: {\n    minRotation: 0,\n    maxRotation: 50,\n    mirror: false,\n    textStrokeWidth: 0,\n    textStrokeColor: '',\n    padding: 3,\n    display: true,\n    autoSkip: true,\n    autoSkipPadding: 3,\n    labelOffset: 0,\n    callback: Ticks.formatters.values,\n    minor: {},\n    major: {},\n    align: 'center',\n    crossAlign: 'near',\n    showLabelBackdrop: false,\n    backdropColor: 'rgba(255, 255, 255, 0.75)',\n    backdropPadding: 2,\n  }\n});\ndefaults.route('scale.ticks', 'color', '', 'color');\ndefaults.route('scale.grid', 'color', '', 'borderColor');\ndefaults.route('scale.grid', 'borderColor', '', 'borderColor');\ndefaults.route('scale.title', 'color', '', 'color');\ndefaults.describe('scale', {\n  _fallback: false,\n  _scriptable: (name) => !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n  _indexable: (name) => name !== 'borderDash' && name !== 'tickBorderDash',\n});\ndefaults.describe('scales', {\n  _fallback: 'scale',\n});\ndefaults.describe('scale.ticks', {\n  _scriptable: (name) => name !== 'backdropPadding' && name !== 'callback',\n  _indexable: (name) => name !== 'backdropPadding',\n});\n\nfunction autoSkip(scale, ticks) {\n  const tickOpts = scale.options.ticks;\n  const ticksLimit = tickOpts.maxTicksLimit || determineMaxTicks(scale);\n  const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n  const numMajorIndices = majorIndices.length;\n  const first = majorIndices[0];\n  const last = majorIndices[numMajorIndices - 1];\n  const newTicks = [];\n  if (numMajorIndices > ticksLimit) {\n    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n    return newTicks;\n  }\n  const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n  if (numMajorIndices > 0) {\n    let i, ilen;\n    const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\n      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n    }\n    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n    return newTicks;\n  }\n  skip(ticks, newTicks, spacing);\n  return newTicks;\n}\nfunction determineMaxTicks(scale) {\n  const offset = scale.options.offset;\n  const tickLength = scale._tickSize();\n  const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n  const maxChart = scale._maxLength / tickLength;\n  return Math.floor(Math.min(maxScale, maxChart));\n}\nfunction calculateSpacing(majorIndices, ticks, ticksLimit) {\n  const evenMajorSpacing = getEvenSpacing(majorIndices);\n  const spacing = ticks.length / ticksLimit;\n  if (!evenMajorSpacing) {\n    return Math.max(spacing, 1);\n  }\n  const factors = _factorize(evenMajorSpacing);\n  for (let i = 0, ilen = factors.length - 1; i < ilen; i++) {\n    const factor = factors[i];\n    if (factor > spacing) {\n      return factor;\n    }\n  }\n  return Math.max(spacing, 1);\n}\nfunction getMajorIndices(ticks) {\n  const result = [];\n  let i, ilen;\n  for (i = 0, ilen = ticks.length; i < ilen; i++) {\n    if (ticks[i].major) {\n      result.push(i);\n    }\n  }\n  return result;\n}\nfunction skipMajors(ticks, newTicks, majorIndices, spacing) {\n  let count = 0;\n  let next = majorIndices[0];\n  let i;\n  spacing = Math.ceil(spacing);\n  for (i = 0; i < ticks.length; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = majorIndices[count * spacing];\n    }\n  }\n}\nfunction skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n  const start = valueOrDefault(majorStart, 0);\n  const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n  let count = 0;\n  let length, i, next;\n  spacing = Math.ceil(spacing);\n  if (majorEnd) {\n    length = majorEnd - majorStart;\n    spacing = length / Math.floor(length / spacing);\n  }\n  next = start;\n  while (next < 0) {\n    count++;\n    next = Math.round(start + count * spacing);\n  }\n  for (i = Math.max(start, 0); i < end; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = Math.round(start + count * spacing);\n    }\n  }\n}\nfunction getEvenSpacing(arr) {\n  const len = arr.length;\n  let i, diff;\n  if (len < 2) {\n    return false;\n  }\n  for (diff = arr[0], i = 1; i < len; ++i) {\n    if (arr[i] - arr[i - 1] !== diff) {\n      return false;\n    }\n  }\n  return diff;\n}\n\nconst reverseAlign = (align) => align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset) => edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nfunction sample(arr, numItems) {\n  const result = [];\n  const increment = arr.length / numItems;\n  const len = arr.length;\n  let i = 0;\n  for (; i < len; i += increment) {\n    result.push(arr[Math.floor(i)]);\n  }\n  return result;\n}\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\n  const length = scale.ticks.length;\n  const validIndex = Math.min(index, length - 1);\n  const start = scale._startPixel;\n  const end = scale._endPixel;\n  const epsilon = 1e-6;\n  let lineValue = scale.getPixelForTick(validIndex);\n  let offset;\n  if (offsetGridLines) {\n    if (length === 1) {\n      offset = Math.max(lineValue - start, end - lineValue);\n    } else if (index === 0) {\n      offset = (scale.getPixelForTick(1) - lineValue) / 2;\n    } else {\n      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n    }\n    lineValue += validIndex < index ? offset : -offset;\n    if (lineValue < start - epsilon || lineValue > end + epsilon) {\n      return;\n    }\n  }\n  return lineValue;\n}\nfunction garbageCollect(caches, length) {\n  each(caches, (cache) => {\n    const gc = cache.gc;\n    const gcLen = gc.length / 2;\n    let i;\n    if (gcLen > length) {\n      for (i = 0; i < gcLen; ++i) {\n        delete cache.data[gc[i]];\n      }\n      gc.splice(0, gcLen);\n    }\n  });\n}\nfunction getTickMarkLength(options) {\n  return options.drawTicks ? options.tickLength : 0;\n}\nfunction getTitleHeight(options, fallback) {\n  if (!options.display) {\n    return 0;\n  }\n  const font = toFont(options.font, fallback);\n  const padding = toPadding(options.padding);\n  const lines = isArray(options.text) ? options.text.length : 1;\n  return (lines * font.lineHeight) + padding.height;\n}\nfunction createScaleContext(parent, scale) {\n  return createContext(parent, {\n    scale,\n    type: 'scale'\n  });\n}\nfunction createTickContext(parent, index, tick) {\n  return createContext(parent, {\n    tick,\n    index,\n    type: 'tick'\n  });\n}\nfunction titleAlign(align, position, reverse) {\n  let ret = _toLeftRightCenter(align);\n  if ((reverse && position !== 'right') || (!reverse && position === 'right')) {\n    ret = reverseAlign(ret);\n  }\n  return ret;\n}\nfunction titleArgs(scale, offset, position, align) {\n  const {top, left, bottom, right, chart} = scale;\n  const {chartArea, scales} = chart;\n  let rotation = 0;\n  let maxWidth, titleX, titleY;\n  const height = bottom - top;\n  const width = right - left;\n  if (scale.isHorizontal()) {\n    titleX = _alignStartEnd(align, left, right);\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n    } else if (position === 'center') {\n      titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n    } else {\n      titleY = offsetFromEdge(scale, position, offset);\n    }\n    maxWidth = right - left;\n  } else {\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n    } else if (position === 'center') {\n      titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n    } else {\n      titleX = offsetFromEdge(scale, position, offset);\n    }\n    titleY = _alignStartEnd(align, bottom, top);\n    rotation = position === 'left' ? -HALF_PI : HALF_PI;\n  }\n  return {titleX, titleY, maxWidth, rotation};\n}\nclass Scale extends Element {\n  constructor(cfg) {\n    super();\n    this.id = cfg.id;\n    this.type = cfg.type;\n    this.options = undefined;\n    this.ctx = cfg.ctx;\n    this.chart = cfg.chart;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this._margins = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n    this.maxWidth = undefined;\n    this.maxHeight = undefined;\n    this.paddingTop = undefined;\n    this.paddingBottom = undefined;\n    this.paddingLeft = undefined;\n    this.paddingRight = undefined;\n    this.axis = undefined;\n    this.labelRotation = undefined;\n    this.min = undefined;\n    this.max = undefined;\n    this._range = undefined;\n    this.ticks = [];\n    this._gridLineItems = null;\n    this._labelItems = null;\n    this._labelSizes = null;\n    this._length = 0;\n    this._maxLength = 0;\n    this._longestTextCache = {};\n    this._startPixel = undefined;\n    this._endPixel = undefined;\n    this._reversePixels = false;\n    this._userMax = undefined;\n    this._userMin = undefined;\n    this._suggestedMax = undefined;\n    this._suggestedMin = undefined;\n    this._ticksLength = 0;\n    this._borderValue = 0;\n    this._cache = {};\n    this._dataLimitsCached = false;\n    this.$context = undefined;\n  }\n  init(options) {\n    this.options = options.setContext(this.getContext());\n    this.axis = options.axis;\n    this._userMin = this.parse(options.min);\n    this._userMax = this.parse(options.max);\n    this._suggestedMin = this.parse(options.suggestedMin);\n    this._suggestedMax = this.parse(options.suggestedMax);\n  }\n  parse(raw, index) {\n    return raw;\n  }\n  getUserBounds() {\n    let {_userMin, _userMax, _suggestedMin, _suggestedMax} = this;\n    _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n    _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n    _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n    _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n    return {\n      min: finiteOrDefault(_userMin, _suggestedMin),\n      max: finiteOrDefault(_userMax, _suggestedMax),\n      minDefined: isNumberFinite(_userMin),\n      maxDefined: isNumberFinite(_userMax)\n    };\n  }\n  getMinMax(canStack) {\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    let range;\n    if (minDefined && maxDefined) {\n      return {min, max};\n    }\n    const metas = this.getMatchingVisibleMetas();\n    for (let i = 0, ilen = metas.length; i < ilen; ++i) {\n      range = metas[i].controller.getMinMax(this, canStack);\n      if (!minDefined) {\n        min = Math.min(min, range.min);\n      }\n      if (!maxDefined) {\n        max = Math.max(max, range.max);\n      }\n    }\n    min = maxDefined && min > max ? max : min;\n    max = minDefined && min > max ? min : max;\n    return {\n      min: finiteOrDefault(min, finiteOrDefault(max, min)),\n      max: finiteOrDefault(max, finiteOrDefault(min, max))\n    };\n  }\n  getPadding() {\n    return {\n      left: this.paddingLeft || 0,\n      top: this.paddingTop || 0,\n      right: this.paddingRight || 0,\n      bottom: this.paddingBottom || 0\n    };\n  }\n  getTicks() {\n    return this.ticks;\n  }\n  getLabels() {\n    const data = this.chart.data;\n    return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n  }\n  beforeLayout() {\n    this._cache = {};\n    this._dataLimitsCached = false;\n  }\n  beforeUpdate() {\n    callback(this.options.beforeUpdate, [this]);\n  }\n  update(maxWidth, maxHeight, margins) {\n    const {beginAtZero, grace, ticks: tickOpts} = this.options;\n    const sampleSize = tickOpts.sampleSize;\n    this.beforeUpdate();\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins = Object.assign({\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    }, margins);\n    this.ticks = null;\n    this._labelSizes = null;\n    this._gridLineItems = null;\n    this._labelItems = null;\n    this.beforeSetDimensions();\n    this.setDimensions();\n    this.afterSetDimensions();\n    this._maxLength = this.isHorizontal()\n      ? this.width + margins.left + margins.right\n      : this.height + margins.top + margins.bottom;\n    if (!this._dataLimitsCached) {\n      this.beforeDataLimits();\n      this.determineDataLimits();\n      this.afterDataLimits();\n      this._range = _addGrace(this, grace, beginAtZero);\n      this._dataLimitsCached = true;\n    }\n    this.beforeBuildTicks();\n    this.ticks = this.buildTicks() || [];\n    this.afterBuildTicks();\n    const samplingEnabled = sampleSize < this.ticks.length;\n    this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n    this.configure();\n    this.beforeCalculateLabelRotation();\n    this.calculateLabelRotation();\n    this.afterCalculateLabelRotation();\n    if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n      this.ticks = autoSkip(this, this.ticks);\n      this._labelSizes = null;\n    }\n    if (samplingEnabled) {\n      this._convertTicksToLabels(this.ticks);\n    }\n    this.beforeFit();\n    this.fit();\n    this.afterFit();\n    this.afterUpdate();\n  }\n  configure() {\n    let reversePixels = this.options.reverse;\n    let startPixel, endPixel;\n    if (this.isHorizontal()) {\n      startPixel = this.left;\n      endPixel = this.right;\n    } else {\n      startPixel = this.top;\n      endPixel = this.bottom;\n      reversePixels = !reversePixels;\n    }\n    this._startPixel = startPixel;\n    this._endPixel = endPixel;\n    this._reversePixels = reversePixels;\n    this._length = endPixel - startPixel;\n    this._alignToPixels = this.options.alignToPixels;\n  }\n  afterUpdate() {\n    callback(this.options.afterUpdate, [this]);\n  }\n  beforeSetDimensions() {\n    callback(this.options.beforeSetDimensions, [this]);\n  }\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = 0;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = 0;\n      this.bottom = this.height;\n    }\n    this.paddingLeft = 0;\n    this.paddingTop = 0;\n    this.paddingRight = 0;\n    this.paddingBottom = 0;\n  }\n  afterSetDimensions() {\n    callback(this.options.afterSetDimensions, [this]);\n  }\n  _callHooks(name) {\n    this.chart.notifyPlugins(name, this.getContext());\n    callback(this.options[name], [this]);\n  }\n  beforeDataLimits() {\n    this._callHooks('beforeDataLimits');\n  }\n  determineDataLimits() {}\n  afterDataLimits() {\n    this._callHooks('afterDataLimits');\n  }\n  beforeBuildTicks() {\n    this._callHooks('beforeBuildTicks');\n  }\n  buildTicks() {\n    return [];\n  }\n  afterBuildTicks() {\n    this._callHooks('afterBuildTicks');\n  }\n  beforeTickToLabelConversion() {\n    callback(this.options.beforeTickToLabelConversion, [this]);\n  }\n  generateTickLabels(ticks) {\n    const tickOpts = this.options.ticks;\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      tick = ticks[i];\n      tick.label = callback(tickOpts.callback, [tick.value, i, ticks], this);\n    }\n  }\n  afterTickToLabelConversion() {\n    callback(this.options.afterTickToLabelConversion, [this]);\n  }\n  beforeCalculateLabelRotation() {\n    callback(this.options.beforeCalculateLabelRotation, [this]);\n  }\n  calculateLabelRotation() {\n    const options = this.options;\n    const tickOpts = options.ticks;\n    const numTicks = this.ticks.length;\n    const minRotation = tickOpts.minRotation || 0;\n    const maxRotation = tickOpts.maxRotation;\n    let labelRotation = minRotation;\n    let tickWidth, maxHeight, maxLabelDiagonal;\n    if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n      this.labelRotation = minRotation;\n      return;\n    }\n    const labelSizes = this._getLabelSizes();\n    const maxLabelWidth = labelSizes.widest.width;\n    const maxLabelHeight = labelSizes.highest.height;\n    const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n    tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n    if (maxLabelWidth + 6 > tickWidth) {\n      tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n      maxHeight = this.maxHeight - getTickMarkLength(options.grid)\n\t\t\t\t- tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n      maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n      labelRotation = toDegrees(Math.min(\n        Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)),\n        Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))\n      ));\n      labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n    }\n    this.labelRotation = labelRotation;\n  }\n  afterCalculateLabelRotation() {\n    callback(this.options.afterCalculateLabelRotation, [this]);\n  }\n  beforeFit() {\n    callback(this.options.beforeFit, [this]);\n  }\n  fit() {\n    const minSize = {\n      width: 0,\n      height: 0\n    };\n    const {chart, options: {ticks: tickOpts, title: titleOpts, grid: gridOpts}} = this;\n    const display = this._isVisible();\n    const isHorizontal = this.isHorizontal();\n    if (display) {\n      const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n      if (isHorizontal) {\n        minSize.width = this.maxWidth;\n        minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n      } else {\n        minSize.height = this.maxHeight;\n        minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n      }\n      if (tickOpts.display && this.ticks.length) {\n        const {first, last, widest, highest} = this._getLabelSizes();\n        const tickPadding = tickOpts.padding * 2;\n        const angleRadians = toRadians(this.labelRotation);\n        const cos = Math.cos(angleRadians);\n        const sin = Math.sin(angleRadians);\n        if (isHorizontal) {\n          const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n          minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n        } else {\n          const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n          minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n        }\n        this._calculatePadding(first, last, sin, cos);\n      }\n    }\n    this._handleMargins();\n    if (isHorizontal) {\n      this.width = this._length = chart.width - this._margins.left - this._margins.right;\n      this.height = minSize.height;\n    } else {\n      this.width = minSize.width;\n      this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n    }\n  }\n  _calculatePadding(first, last, sin, cos) {\n    const {ticks: {align, padding}, position} = this.options;\n    const isRotated = this.labelRotation !== 0;\n    const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n    if (this.isHorizontal()) {\n      const offsetLeft = this.getPixelForTick(0) - this.left;\n      const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n      let paddingLeft = 0;\n      let paddingRight = 0;\n      if (isRotated) {\n        if (labelsBelowTicks) {\n          paddingLeft = cos * first.width;\n          paddingRight = sin * last.height;\n        } else {\n          paddingLeft = sin * first.height;\n          paddingRight = cos * last.width;\n        }\n      } else if (align === 'start') {\n        paddingRight = last.width;\n      } else if (align === 'end') {\n        paddingLeft = first.width;\n      } else {\n        paddingLeft = first.width / 2;\n        paddingRight = last.width / 2;\n      }\n      this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n      this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n    } else {\n      let paddingTop = last.height / 2;\n      let paddingBottom = first.height / 2;\n      if (align === 'start') {\n        paddingTop = 0;\n        paddingBottom = first.height;\n      } else if (align === 'end') {\n        paddingTop = last.height;\n        paddingBottom = 0;\n      }\n      this.paddingTop = paddingTop + padding;\n      this.paddingBottom = paddingBottom + padding;\n    }\n  }\n  _handleMargins() {\n    if (this._margins) {\n      this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n      this._margins.top = Math.max(this.paddingTop, this._margins.top);\n      this._margins.right = Math.max(this.paddingRight, this._margins.right);\n      this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n    }\n  }\n  afterFit() {\n    callback(this.options.afterFit, [this]);\n  }\n  isHorizontal() {\n    const {axis, position} = this.options;\n    return position === 'top' || position === 'bottom' || axis === 'x';\n  }\n  isFullSize() {\n    return this.options.fullSize;\n  }\n  _convertTicksToLabels(ticks) {\n    this.beforeTickToLabelConversion();\n    this.generateTickLabels(ticks);\n    let i, ilen;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      if (isNullOrUndef(ticks[i].label)) {\n        ticks.splice(i, 1);\n        ilen--;\n        i--;\n      }\n    }\n    this.afterTickToLabelConversion();\n  }\n  _getLabelSizes() {\n    let labelSizes = this._labelSizes;\n    if (!labelSizes) {\n      const sampleSize = this.options.ticks.sampleSize;\n      let ticks = this.ticks;\n      if (sampleSize < ticks.length) {\n        ticks = sample(ticks, sampleSize);\n      }\n      this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length);\n    }\n    return labelSizes;\n  }\n  _computeLabelSizes(ticks, length) {\n    const {ctx, _longestTextCache: caches} = this;\n    const widths = [];\n    const heights = [];\n    let widestLabelSize = 0;\n    let highestLabelSize = 0;\n    let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n    for (i = 0; i < length; ++i) {\n      label = ticks[i].label;\n      tickFont = this._resolveTickFontOptions(i);\n      ctx.font = fontString = tickFont.string;\n      cache = caches[fontString] = caches[fontString] || {data: {}, gc: []};\n      lineHeight = tickFont.lineHeight;\n      width = height = 0;\n      if (!isNullOrUndef(label) && !isArray(label)) {\n        width = _measureText(ctx, cache.data, cache.gc, width, label);\n        height = lineHeight;\n      } else if (isArray(label)) {\n        for (j = 0, jlen = label.length; j < jlen; ++j) {\n          nestedLabel = label[j];\n          if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n            width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n            height += lineHeight;\n          }\n        }\n      }\n      widths.push(width);\n      heights.push(height);\n      widestLabelSize = Math.max(width, widestLabelSize);\n      highestLabelSize = Math.max(height, highestLabelSize);\n    }\n    garbageCollect(caches, length);\n    const widest = widths.indexOf(widestLabelSize);\n    const highest = heights.indexOf(highestLabelSize);\n    const valueAt = (idx) => ({width: widths[idx] || 0, height: heights[idx] || 0});\n    return {\n      first: valueAt(0),\n      last: valueAt(length - 1),\n      widest: valueAt(widest),\n      highest: valueAt(highest),\n      widths,\n      heights,\n    };\n  }\n  getLabelForValue(value) {\n    return value;\n  }\n  getPixelForValue(value, index) {\n    return NaN;\n  }\n  getValueForPixel(pixel) {}\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n  getPixelForDecimal(decimal) {\n    if (this._reversePixels) {\n      decimal = 1 - decimal;\n    }\n    const pixel = this._startPixel + decimal * this._length;\n    return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n  }\n  getDecimalForPixel(pixel) {\n    const decimal = (pixel - this._startPixel) / this._length;\n    return this._reversePixels ? 1 - decimal : decimal;\n  }\n  getBasePixel() {\n    return this.getPixelForValue(this.getBaseValue());\n  }\n  getBaseValue() {\n    const {min, max} = this;\n    return min < 0 && max < 0 ? max :\n      min > 0 && max > 0 ? min :\n      0;\n  }\n  getContext(index) {\n    const ticks = this.ticks || [];\n    if (index >= 0 && index < ticks.length) {\n      const tick = ticks[index];\n      return tick.$context ||\n\t\t\t\t(tick.$context = createTickContext(this.getContext(), index, tick));\n    }\n    return this.$context ||\n\t\t\t(this.$context = createScaleContext(this.chart.getContext(), this));\n  }\n  _tickSize() {\n    const optionTicks = this.options.ticks;\n    const rot = toRadians(this.labelRotation);\n    const cos = Math.abs(Math.cos(rot));\n    const sin = Math.abs(Math.sin(rot));\n    const labelSizes = this._getLabelSizes();\n    const padding = optionTicks.autoSkipPadding || 0;\n    const w = labelSizes ? labelSizes.widest.width + padding : 0;\n    const h = labelSizes ? labelSizes.highest.height + padding : 0;\n    return this.isHorizontal()\n      ? h * cos > w * sin ? w / cos : h / sin\n      : h * sin < w * cos ? h / cos : w / sin;\n  }\n  _isVisible() {\n    const display = this.options.display;\n    if (display !== 'auto') {\n      return !!display;\n    }\n    return this.getMatchingVisibleMetas().length > 0;\n  }\n  _computeGridLineItems(chartArea) {\n    const axis = this.axis;\n    const chart = this.chart;\n    const options = this.options;\n    const {grid, position} = options;\n    const offset = grid.offset;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const ticksLength = ticks.length + (offset ? 1 : 0);\n    const tl = getTickMarkLength(grid);\n    const items = [];\n    const borderOpts = grid.setContext(this.getContext());\n    const axisWidth = borderOpts.drawBorder ? borderOpts.borderWidth : 0;\n    const axisHalfWidth = axisWidth / 2;\n    const alignBorderValue = function(pixel) {\n      return _alignPixel(chart, pixel, axisWidth);\n    };\n    let borderValue, i, lineValue, alignedLineValue;\n    let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n    if (position === 'top') {\n      borderValue = alignBorderValue(this.bottom);\n      ty1 = this.bottom - tl;\n      ty2 = borderValue - axisHalfWidth;\n      y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n      y2 = chartArea.bottom;\n    } else if (position === 'bottom') {\n      borderValue = alignBorderValue(this.top);\n      y1 = chartArea.top;\n      y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = this.top + tl;\n    } else if (position === 'left') {\n      borderValue = alignBorderValue(this.right);\n      tx1 = this.right - tl;\n      tx2 = borderValue - axisHalfWidth;\n      x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n      x2 = chartArea.right;\n    } else if (position === 'right') {\n      borderValue = alignBorderValue(this.left);\n      x1 = chartArea.left;\n      x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n      tx1 = borderValue + axisHalfWidth;\n      tx2 = this.left + tl;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n      y1 = chartArea.top;\n      y2 = chartArea.bottom;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = ty1 + tl;\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n      tx1 = borderValue - axisHalfWidth;\n      tx2 = tx1 - tl;\n      x1 = chartArea.left;\n      x2 = chartArea.right;\n    }\n    const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n    const step = Math.max(1, Math.ceil(ticksLength / limit));\n    for (i = 0; i < ticksLength; i += step) {\n      const optsAtIndex = grid.setContext(this.getContext(i));\n      const lineWidth = optsAtIndex.lineWidth;\n      const lineColor = optsAtIndex.color;\n      const borderDash = grid.borderDash || [];\n      const borderDashOffset = optsAtIndex.borderDashOffset;\n      const tickWidth = optsAtIndex.tickWidth;\n      const tickColor = optsAtIndex.tickColor;\n      const tickBorderDash = optsAtIndex.tickBorderDash || [];\n      const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n      lineValue = getPixelForGridLine(this, i, offset);\n      if (lineValue === undefined) {\n        continue;\n      }\n      alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n      if (isHorizontal) {\n        tx1 = tx2 = x1 = x2 = alignedLineValue;\n      } else {\n        ty1 = ty2 = y1 = y2 = alignedLineValue;\n      }\n      items.push({\n        tx1,\n        ty1,\n        tx2,\n        ty2,\n        x1,\n        y1,\n        x2,\n        y2,\n        width: lineWidth,\n        color: lineColor,\n        borderDash,\n        borderDashOffset,\n        tickWidth,\n        tickColor,\n        tickBorderDash,\n        tickBorderDashOffset,\n      });\n    }\n    this._ticksLength = ticksLength;\n    this._borderValue = borderValue;\n    return items;\n  }\n  _computeLabelItems(chartArea) {\n    const axis = this.axis;\n    const options = this.options;\n    const {position, ticks: optionTicks} = options;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const {align, crossAlign, padding, mirror} = optionTicks;\n    const tl = getTickMarkLength(options.grid);\n    const tickAndPadding = tl + padding;\n    const hTickAndPadding = mirror ? -padding : tickAndPadding;\n    const rotation = -toRadians(this.labelRotation);\n    const items = [];\n    let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n    let textBaseline = 'middle';\n    if (position === 'top') {\n      y = this.bottom - hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'bottom') {\n      y = this.top + hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'left') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (position === 'right') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        y = ((chartArea.top + chartArea.bottom) / 2) + tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n      }\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        x = ((chartArea.left + chartArea.right) / 2) - tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        x = this.chart.scales[positionAxisID].getPixelForValue(value);\n      }\n      textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n    }\n    if (axis === 'y') {\n      if (align === 'start') {\n        textBaseline = 'top';\n      } else if (align === 'end') {\n        textBaseline = 'bottom';\n      }\n    }\n    const labelSizes = this._getLabelSizes();\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      label = tick.label;\n      const optsAtIndex = optionTicks.setContext(this.getContext(i));\n      pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n      font = this._resolveTickFontOptions(i);\n      lineHeight = font.lineHeight;\n      lineCount = isArray(label) ? label.length : 1;\n      const halfCount = lineCount / 2;\n      const color = optsAtIndex.color;\n      const strokeColor = optsAtIndex.textStrokeColor;\n      const strokeWidth = optsAtIndex.textStrokeWidth;\n      if (isHorizontal) {\n        x = pixel;\n        if (position === 'top') {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = -lineCount * lineHeight + lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n          } else {\n            textOffset = -labelSizes.highest.height + lineHeight / 2;\n          }\n        } else {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n          } else {\n            textOffset = labelSizes.highest.height - lineCount * lineHeight;\n          }\n        }\n        if (mirror) {\n          textOffset *= -1;\n        }\n      } else {\n        y = pixel;\n        textOffset = (1 - lineCount) * lineHeight / 2;\n      }\n      let backdrop;\n      if (optsAtIndex.showLabelBackdrop) {\n        const labelPadding = toPadding(optsAtIndex.backdropPadding);\n        const height = labelSizes.heights[i];\n        const width = labelSizes.widths[i];\n        let top = y + textOffset - labelPadding.top;\n        let left = x - labelPadding.left;\n        switch (textBaseline) {\n        case 'middle':\n          top -= height / 2;\n          break;\n        case 'bottom':\n          top -= height;\n          break;\n        }\n        switch (textAlign) {\n        case 'center':\n          left -= width / 2;\n          break;\n        case 'right':\n          left -= width;\n          break;\n        }\n        backdrop = {\n          left,\n          top,\n          width: width + labelPadding.width,\n          height: height + labelPadding.height,\n          color: optsAtIndex.backdropColor,\n        };\n      }\n      items.push({\n        rotation,\n        label,\n        font,\n        color,\n        strokeColor,\n        strokeWidth,\n        textOffset,\n        textAlign,\n        textBaseline,\n        translation: [x, y],\n        backdrop,\n      });\n    }\n    return items;\n  }\n  _getXAxisLabelAlignment() {\n    const {position, ticks} = this.options;\n    const rotation = -toRadians(this.labelRotation);\n    if (rotation) {\n      return position === 'top' ? 'left' : 'right';\n    }\n    let align = 'center';\n    if (ticks.align === 'start') {\n      align = 'left';\n    } else if (ticks.align === 'end') {\n      align = 'right';\n    }\n    return align;\n  }\n  _getYAxisLabelAlignment(tl) {\n    const {position, ticks: {crossAlign, mirror, padding}} = this.options;\n    const labelSizes = this._getLabelSizes();\n    const tickAndPadding = tl + padding;\n    const widest = labelSizes.widest.width;\n    let textAlign;\n    let x;\n    if (position === 'left') {\n      if (mirror) {\n        x = this.right + padding;\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += (widest / 2);\n        } else {\n          textAlign = 'right';\n          x += widest;\n        }\n      } else {\n        x = this.right - tickAndPadding;\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x = this.left;\n        }\n      }\n    } else if (position === 'right') {\n      if (mirror) {\n        x = this.left + padding;\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x -= widest;\n        }\n      } else {\n        x = this.left + tickAndPadding;\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += widest / 2;\n        } else {\n          textAlign = 'right';\n          x = this.right;\n        }\n      }\n    } else {\n      textAlign = 'right';\n    }\n    return {textAlign, x};\n  }\n  _computeLabelArea() {\n    if (this.options.ticks.mirror) {\n      return;\n    }\n    const chart = this.chart;\n    const position = this.options.position;\n    if (position === 'left' || position === 'right') {\n      return {top: 0, left: this.left, bottom: chart.height, right: this.right};\n    } if (position === 'top' || position === 'bottom') {\n      return {top: this.top, left: 0, bottom: this.bottom, right: chart.width};\n    }\n  }\n  drawBackground() {\n    const {ctx, options: {backgroundColor}, left, top, width, height} = this;\n    if (backgroundColor) {\n      ctx.save();\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(left, top, width, height);\n      ctx.restore();\n    }\n  }\n  getLineWidthForValue(value) {\n    const grid = this.options.grid;\n    if (!this._isVisible() || !grid.display) {\n      return 0;\n    }\n    const ticks = this.ticks;\n    const index = ticks.findIndex(t => t.value === value);\n    if (index >= 0) {\n      const opts = grid.setContext(this.getContext(index));\n      return opts.lineWidth;\n    }\n    return 0;\n  }\n  drawGrid(chartArea) {\n    const grid = this.options.grid;\n    const ctx = this.ctx;\n    const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n    let i, ilen;\n    const drawLine = (p1, p2, style) => {\n      if (!style.width || !style.color) {\n        return;\n      }\n      ctx.save();\n      ctx.lineWidth = style.width;\n      ctx.strokeStyle = style.color;\n      ctx.setLineDash(style.borderDash || []);\n      ctx.lineDashOffset = style.borderDashOffset;\n      ctx.beginPath();\n      ctx.moveTo(p1.x, p1.y);\n      ctx.lineTo(p2.x, p2.y);\n      ctx.stroke();\n      ctx.restore();\n    };\n    if (grid.display) {\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        const item = items[i];\n        if (grid.drawOnChartArea) {\n          drawLine(\n            {x: item.x1, y: item.y1},\n            {x: item.x2, y: item.y2},\n            item\n          );\n        }\n        if (grid.drawTicks) {\n          drawLine(\n            {x: item.tx1, y: item.ty1},\n            {x: item.tx2, y: item.ty2},\n            {\n              color: item.tickColor,\n              width: item.tickWidth,\n              borderDash: item.tickBorderDash,\n              borderDashOffset: item.tickBorderDashOffset\n            }\n          );\n        }\n      }\n    }\n  }\n  drawBorder() {\n    const {chart, ctx, options: {grid}} = this;\n    const borderOpts = grid.setContext(this.getContext());\n    const axisWidth = grid.drawBorder ? borderOpts.borderWidth : 0;\n    if (!axisWidth) {\n      return;\n    }\n    const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n    const borderValue = this._borderValue;\n    let x1, x2, y1, y2;\n    if (this.isHorizontal()) {\n      x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n      x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n      y1 = y2 = borderValue;\n    } else {\n      y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n      y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n      x1 = x2 = borderValue;\n    }\n    ctx.save();\n    ctx.lineWidth = borderOpts.borderWidth;\n    ctx.strokeStyle = borderOpts.borderColor;\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n    ctx.restore();\n  }\n  drawLabels(chartArea) {\n    const optionTicks = this.options.ticks;\n    if (!optionTicks.display) {\n      return;\n    }\n    const ctx = this.ctx;\n    const area = this._computeLabelArea();\n    if (area) {\n      clipArea(ctx, area);\n    }\n    const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n    let i, ilen;\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      const item = items[i];\n      const tickFont = item.font;\n      const label = item.label;\n      if (item.backdrop) {\n        ctx.fillStyle = item.backdrop.color;\n        ctx.fillRect(item.backdrop.left, item.backdrop.top, item.backdrop.width, item.backdrop.height);\n      }\n      let y = item.textOffset;\n      renderText(ctx, label, 0, y, tickFont, item);\n    }\n    if (area) {\n      unclipArea(ctx);\n    }\n  }\n  drawTitle() {\n    const {ctx, options: {position, title, reverse}} = this;\n    if (!title.display) {\n      return;\n    }\n    const font = toFont(title.font);\n    const padding = toPadding(title.padding);\n    const align = title.align;\n    let offset = font.lineHeight / 2;\n    if (position === 'bottom' || position === 'center' || isObject(position)) {\n      offset += padding.bottom;\n      if (isArray(title.text)) {\n        offset += font.lineHeight * (title.text.length - 1);\n      }\n    } else {\n      offset += padding.top;\n    }\n    const {titleX, titleY, maxWidth, rotation} = titleArgs(this, offset, position, align);\n    renderText(ctx, title.text, 0, 0, font, {\n      color: title.color,\n      maxWidth,\n      rotation,\n      textAlign: titleAlign(align, position, reverse),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n  draw(chartArea) {\n    if (!this._isVisible()) {\n      return;\n    }\n    this.drawBackground();\n    this.drawGrid(chartArea);\n    this.drawBorder();\n    this.drawTitle();\n    this.drawLabels(chartArea);\n  }\n  _layers() {\n    const opts = this.options;\n    const tz = opts.ticks && opts.ticks.z || 0;\n    const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n    if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n      return [{\n        z: tz,\n        draw: (chartArea) => {\n          this.draw(chartArea);\n        }\n      }];\n    }\n    return [{\n      z: gz,\n      draw: (chartArea) => {\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawTitle();\n      }\n    }, {\n      z: gz + 1,\n      draw: () => {\n        this.drawBorder();\n      }\n    }, {\n      z: tz,\n      draw: (chartArea) => {\n        this.drawLabels(chartArea);\n      }\n    }];\n  }\n  getMatchingVisibleMetas(type) {\n    const metas = this.chart.getSortedVisibleDatasetMetas();\n    const axisID = this.axis + 'AxisID';\n    const result = [];\n    let i, ilen;\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      const meta = metas[i];\n      if (meta[axisID] === this.id && (!type || meta.type === type)) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n  _resolveTickFontOptions(index) {\n    const opts = this.options.ticks.setContext(this.getContext(index));\n    return toFont(opts.font);\n  }\n  _maxDigits() {\n    const fontSize = this._resolveTickFontOptions(0).lineHeight;\n    return (this.isHorizontal() ? this.width : this.height) / fontSize;\n  }\n}\n\nclass TypedRegistry {\n  constructor(type, scope, override) {\n    this.type = type;\n    this.scope = scope;\n    this.override = override;\n    this.items = Object.create(null);\n  }\n  isForType(type) {\n    return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n  }\n  register(item) {\n    const proto = Object.getPrototypeOf(item);\n    let parentScope;\n    if (isIChartComponent(proto)) {\n      parentScope = this.register(proto);\n    }\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope + '.' + id;\n    if (!id) {\n      throw new Error('class does not have id: ' + item);\n    }\n    if (id in items) {\n      return scope;\n    }\n    items[id] = item;\n    registerDefaults(item, scope, parentScope);\n    if (this.override) {\n      defaults.override(item.id, item.overrides);\n    }\n    return scope;\n  }\n  get(id) {\n    return this.items[id];\n  }\n  unregister(item) {\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope;\n    if (id in items) {\n      delete items[id];\n    }\n    if (scope && id in defaults[scope]) {\n      delete defaults[scope][id];\n      if (this.override) {\n        delete overrides[id];\n      }\n    }\n  }\n}\nfunction registerDefaults(item, scope, parentScope) {\n  const itemDefaults = merge(Object.create(null), [\n    parentScope ? defaults.get(parentScope) : {},\n    defaults.get(scope),\n    item.defaults\n  ]);\n  defaults.set(scope, itemDefaults);\n  if (item.defaultRoutes) {\n    routeDefaults(scope, item.defaultRoutes);\n  }\n  if (item.descriptors) {\n    defaults.describe(scope, item.descriptors);\n  }\n}\nfunction routeDefaults(scope, routes) {\n  Object.keys(routes).forEach(property => {\n    const propertyParts = property.split('.');\n    const sourceName = propertyParts.pop();\n    const sourceScope = [scope].concat(propertyParts).join('.');\n    const parts = routes[property].split('.');\n    const targetName = parts.pop();\n    const targetScope = parts.join('.');\n    defaults.route(sourceScope, sourceName, targetScope, targetName);\n  });\n}\nfunction isIChartComponent(proto) {\n  return 'id' in proto && 'defaults' in proto;\n}\n\nclass Registry {\n  constructor() {\n    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n    this.elements = new TypedRegistry(Element, 'elements');\n    this.plugins = new TypedRegistry(Object, 'plugins');\n    this.scales = new TypedRegistry(Scale, 'scales');\n    this._typedRegistries = [this.controllers, this.scales, this.elements];\n  }\n  add(...args) {\n    this._each('register', args);\n  }\n  remove(...args) {\n    this._each('unregister', args);\n  }\n  addControllers(...args) {\n    this._each('register', args, this.controllers);\n  }\n  addElements(...args) {\n    this._each('register', args, this.elements);\n  }\n  addPlugins(...args) {\n    this._each('register', args, this.plugins);\n  }\n  addScales(...args) {\n    this._each('register', args, this.scales);\n  }\n  getController(id) {\n    return this._get(id, this.controllers, 'controller');\n  }\n  getElement(id) {\n    return this._get(id, this.elements, 'element');\n  }\n  getPlugin(id) {\n    return this._get(id, this.plugins, 'plugin');\n  }\n  getScale(id) {\n    return this._get(id, this.scales, 'scale');\n  }\n  removeControllers(...args) {\n    this._each('unregister', args, this.controllers);\n  }\n  removeElements(...args) {\n    this._each('unregister', args, this.elements);\n  }\n  removePlugins(...args) {\n    this._each('unregister', args, this.plugins);\n  }\n  removeScales(...args) {\n    this._each('unregister', args, this.scales);\n  }\n  _each(method, args, typedRegistry) {\n    [...args].forEach(arg => {\n      const reg = typedRegistry || this._getRegistryForType(arg);\n      if (typedRegistry || reg.isForType(arg) || (reg === this.plugins && arg.id)) {\n        this._exec(method, reg, arg);\n      } else {\n        each(arg, item => {\n          const itemReg = typedRegistry || this._getRegistryForType(item);\n          this._exec(method, itemReg, item);\n        });\n      }\n    });\n  }\n  _exec(method, registry, component) {\n    const camelMethod = _capitalize(method);\n    callback(component['before' + camelMethod], [], component);\n    registry[method](component);\n    callback(component['after' + camelMethod], [], component);\n  }\n  _getRegistryForType(type) {\n    for (let i = 0; i < this._typedRegistries.length; i++) {\n      const reg = this._typedRegistries[i];\n      if (reg.isForType(type)) {\n        return reg;\n      }\n    }\n    return this.plugins;\n  }\n  _get(id, typedRegistry, type) {\n    const item = typedRegistry.get(id);\n    if (item === undefined) {\n      throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n    }\n    return item;\n  }\n}\nvar registry = new Registry();\n\nclass PluginService {\n  constructor() {\n    this._init = [];\n  }\n  notify(chart, hook, args, filter) {\n    if (hook === 'beforeInit') {\n      this._init = this._createDescriptors(chart, true);\n      this._notify(this._init, chart, 'install');\n    }\n    const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n    const result = this._notify(descriptors, chart, hook, args);\n    if (hook === 'destroy') {\n      this._notify(descriptors, chart, 'stop');\n      this._notify(this._init, chart, 'uninstall');\n    }\n    return result;\n  }\n  _notify(descriptors, chart, hook, args) {\n    args = args || {};\n    for (const descriptor of descriptors) {\n      const plugin = descriptor.plugin;\n      const method = plugin[hook];\n      const params = [chart, args, descriptor.options];\n      if (callback(method, params, plugin) === false && args.cancelable) {\n        return false;\n      }\n    }\n    return true;\n  }\n  invalidate() {\n    if (!isNullOrUndef(this._cache)) {\n      this._oldCache = this._cache;\n      this._cache = undefined;\n    }\n  }\n  _descriptors(chart) {\n    if (this._cache) {\n      return this._cache;\n    }\n    const descriptors = this._cache = this._createDescriptors(chart);\n    this._notifyStateChanges(chart);\n    return descriptors;\n  }\n  _createDescriptors(chart, all) {\n    const config = chart && chart.config;\n    const options = valueOrDefault(config.options && config.options.plugins, {});\n    const plugins = allPlugins(config);\n    return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n  }\n  _notifyStateChanges(chart) {\n    const previousDescriptors = this._oldCache || [];\n    const descriptors = this._cache;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.plugin.id === y.plugin.id));\n    this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n    this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n  }\n}\nfunction allPlugins(config) {\n  const plugins = [];\n  const keys = Object.keys(registry.plugins.items);\n  for (let i = 0; i < keys.length; i++) {\n    plugins.push(registry.getPlugin(keys[i]));\n  }\n  const local = config.plugins || [];\n  for (let i = 0; i < local.length; i++) {\n    const plugin = local[i];\n    if (plugins.indexOf(plugin) === -1) {\n      plugins.push(plugin);\n    }\n  }\n  return plugins;\n}\nfunction getOpts(options, all) {\n  if (!all && options === false) {\n    return null;\n  }\n  if (options === true) {\n    return {};\n  }\n  return options;\n}\nfunction createDescriptors(chart, plugins, options, all) {\n  const result = [];\n  const context = chart.getContext();\n  for (let i = 0; i < plugins.length; i++) {\n    const plugin = plugins[i];\n    const id = plugin.id;\n    const opts = getOpts(options[id], all);\n    if (opts === null) {\n      continue;\n    }\n    result.push({\n      plugin,\n      options: pluginOpts(chart.config, plugin, opts, context)\n    });\n  }\n  return result;\n}\nfunction pluginOpts(config, plugin, opts, context) {\n  const keys = config.pluginScopeKeys(plugin);\n  const scopes = config.getOptionScopes(opts, keys);\n  return config.createResolver(scopes, context, [''], {scriptable: false, indexable: false, allKeys: true});\n}\n\nfunction getIndexAxis(type, options) {\n  const datasetDefaults = defaults.datasets[type] || {};\n  const datasetOptions = (options.datasets || {})[type] || {};\n  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n  let axis = id;\n  if (id === '_index_') {\n    axis = indexAxis;\n  } else if (id === '_value_') {\n    axis = indexAxis === 'x' ? 'y' : 'x';\n  }\n  return axis;\n}\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n  return axis === indexAxis ? '_index_' : '_value_';\n}\nfunction axisFromPosition(position) {\n  if (position === 'top' || position === 'bottom') {\n    return 'x';\n  }\n  if (position === 'left' || position === 'right') {\n    return 'y';\n  }\n}\nfunction determineAxis(id, scaleOptions) {\n  if (id === 'x' || id === 'y') {\n    return id;\n  }\n  return scaleOptions.axis || axisFromPosition(scaleOptions.position) || id.charAt(0).toLowerCase();\n}\nfunction mergeScaleConfig(config, options) {\n  const chartDefaults = overrides[config.type] || {scales: {}};\n  const configScales = options.scales || {};\n  const chartIndexAxis = getIndexAxis(config.type, options);\n  const firstIDs = Object.create(null);\n  const scales = Object.create(null);\n  Object.keys(configScales).forEach(id => {\n    const scaleConf = configScales[id];\n    if (!isObject(scaleConf)) {\n      return console.error(`Invalid scale configuration for scale: ${id}`);\n    }\n    if (scaleConf._proxy) {\n      return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n    }\n    const axis = determineAxis(id, scaleConf);\n    const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n    const defaultScaleOptions = chartDefaults.scales || {};\n    firstIDs[axis] = firstIDs[axis] || id;\n    scales[id] = mergeIf(Object.create(null), [{axis}, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);\n  });\n  config.data.datasets.forEach(dataset => {\n    const type = dataset.type || config.type;\n    const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n    const datasetDefaults = overrides[type] || {};\n    const defaultScaleOptions = datasetDefaults.scales || {};\n    Object.keys(defaultScaleOptions).forEach(defaultID => {\n      const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n      const id = dataset[axis + 'AxisID'] || firstIDs[axis] || axis;\n      scales[id] = scales[id] || Object.create(null);\n      mergeIf(scales[id], [{axis}, configScales[id], defaultScaleOptions[defaultID]]);\n    });\n  });\n  Object.keys(scales).forEach(key => {\n    const scale = scales[key];\n    mergeIf(scale, [defaults.scales[scale.type], defaults.scale]);\n  });\n  return scales;\n}\nfunction initOptions(config) {\n  const options = config.options || (config.options = {});\n  options.plugins = valueOrDefault(options.plugins, {});\n  options.scales = mergeScaleConfig(config, options);\n}\nfunction initData(data) {\n  data = data || {};\n  data.datasets = data.datasets || [];\n  data.labels = data.labels || [];\n  return data;\n}\nfunction initConfig(config) {\n  config = config || {};\n  config.data = initData(config.data);\n  initOptions(config);\n  return config;\n}\nconst keyCache = new Map();\nconst keysCached = new Set();\nfunction cachedKeys(cacheKey, generate) {\n  let keys = keyCache.get(cacheKey);\n  if (!keys) {\n    keys = generate();\n    keyCache.set(cacheKey, keys);\n    keysCached.add(keys);\n  }\n  return keys;\n}\nconst addIfFound = (set, obj, key) => {\n  const opts = resolveObjectKey(obj, key);\n  if (opts !== undefined) {\n    set.add(opts);\n  }\n};\nclass Config {\n  constructor(config) {\n    this._config = initConfig(config);\n    this._scopeCache = new Map();\n    this._resolverCache = new Map();\n  }\n  get platform() {\n    return this._config.platform;\n  }\n  get type() {\n    return this._config.type;\n  }\n  set type(type) {\n    this._config.type = type;\n  }\n  get data() {\n    return this._config.data;\n  }\n  set data(data) {\n    this._config.data = initData(data);\n  }\n  get options() {\n    return this._config.options;\n  }\n  set options(options) {\n    this._config.options = options;\n  }\n  get plugins() {\n    return this._config.plugins;\n  }\n  update() {\n    const config = this._config;\n    this.clearCache();\n    initOptions(config);\n  }\n  clearCache() {\n    this._scopeCache.clear();\n    this._resolverCache.clear();\n  }\n  datasetScopeKeys(datasetType) {\n    return cachedKeys(datasetType,\n      () => [[\n        `datasets.${datasetType}`,\n        ''\n      ]]);\n  }\n  datasetAnimationScopeKeys(datasetType, transition) {\n    return cachedKeys(`${datasetType}.transition.${transition}`,\n      () => [\n        [\n          `datasets.${datasetType}.transitions.${transition}`,\n          `transitions.${transition}`,\n        ],\n        [\n          `datasets.${datasetType}`,\n          ''\n        ]\n      ]);\n  }\n  datasetElementScopeKeys(datasetType, elementType) {\n    return cachedKeys(`${datasetType}-${elementType}`,\n      () => [[\n        `datasets.${datasetType}.elements.${elementType}`,\n        `datasets.${datasetType}`,\n        `elements.${elementType}`,\n        ''\n      ]]);\n  }\n  pluginScopeKeys(plugin) {\n    const id = plugin.id;\n    const type = this.type;\n    return cachedKeys(`${type}-plugin-${id}`,\n      () => [[\n        `plugins.${id}`,\n        ...plugin.additionalOptionScopes || [],\n      ]]);\n  }\n  _cachedScopes(mainScope, resetCache) {\n    const _scopeCache = this._scopeCache;\n    let cache = _scopeCache.get(mainScope);\n    if (!cache || resetCache) {\n      cache = new Map();\n      _scopeCache.set(mainScope, cache);\n    }\n    return cache;\n  }\n  getOptionScopes(mainScope, keyLists, resetCache) {\n    const {options, type} = this;\n    const cache = this._cachedScopes(mainScope, resetCache);\n    const cached = cache.get(keyLists);\n    if (cached) {\n      return cached;\n    }\n    const scopes = new Set();\n    keyLists.forEach(keys => {\n      if (mainScope) {\n        scopes.add(mainScope);\n        keys.forEach(key => addIfFound(scopes, mainScope, key));\n      }\n      keys.forEach(key => addIfFound(scopes, options, key));\n      keys.forEach(key => addIfFound(scopes, overrides[type] || {}, key));\n      keys.forEach(key => addIfFound(scopes, defaults, key));\n      keys.forEach(key => addIfFound(scopes, descriptors, key));\n    });\n    const array = Array.from(scopes);\n    if (array.length === 0) {\n      array.push(Object.create(null));\n    }\n    if (keysCached.has(keyLists)) {\n      cache.set(keyLists, array);\n    }\n    return array;\n  }\n  chartOptionScopes() {\n    const {options, type} = this;\n    return [\n      options,\n      overrides[type] || {},\n      defaults.datasets[type] || {},\n      {type},\n      defaults,\n      descriptors\n    ];\n  }\n  resolveNamedOptions(scopes, names, context, prefixes = ['']) {\n    const result = {$shared: true};\n    const {resolver, subPrefixes} = getResolver(this._resolverCache, scopes, prefixes);\n    let options = resolver;\n    if (needContext(resolver, names)) {\n      result.$shared = false;\n      context = isFunction(context) ? context() : context;\n      const subResolver = this.createResolver(scopes, context, subPrefixes);\n      options = _attachContext(resolver, context, subResolver);\n    }\n    for (const prop of names) {\n      result[prop] = options[prop];\n    }\n    return result;\n  }\n  createResolver(scopes, context, prefixes = [''], descriptorDefaults) {\n    const {resolver} = getResolver(this._resolverCache, scopes, prefixes);\n    return isObject(context)\n      ? _attachContext(resolver, context, undefined, descriptorDefaults)\n      : resolver;\n  }\n}\nfunction getResolver(resolverCache, scopes, prefixes) {\n  let cache = resolverCache.get(scopes);\n  if (!cache) {\n    cache = new Map();\n    resolverCache.set(scopes, cache);\n  }\n  const cacheKey = prefixes.join();\n  let cached = cache.get(cacheKey);\n  if (!cached) {\n    const resolver = _createResolver(scopes, prefixes);\n    cached = {\n      resolver,\n      subPrefixes: prefixes.filter(p => !p.toLowerCase().includes('hover'))\n    };\n    cache.set(cacheKey, cached);\n  }\n  return cached;\n}\nconst hasFunction = value => isObject(value)\n  && Object.getOwnPropertyNames(value).reduce((acc, key) => acc || isFunction(value[key]), false);\nfunction needContext(proxy, names) {\n  const {isScriptable, isIndexable} = _descriptors(proxy);\n  for (const prop of names) {\n    const scriptable = isScriptable(prop);\n    const indexable = isIndexable(prop);\n    const value = (indexable || scriptable) && proxy[prop];\n    if ((scriptable && (isFunction(value) || hasFunction(value)))\n      || (indexable && isArray(value))) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvar version = \"3.6.0\";\n\nconst KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];\nfunction positionIsHorizontal(position, axis) {\n  return position === 'top' || position === 'bottom' || (KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x');\n}\nfunction compare2Level(l1, l2) {\n  return function(a, b) {\n    return a[l1] === b[l1]\n      ? a[l2] - b[l2]\n      : a[l1] - b[l1];\n  };\n}\nfunction onAnimationsComplete(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  chart.notifyPlugins('afterRender');\n  callback(animationOptions && animationOptions.onComplete, [context], chart);\n}\nfunction onAnimationProgress(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  callback(animationOptions && animationOptions.onProgress, [context], chart);\n}\nfunction getCanvas(item) {\n  if (_isDomSupported() && typeof item === 'string') {\n    item = document.getElementById(item);\n  } else if (item && item.length) {\n    item = item[0];\n  }\n  if (item && item.canvas) {\n    item = item.canvas;\n  }\n  return item;\n}\nconst instances = {};\nconst getChart = (key) => {\n  const canvas = getCanvas(key);\n  return Object.values(instances).filter((c) => c.canvas === canvas).pop();\n};\nclass Chart {\n  constructor(item, userConfig) {\n    const config = this.config = new Config(userConfig);\n    const initialCanvas = getCanvas(item);\n    const existingChart = getChart(initialCanvas);\n    if (existingChart) {\n      throw new Error(\n        'Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' +\n\t\t\t\t' must be destroyed before the canvas can be reused.'\n      );\n    }\n    const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n    this.platform.updateConfig(config);\n    const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n    const canvas = context && context.canvas;\n    const height = canvas && canvas.height;\n    const width = canvas && canvas.width;\n    this.id = uid();\n    this.ctx = context;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this._options = options;\n    this._aspectRatio = this.aspectRatio;\n    this._layers = [];\n    this._metasets = [];\n    this._stacks = undefined;\n    this.boxes = [];\n    this.currentDevicePixelRatio = undefined;\n    this.chartArea = undefined;\n    this._active = [];\n    this._lastEvent = undefined;\n    this._listeners = {};\n    this._responsiveListeners = undefined;\n    this._sortedMetasets = [];\n    this.scales = {};\n    this._plugins = new PluginService();\n    this.$proxies = {};\n    this._hiddenIndices = {};\n    this.attached = false;\n    this._animationsDisabled = undefined;\n    this.$context = undefined;\n    this._doResize = debounce(mode => this.update(mode), options.resizeDelay || 0);\n    instances[this.id] = this;\n    if (!context || !canvas) {\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\n      return;\n    }\n    animator.listen(this, 'complete', onAnimationsComplete);\n    animator.listen(this, 'progress', onAnimationProgress);\n    this._initialize();\n    if (this.attached) {\n      this.update();\n    }\n  }\n  get aspectRatio() {\n    const {options: {aspectRatio, maintainAspectRatio}, width, height, _aspectRatio} = this;\n    if (!isNullOrUndef(aspectRatio)) {\n      return aspectRatio;\n    }\n    if (maintainAspectRatio && _aspectRatio) {\n      return _aspectRatio;\n    }\n    return height ? width / height : null;\n  }\n  get data() {\n    return this.config.data;\n  }\n  set data(data) {\n    this.config.data = data;\n  }\n  get options() {\n    return this._options;\n  }\n  set options(options) {\n    this.config.options = options;\n  }\n  _initialize() {\n    this.notifyPlugins('beforeInit');\n    if (this.options.responsive) {\n      this.resize();\n    } else {\n      retinaScale(this, this.options.devicePixelRatio);\n    }\n    this.bindEvents();\n    this.notifyPlugins('afterInit');\n    return this;\n  }\n  clear() {\n    clearCanvas(this.canvas, this.ctx);\n    return this;\n  }\n  stop() {\n    animator.stop(this);\n    return this;\n  }\n  resize(width, height) {\n    if (!animator.running(this)) {\n      this._resize(width, height);\n    } else {\n      this._resizeBeforeDraw = {width, height};\n    }\n  }\n  _resize(width, height) {\n    const options = this.options;\n    const canvas = this.canvas;\n    const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n    const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n    const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n    const mode = this.width ? 'resize' : 'attach';\n    this.width = newSize.width;\n    this.height = newSize.height;\n    this._aspectRatio = this.aspectRatio;\n    if (!retinaScale(this, newRatio, true)) {\n      return;\n    }\n    this.notifyPlugins('resize', {size: newSize});\n    callback(options.onResize, [this, newSize], this);\n    if (this.attached) {\n      if (this._doResize(mode)) {\n        this.render();\n      }\n    }\n  }\n  ensureScalesHaveIDs() {\n    const options = this.options;\n    const scalesOptions = options.scales || {};\n    each(scalesOptions, (axisOptions, axisID) => {\n      axisOptions.id = axisID;\n    });\n  }\n  buildOrUpdateScales() {\n    const options = this.options;\n    const scaleOpts = options.scales;\n    const scales = this.scales;\n    const updated = Object.keys(scales).reduce((obj, id) => {\n      obj[id] = false;\n      return obj;\n    }, {});\n    let items = [];\n    if (scaleOpts) {\n      items = items.concat(\n        Object.keys(scaleOpts).map((id) => {\n          const scaleOptions = scaleOpts[id];\n          const axis = determineAxis(id, scaleOptions);\n          const isRadial = axis === 'r';\n          const isHorizontal = axis === 'x';\n          return {\n            options: scaleOptions,\n            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n          };\n        })\n      );\n    }\n    each(items, (item) => {\n      const scaleOptions = item.options;\n      const id = scaleOptions.id;\n      const axis = determineAxis(id, scaleOptions);\n      const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n      if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n        scaleOptions.position = item.dposition;\n      }\n      updated[id] = true;\n      let scale = null;\n      if (id in scales && scales[id].type === scaleType) {\n        scale = scales[id];\n      } else {\n        const scaleClass = registry.getScale(scaleType);\n        scale = new scaleClass({\n          id,\n          type: scaleType,\n          ctx: this.ctx,\n          chart: this\n        });\n        scales[scale.id] = scale;\n      }\n      scale.init(scaleOptions, options);\n    });\n    each(updated, (hasUpdated, id) => {\n      if (!hasUpdated) {\n        delete scales[id];\n      }\n    });\n    each(scales, (scale) => {\n      layouts.configure(this, scale, scale.options);\n      layouts.addBox(this, scale);\n    });\n  }\n  _updateMetasets() {\n    const metasets = this._metasets;\n    const numData = this.data.datasets.length;\n    const numMeta = metasets.length;\n    metasets.sort((a, b) => a.index - b.index);\n    if (numMeta > numData) {\n      for (let i = numData; i < numMeta; ++i) {\n        this._destroyDatasetMeta(i);\n      }\n      metasets.splice(numData, numMeta - numData);\n    }\n    this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n  }\n  _removeUnreferencedMetasets() {\n    const {_metasets: metasets, data: {datasets}} = this;\n    if (metasets.length > datasets.length) {\n      delete this._stacks;\n    }\n    metasets.forEach((meta, index) => {\n      if (datasets.filter(x => x === meta._dataset).length === 0) {\n        this._destroyDatasetMeta(index);\n      }\n    });\n  }\n  buildOrUpdateControllers() {\n    const newControllers = [];\n    const datasets = this.data.datasets;\n    let i, ilen;\n    this._removeUnreferencedMetasets();\n    for (i = 0, ilen = datasets.length; i < ilen; i++) {\n      const dataset = datasets[i];\n      let meta = this.getDatasetMeta(i);\n      const type = dataset.type || this.config.type;\n      if (meta.type && meta.type !== type) {\n        this._destroyDatasetMeta(i);\n        meta = this.getDatasetMeta(i);\n      }\n      meta.type = type;\n      meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n      meta.order = dataset.order || 0;\n      meta.index = i;\n      meta.label = '' + dataset.label;\n      meta.visible = this.isDatasetVisible(i);\n      if (meta.controller) {\n        meta.controller.updateIndex(i);\n        meta.controller.linkScales();\n      } else {\n        const ControllerClass = registry.getController(type);\n        const {datasetElementType, dataElementType} = defaults.datasets[type];\n        Object.assign(ControllerClass.prototype, {\n          dataElementType: registry.getElement(dataElementType),\n          datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n        });\n        meta.controller = new ControllerClass(this, i);\n        newControllers.push(meta.controller);\n      }\n    }\n    this._updateMetasets();\n    return newControllers;\n  }\n  _resetElements() {\n    each(this.data.datasets, (dataset, datasetIndex) => {\n      this.getDatasetMeta(datasetIndex).controller.reset();\n    }, this);\n  }\n  reset() {\n    this._resetElements();\n    this.notifyPlugins('reset');\n  }\n  update(mode) {\n    const config = this.config;\n    config.update();\n    const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    each(this.scales, (scale) => {\n      layouts.removeBox(this, scale);\n    });\n    const animsDisabled = this._animationsDisabled = !options.animation;\n    this.ensureScalesHaveIDs();\n    this.buildOrUpdateScales();\n    const existingEvents = new Set(Object.keys(this._listeners));\n    const newEvents = new Set(options.events);\n    if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n      this.unbindEvents();\n      this.bindEvents();\n    }\n    this._plugins.invalidate();\n    if (this.notifyPlugins('beforeUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n    const newControllers = this.buildOrUpdateControllers();\n    this.notifyPlugins('beforeElementsUpdate');\n    let minPadding = 0;\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; i++) {\n      const {controller} = this.getDatasetMeta(i);\n      const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n      controller.buildOrUpdateElements(reset);\n      minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n    }\n    minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n    this._updateLayout(minPadding);\n    if (!animsDisabled) {\n      each(newControllers, (controller) => {\n        controller.reset();\n      });\n    }\n    this._updateDatasets(mode);\n    this.notifyPlugins('afterUpdate', {mode});\n    this._layers.sort(compare2Level('z', '_idx'));\n    if (this._lastEvent) {\n      this._eventHandler(this._lastEvent, true);\n    }\n    this.render();\n  }\n  _updateLayout(minPadding) {\n    if (this.notifyPlugins('beforeLayout', {cancelable: true}) === false) {\n      return;\n    }\n    layouts.update(this, this.width, this.height, minPadding);\n    const area = this.chartArea;\n    const noArea = area.width <= 0 || area.height <= 0;\n    this._layers = [];\n    each(this.boxes, (box) => {\n      if (noArea && box.position === 'chartArea') {\n        return;\n      }\n      if (box.configure) {\n        box.configure();\n      }\n      this._layers.push(...box._layers());\n    }, this);\n    this._layers.forEach((item, index) => {\n      item._idx = index;\n    });\n    this.notifyPlugins('afterLayout');\n  }\n  _updateDatasets(mode) {\n    if (this.notifyPlugins('beforeDatasetsUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._updateDataset(i, isFunction(mode) ? mode({datasetIndex: i}) : mode);\n    }\n    this.notifyPlugins('afterDatasetsUpdate', {mode});\n  }\n  _updateDataset(index, mode) {\n    const meta = this.getDatasetMeta(index);\n    const args = {meta, index, mode, cancelable: true};\n    if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n      return;\n    }\n    meta.controller._update(mode);\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetUpdate', args);\n  }\n  render() {\n    if (this.notifyPlugins('beforeRender', {cancelable: true}) === false) {\n      return;\n    }\n    if (animator.has(this)) {\n      if (this.attached && !animator.running(this)) {\n        animator.start(this);\n      }\n    } else {\n      this.draw();\n      onAnimationsComplete({chart: this});\n    }\n  }\n  draw() {\n    let i;\n    if (this._resizeBeforeDraw) {\n      const {width, height} = this._resizeBeforeDraw;\n      this._resize(width, height);\n      this._resizeBeforeDraw = null;\n    }\n    this.clear();\n    if (this.width <= 0 || this.height <= 0) {\n      return;\n    }\n    if (this.notifyPlugins('beforeDraw', {cancelable: true}) === false) {\n      return;\n    }\n    const layers = this._layers;\n    for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n    this._drawDatasets();\n    for (; i < layers.length; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n    this.notifyPlugins('afterDraw');\n  }\n  _getSortedDatasetMetas(filterVisible) {\n    const metasets = this._sortedMetasets;\n    const result = [];\n    let i, ilen;\n    for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n      const meta = metasets[i];\n      if (!filterVisible || meta.visible) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n  getSortedVisibleDatasetMetas() {\n    return this._getSortedDatasetMetas(true);\n  }\n  _drawDatasets() {\n    if (this.notifyPlugins('beforeDatasetsDraw', {cancelable: true}) === false) {\n      return;\n    }\n    const metasets = this.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      this._drawDataset(metasets[i]);\n    }\n    this.notifyPlugins('afterDatasetsDraw');\n  }\n  _drawDataset(meta) {\n    const ctx = this.ctx;\n    const clip = meta._clip;\n    const useClip = !clip.disabled;\n    const area = this.chartArea;\n    const args = {\n      meta,\n      index: meta.index,\n      cancelable: true\n    };\n    if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n      return;\n    }\n    if (useClip) {\n      clipArea(ctx, {\n        left: clip.left === false ? 0 : area.left - clip.left,\n        right: clip.right === false ? this.width : area.right + clip.right,\n        top: clip.top === false ? 0 : area.top - clip.top,\n        bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\n      });\n    }\n    meta.controller.draw();\n    if (useClip) {\n      unclipArea(ctx);\n    }\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetDraw', args);\n  }\n  getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n    const method = Interaction.modes[mode];\n    if (typeof method === 'function') {\n      return method(this, e, options, useFinalPosition);\n    }\n    return [];\n  }\n  getDatasetMeta(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    const metasets = this._metasets;\n    let meta = metasets.filter(x => x && x._dataset === dataset).pop();\n    if (!meta) {\n      meta = {\n        type: null,\n        data: [],\n        dataset: null,\n        controller: null,\n        hidden: null,\n        xAxisID: null,\n        yAxisID: null,\n        order: dataset && dataset.order || 0,\n        index: datasetIndex,\n        _dataset: dataset,\n        _parsed: [],\n        _sorted: false\n      };\n      metasets.push(meta);\n    }\n    return meta;\n  }\n  getContext() {\n    return this.$context || (this.$context = createContext(null, {chart: this, type: 'chart'}));\n  }\n  getVisibleDatasetCount() {\n    return this.getSortedVisibleDatasetMetas().length;\n  }\n  isDatasetVisible(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    if (!dataset) {\n      return false;\n    }\n    const meta = this.getDatasetMeta(datasetIndex);\n    return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n  }\n  setDatasetVisibility(datasetIndex, visible) {\n    const meta = this.getDatasetMeta(datasetIndex);\n    meta.hidden = !visible;\n  }\n  toggleDataVisibility(index) {\n    this._hiddenIndices[index] = !this._hiddenIndices[index];\n  }\n  getDataVisibility(index) {\n    return !this._hiddenIndices[index];\n  }\n  _updateVisibility(datasetIndex, dataIndex, visible) {\n    const mode = visible ? 'show' : 'hide';\n    const meta = this.getDatasetMeta(datasetIndex);\n    const anims = meta.controller._resolveAnimations(undefined, mode);\n    if (defined(dataIndex)) {\n      meta.data[dataIndex].hidden = !visible;\n      this.update();\n    } else {\n      this.setDatasetVisibility(datasetIndex, visible);\n      anims.update(meta, {visible});\n      this.update((ctx) => ctx.datasetIndex === datasetIndex ? mode : undefined);\n    }\n  }\n  hide(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, false);\n  }\n  show(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, true);\n  }\n  _destroyDatasetMeta(datasetIndex) {\n    const meta = this._metasets[datasetIndex];\n    if (meta && meta.controller) {\n      meta.controller._destroy();\n    }\n    delete this._metasets[datasetIndex];\n  }\n  _stop() {\n    let i, ilen;\n    this.stop();\n    animator.remove(this);\n    for (i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._destroyDatasetMeta(i);\n    }\n  }\n  destroy() {\n    const {canvas, ctx} = this;\n    this._stop();\n    this.config.clearCache();\n    if (canvas) {\n      this.unbindEvents();\n      clearCanvas(canvas, ctx);\n      this.platform.releaseContext(ctx);\n      this.canvas = null;\n      this.ctx = null;\n    }\n    this.notifyPlugins('destroy');\n    delete instances[this.id];\n  }\n  toBase64Image(...args) {\n    return this.canvas.toDataURL(...args);\n  }\n  bindEvents() {\n    this.bindUserEvents();\n    if (this.options.responsive) {\n      this.bindResponsiveEvents();\n    } else {\n      this.attached = true;\n    }\n  }\n  bindUserEvents() {\n    const listeners = this._listeners;\n    const platform = this.platform;\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const listener = (e, x, y) => {\n      e.offsetX = x;\n      e.offsetY = y;\n      this._eventHandler(e);\n    };\n    each(this.options.events, (type) => _add(type, listener));\n  }\n  bindResponsiveEvents() {\n    if (!this._responsiveListeners) {\n      this._responsiveListeners = {};\n    }\n    const listeners = this._responsiveListeners;\n    const platform = this.platform;\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const _remove = (type, listener) => {\n      if (listeners[type]) {\n        platform.removeEventListener(this, type, listener);\n        delete listeners[type];\n      }\n    };\n    const listener = (width, height) => {\n      if (this.canvas) {\n        this.resize(width, height);\n      }\n    };\n    let detached;\n    const attached = () => {\n      _remove('attach', attached);\n      this.attached = true;\n      this.resize();\n      _add('resize', listener);\n      _add('detach', detached);\n    };\n    detached = () => {\n      this.attached = false;\n      _remove('resize', listener);\n      this._stop();\n      this._resize(0, 0);\n      _add('attach', attached);\n    };\n    if (platform.isAttached(this.canvas)) {\n      attached();\n    } else {\n      detached();\n    }\n  }\n  unbindEvents() {\n    each(this._listeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._listeners = {};\n    each(this._responsiveListeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._responsiveListeners = undefined;\n  }\n  updateHoverStyle(items, mode, enabled) {\n    const prefix = enabled ? 'set' : 'remove';\n    let meta, item, i, ilen;\n    if (mode === 'dataset') {\n      meta = this.getDatasetMeta(items[0].datasetIndex);\n      meta.controller['_' + prefix + 'DatasetHoverStyle']();\n    }\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      item = items[i];\n      const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n      if (controller) {\n        controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n      }\n    }\n  }\n  getActiveElements() {\n    return this._active || [];\n  }\n  setActiveElements(activeElements) {\n    const lastActive = this._active || [];\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('No dataset found at index ' + datasetIndex);\n      }\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed) {\n      this._active = active;\n      this._updateHoverStyles(active, lastActive);\n    }\n  }\n  notifyPlugins(hook, args, filter) {\n    return this._plugins.notify(this, hook, args, filter);\n  }\n  _updateHoverStyles(active, lastActive, replay) {\n    const hoverOptions = this.options.hover;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.datasetIndex === y.datasetIndex && x.index === y.index));\n    const deactivated = diff(lastActive, active);\n    const activated = replay ? active : diff(active, lastActive);\n    if (deactivated.length) {\n      this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n    }\n    if (activated.length && hoverOptions.mode) {\n      this.updateHoverStyle(activated, hoverOptions.mode, true);\n    }\n  }\n  _eventHandler(e, replay) {\n    const args = {event: e, replay, cancelable: true};\n    const eventFilter = (plugin) => (plugin.options.events || this.options.events).includes(e.native.type);\n    if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n      return;\n    }\n    const changed = this._handleEvent(e, replay);\n    args.cancelable = false;\n    this.notifyPlugins('afterEvent', args, eventFilter);\n    if (changed || args.changed) {\n      this.render();\n    }\n    return this;\n  }\n  _handleEvent(e, replay) {\n    const {_active: lastActive = [], options} = this;\n    const hoverOptions = options.hover;\n    const useFinalPosition = replay;\n    let active = [];\n    let changed = false;\n    let lastEvent = null;\n    if (e.type !== 'mouseout') {\n      active = this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n      lastEvent = e.type === 'click' ? this._lastEvent : e;\n    }\n    this._lastEvent = null;\n    if (_isPointInArea(e, this.chartArea, this._minPadding)) {\n      callback(options.onHover, [e, active, this], this);\n      if (e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu') {\n        callback(options.onClick, [e, active, this], this);\n      }\n    }\n    changed = !_elementsEqual(active, lastActive);\n    if (changed || replay) {\n      this._active = active;\n      this._updateHoverStyles(active, lastActive, replay);\n    }\n    this._lastEvent = lastEvent;\n    return changed;\n  }\n}\nconst invalidatePlugins = () => each(Chart.instances, (chart) => chart._plugins.invalidate());\nconst enumerable = true;\nObject.defineProperties(Chart, {\n  defaults: {\n    enumerable,\n    value: defaults\n  },\n  instances: {\n    enumerable,\n    value: instances\n  },\n  overrides: {\n    enumerable,\n    value: overrides\n  },\n  registry: {\n    enumerable,\n    value: registry\n  },\n  version: {\n    enumerable,\n    value: version\n  },\n  getChart: {\n    enumerable,\n    value: getChart\n  },\n  register: {\n    enumerable,\n    value: (...items) => {\n      registry.add(...items);\n      invalidatePlugins();\n    }\n  },\n  unregister: {\n    enumerable,\n    value: (...items) => {\n      registry.remove(...items);\n      invalidatePlugins();\n    }\n  }\n});\n\nfunction clipArc(ctx, element, endAngle) {\n  const {startAngle, pixelMargin, x, y, outerRadius, innerRadius} = element;\n  let angleMargin = pixelMargin / outerRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n  if (innerRadius > pixelMargin) {\n    angleMargin = pixelMargin / innerRadius;\n    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n  } else {\n    ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n  }\n  ctx.closePath();\n  ctx.clip();\n}\nfunction toRadiusCorners(value) {\n  return _readValueToProps(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);\n}\nfunction parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {\n  const o = toRadiusCorners(arc.options.borderRadius);\n  const halfThickness = (outerRadius - innerRadius) / 2;\n  const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n  const computeOuterLimit = (val) => {\n    const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n    return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n  };\n  return {\n    outerStart: computeOuterLimit(o.outerStart),\n    outerEnd: computeOuterLimit(o.outerEnd),\n    innerStart: _limitValue(o.innerStart, 0, innerLimit),\n    innerEnd: _limitValue(o.innerEnd, 0, innerLimit),\n  };\n}\nfunction rThetaToXY(r, theta, x, y) {\n  return {\n    x: x + r * Math.cos(theta),\n    y: y + r * Math.sin(theta),\n  };\n}\nfunction pathArc(ctx, element, offset, spacing, end) {\n  const {x, y, startAngle: start, pixelMargin, innerRadius: innerR} = element;\n  const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n  const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n  let spacingOffset = 0;\n  const alpha = end - start;\n  if (spacing) {\n    const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n    const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n    const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n    const adjustedAngle = avNogSpacingRadius !== 0 ? (alpha * avNogSpacingRadius) / (avNogSpacingRadius + spacing) : alpha;\n    spacingOffset = (alpha - adjustedAngle) / 2;\n  }\n  const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n  const angleOffset = (alpha - beta) / 2;\n  const startAngle = start + angleOffset + spacingOffset;\n  const endAngle = end - angleOffset - spacingOffset;\n  const {outerStart, outerEnd, innerStart, innerEnd} = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle);\n  const outerStartAdjustedRadius = outerRadius - outerStart;\n  const outerEndAdjustedRadius = outerRadius - outerEnd;\n  const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n  const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n  const innerStartAdjustedRadius = innerRadius + innerStart;\n  const innerEndAdjustedRadius = innerRadius + innerEnd;\n  const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n  const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerEndAdjustedAngle);\n  if (outerEnd > 0) {\n    const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n  }\n  const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n  ctx.lineTo(p4.x, p4.y);\n  if (innerEnd > 0) {\n    const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n  }\n  ctx.arc(x, y, innerRadius, endAngle - (innerEnd / innerRadius), startAngle + (innerStart / innerRadius), true);\n  if (innerStart > 0) {\n    const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n  }\n  const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n  ctx.lineTo(p8.x, p8.y);\n  if (outerStart > 0) {\n    const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n  }\n  ctx.closePath();\n}\nfunction drawArc(ctx, element, offset, spacing) {\n  const {fullCircles, startAngle, circumference} = element;\n  let endAngle = element.endAngle;\n  if (fullCircles) {\n    pathArc(ctx, element, offset, spacing, startAngle + TAU);\n    for (let i = 0; i < fullCircles; ++i) {\n      ctx.fill();\n    }\n    if (!isNaN(circumference)) {\n      endAngle = startAngle + circumference % TAU;\n      if (circumference % TAU === 0) {\n        endAngle += TAU;\n      }\n    }\n  }\n  pathArc(ctx, element, offset, spacing, endAngle);\n  ctx.fill();\n  return endAngle;\n}\nfunction drawFullCircleBorders(ctx, element, inner) {\n  const {x, y, startAngle, pixelMargin, fullCircles} = element;\n  const outerRadius = Math.max(element.outerRadius - pixelMargin, 0);\n  const innerRadius = element.innerRadius + pixelMargin;\n  let i;\n  if (inner) {\n    clipArc(ctx, element, startAngle + TAU);\n  }\n  ctx.beginPath();\n  ctx.arc(x, y, innerRadius, startAngle + TAU, startAngle, true);\n  for (i = 0; i < fullCircles; ++i) {\n    ctx.stroke();\n  }\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle, startAngle + TAU);\n  for (i = 0; i < fullCircles; ++i) {\n    ctx.stroke();\n  }\n}\nfunction drawBorder(ctx, element, offset, spacing, endAngle) {\n  const {options} = element;\n  const inner = options.borderAlign === 'inner';\n  if (!options.borderWidth) {\n    return;\n  }\n  if (inner) {\n    ctx.lineWidth = options.borderWidth * 2;\n    ctx.lineJoin = 'round';\n  } else {\n    ctx.lineWidth = options.borderWidth;\n    ctx.lineJoin = 'bevel';\n  }\n  if (element.fullCircles) {\n    drawFullCircleBorders(ctx, element, inner);\n  }\n  if (inner) {\n    clipArc(ctx, element, endAngle);\n  }\n  pathArc(ctx, element, offset, spacing, endAngle);\n  ctx.stroke();\n}\nclass ArcElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.circumference = undefined;\n    this.startAngle = undefined;\n    this.endAngle = undefined;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.pixelMargin = 0;\n    this.fullCircles = 0;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  inRange(chartX, chartY, useFinalPosition) {\n    const point = this.getProps(['x', 'y'], useFinalPosition);\n    const {angle, distance} = getAngleFromPoint(point, {x: chartX, y: chartY});\n    const {startAngle, endAngle, innerRadius, outerRadius, circumference} = this.getProps([\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference'\n    ], useFinalPosition);\n    const rAdjust = this.options.spacing / 2;\n    const betweenAngles = circumference >= TAU || _angleBetween(angle, startAngle, endAngle);\n    const withinRadius = (distance >= innerRadius + rAdjust && distance <= outerRadius + rAdjust);\n    return (betweenAngles && withinRadius);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y, startAngle, endAngle, innerRadius, outerRadius} = this.getProps([\n      'x',\n      'y',\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference',\n    ], useFinalPosition);\n    const {offset, spacing} = this.options;\n    const halfAngle = (startAngle + endAngle) / 2;\n    const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n    return {\n      x: x + Math.cos(halfAngle) * halfRadius,\n      y: y + Math.sin(halfAngle) * halfRadius\n    };\n  }\n  tooltipPosition(useFinalPosition) {\n    return this.getCenterPoint(useFinalPosition);\n  }\n  draw(ctx) {\n    const {options, circumference} = this;\n    const offset = (options.offset || 0) / 2;\n    const spacing = (options.spacing || 0) / 2;\n    this.pixelMargin = (options.borderAlign === 'inner') ? 0.33 : 0;\n    this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n    if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n      return;\n    }\n    ctx.save();\n    let radiusOffset = 0;\n    if (offset) {\n      radiusOffset = offset / 2;\n      const halfAngle = (this.startAngle + this.endAngle) / 2;\n      ctx.translate(Math.cos(halfAngle) * radiusOffset, Math.sin(halfAngle) * radiusOffset);\n      if (this.circumference >= PI) {\n        radiusOffset = offset;\n      }\n    }\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    const endAngle = drawArc(ctx, this, radiusOffset, spacing);\n    drawBorder(ctx, this, radiusOffset, spacing, endAngle);\n    ctx.restore();\n  }\n}\nArcElement.id = 'arc';\nArcElement.defaults = {\n  borderAlign: 'center',\n  borderColor: '#fff',\n  borderRadius: 0,\n  borderWidth: 2,\n  offset: 0,\n  spacing: 0,\n  angle: undefined,\n};\nArcElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor'\n};\n\nfunction setStyle(ctx, options, style = options) {\n  ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n  ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n  ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n  ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n  ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n  ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\nfunction lineTo(ctx, previous, target) {\n  ctx.lineTo(target.x, target.y);\n}\nfunction getLineMethod(options) {\n  if (options.stepped) {\n    return _steppedLineTo;\n  }\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierCurveTo;\n  }\n  return lineTo;\n}\nfunction pathVars(points, segment, params = {}) {\n  const count = points.length;\n  const {start: paramsStart = 0, end: paramsEnd = count - 1} = params;\n  const {start: segmentStart, end: segmentEnd} = segment;\n  const start = Math.max(paramsStart, segmentStart);\n  const end = Math.min(paramsEnd, segmentEnd);\n  const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n  return {\n    count,\n    start,\n    loop: segment.loop,\n    ilen: end < start && !outside ? count + end - start : end - start\n  };\n}\nfunction pathSegment(ctx, line, segment, params) {\n  const {points, options} = line;\n  const {count, start, loop, ilen} = pathVars(points, segment, params);\n  const lineMethod = getLineMethod(options);\n  let {move = true, reverse} = params || {};\n  let i, point, prev;\n  for (i = 0; i <= ilen; ++i) {\n    point = points[(start + (reverse ? ilen - i : i)) % count];\n    if (point.skip) {\n      continue;\n    } else if (move) {\n      ctx.moveTo(point.x, point.y);\n      move = false;\n    } else {\n      lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n    prev = point;\n  }\n  if (loop) {\n    point = points[(start + (reverse ? ilen : 0)) % count];\n    lineMethod(ctx, prev, point, reverse, options.stepped);\n  }\n  return !!loop;\n}\nfunction fastPathSegment(ctx, line, segment, params) {\n  const points = line.points;\n  const {count, start, ilen} = pathVars(points, segment, params);\n  const {move = true, reverse} = params || {};\n  let avgX = 0;\n  let countX = 0;\n  let i, point, prevX, minY, maxY, lastY;\n  const pointIndex = (index) => (start + (reverse ? ilen - index : index)) % count;\n  const drawX = () => {\n    if (minY !== maxY) {\n      ctx.lineTo(avgX, maxY);\n      ctx.lineTo(avgX, minY);\n      ctx.lineTo(avgX, lastY);\n    }\n  };\n  if (move) {\n    point = points[pointIndex(0)];\n    ctx.moveTo(point.x, point.y);\n  }\n  for (i = 0; i <= ilen; ++i) {\n    point = points[pointIndex(i)];\n    if (point.skip) {\n      continue;\n    }\n    const x = point.x;\n    const y = point.y;\n    const truncX = x | 0;\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n      } else if (y > maxY) {\n        maxY = y;\n      }\n      avgX = (countX * avgX + x) / ++countX;\n    } else {\n      drawX();\n      ctx.lineTo(x, y);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n    }\n    lastY = y;\n  }\n  drawX();\n}\nfunction _getSegmentMethod(line) {\n  const opts = line.options;\n  const borderDash = opts.borderDash && opts.borderDash.length;\n  const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n  return useFastPath ? fastPathSegment : pathSegment;\n}\nfunction _getInterpolationMethod(options) {\n  if (options.stepped) {\n    return _steppedInterpolation;\n  }\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierInterpolation;\n  }\n  return _pointInLine;\n}\nfunction strokePathWithCache(ctx, line, start, count) {\n  let path = line._path;\n  if (!path) {\n    path = line._path = new Path2D();\n    if (line.path(path, start, count)) {\n      path.closePath();\n    }\n  }\n  setStyle(ctx, line.options);\n  ctx.stroke(path);\n}\nfunction strokePathDirect(ctx, line, start, count) {\n  const {segments, options} = line;\n  const segmentMethod = _getSegmentMethod(line);\n  for (const segment of segments) {\n    setStyle(ctx, options, segment.style);\n    ctx.beginPath();\n    if (segmentMethod(ctx, line, segment, {start, end: start + count - 1})) {\n      ctx.closePath();\n    }\n    ctx.stroke();\n  }\n}\nconst usePath2D = typeof Path2D === 'function';\nfunction draw(ctx, line, start, count) {\n  if (usePath2D && !line.options.segment) {\n    strokePathWithCache(ctx, line, start, count);\n  } else {\n    strokePathDirect(ctx, line, start, count);\n  }\n}\nclass LineElement extends Element {\n  constructor(cfg) {\n    super();\n    this.animated = true;\n    this.options = undefined;\n    this._chart = undefined;\n    this._loop = undefined;\n    this._fullLoop = undefined;\n    this._path = undefined;\n    this._points = undefined;\n    this._segments = undefined;\n    this._decimated = false;\n    this._pointsUpdated = false;\n    this._datasetIndex = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  updateControlPoints(chartArea, indexAxis) {\n    const options = this.options;\n    if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n      const loop = options.spanGaps ? this._loop : this._fullLoop;\n      _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n      this._pointsUpdated = true;\n    }\n  }\n  set points(points) {\n    this._points = points;\n    delete this._segments;\n    delete this._path;\n    this._pointsUpdated = false;\n  }\n  get points() {\n    return this._points;\n  }\n  get segments() {\n    return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n  }\n  first() {\n    const segments = this.segments;\n    const points = this.points;\n    return segments.length && points[segments[0].start];\n  }\n  last() {\n    const segments = this.segments;\n    const points = this.points;\n    const count = segments.length;\n    return count && points[segments[count - 1].end];\n  }\n  interpolate(point, property) {\n    const options = this.options;\n    const value = point[property];\n    const points = this.points;\n    const segments = _boundSegments(this, {property, start: value, end: value});\n    if (!segments.length) {\n      return;\n    }\n    const result = [];\n    const _interpolate = _getInterpolationMethod(options);\n    let i, ilen;\n    for (i = 0, ilen = segments.length; i < ilen; ++i) {\n      const {start, end} = segments[i];\n      const p1 = points[start];\n      const p2 = points[end];\n      if (p1 === p2) {\n        result.push(p1);\n        continue;\n      }\n      const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n      const interpolated = _interpolate(p1, p2, t, options.stepped);\n      interpolated[property] = point[property];\n      result.push(interpolated);\n    }\n    return result.length === 1 ? result[0] : result;\n  }\n  pathSegment(ctx, segment, params) {\n    const segmentMethod = _getSegmentMethod(this);\n    return segmentMethod(ctx, this, segment, params);\n  }\n  path(ctx, start, count) {\n    const segments = this.segments;\n    const segmentMethod = _getSegmentMethod(this);\n    let loop = this._loop;\n    start = start || 0;\n    count = count || (this.points.length - start);\n    for (const segment of segments) {\n      loop &= segmentMethod(ctx, this, segment, {start, end: start + count - 1});\n    }\n    return !!loop;\n  }\n  draw(ctx, chartArea, start, count) {\n    const options = this.options || {};\n    const points = this.points || [];\n    if (points.length && options.borderWidth) {\n      ctx.save();\n      draw(ctx, this, start, count);\n      ctx.restore();\n    }\n    if (this.animated) {\n      this._pointsUpdated = false;\n      this._path = undefined;\n    }\n  }\n}\nLineElement.id = 'line';\nLineElement.defaults = {\n  borderCapStyle: 'butt',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderWidth: 3,\n  capBezierPoints: true,\n  cubicInterpolationMode: 'default',\n  fill: false,\n  spanGaps: false,\n  stepped: false,\n  tension: 0,\n};\nLineElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\nLineElement.descriptors = {\n  _scriptable: true,\n  _indexable: (name) => name !== 'borderDash' && name !== 'fill',\n};\n\nfunction inRange$1(el, pos, axis, useFinalPosition) {\n  const options = el.options;\n  const {[axis]: value} = el.getProps([axis], useFinalPosition);\n  return (Math.abs(pos - value) < options.radius + options.hitRadius);\n}\nclass PointElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.parsed = undefined;\n    this.skip = undefined;\n    this.stop = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  inRange(mouseX, mouseY, useFinalPosition) {\n    const options = this.options;\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return ((Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2)) < Math.pow(options.hitRadius + options.radius, 2));\n  }\n  inXRange(mouseX, useFinalPosition) {\n    return inRange$1(this, mouseX, 'x', useFinalPosition);\n  }\n  inYRange(mouseY, useFinalPosition) {\n    return inRange$1(this, mouseY, 'y', useFinalPosition);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n  size(options) {\n    options = options || this.options || {};\n    let radius = options.radius || 0;\n    radius = Math.max(radius, radius && options.hoverRadius || 0);\n    const borderWidth = radius && options.borderWidth || 0;\n    return (radius + borderWidth) * 2;\n  }\n  draw(ctx, area) {\n    const options = this.options;\n    if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n      return;\n    }\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.fillStyle = options.backgroundColor;\n    drawPoint(ctx, options, this.x, this.y);\n  }\n  getRange() {\n    const options = this.options || {};\n    return options.radius + options.hitRadius;\n  }\n}\nPointElement.id = 'point';\nPointElement.defaults = {\n  borderWidth: 1,\n  hitRadius: 1,\n  hoverBorderWidth: 1,\n  hoverRadius: 4,\n  pointStyle: 'circle',\n  radius: 3,\n  rotation: 0\n};\nPointElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nfunction getBarBounds(bar, useFinalPosition) {\n  const {x, y, base, width, height} = bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition);\n  let left, right, top, bottom, half;\n  if (bar.horizontal) {\n    half = height / 2;\n    left = Math.min(x, base);\n    right = Math.max(x, base);\n    top = y - half;\n    bottom = y + half;\n  } else {\n    half = width / 2;\n    left = x - half;\n    right = x + half;\n    top = Math.min(y, base);\n    bottom = Math.max(y, base);\n  }\n  return {left, top, right, bottom};\n}\nfunction skipOrLimit(skip, value, min, max) {\n  return skip ? 0 : _limitValue(value, min, max);\n}\nfunction parseBorderWidth(bar, maxW, maxH) {\n  const value = bar.options.borderWidth;\n  const skip = bar.borderSkipped;\n  const o = toTRBL(value);\n  return {\n    t: skipOrLimit(skip.top, o.top, 0, maxH),\n    r: skipOrLimit(skip.right, o.right, 0, maxW),\n    b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n    l: skipOrLimit(skip.left, o.left, 0, maxW)\n  };\n}\nfunction parseBorderRadius(bar, maxW, maxH) {\n  const {enableBorderRadius} = bar.getProps(['enableBorderRadius']);\n  const value = bar.options.borderRadius;\n  const o = toTRBLCorners(value);\n  const maxR = Math.min(maxW, maxH);\n  const skip = bar.borderSkipped;\n  const enableBorder = enableBorderRadius || isObject(value);\n  return {\n    topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n    topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n    bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n    bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n  };\n}\nfunction boundingRects(bar) {\n  const bounds = getBarBounds(bar);\n  const width = bounds.right - bounds.left;\n  const height = bounds.bottom - bounds.top;\n  const border = parseBorderWidth(bar, width / 2, height / 2);\n  const radius = parseBorderRadius(bar, width / 2, height / 2);\n  return {\n    outer: {\n      x: bounds.left,\n      y: bounds.top,\n      w: width,\n      h: height,\n      radius\n    },\n    inner: {\n      x: bounds.left + border.l,\n      y: bounds.top + border.t,\n      w: width - border.l - border.r,\n      h: height - border.t - border.b,\n      radius: {\n        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r)),\n      }\n    }\n  };\n}\nfunction inRange(bar, x, y, useFinalPosition) {\n  const skipX = x === null;\n  const skipY = y === null;\n  const skipBoth = skipX && skipY;\n  const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n  return bounds\n\t\t&& (skipX || x >= bounds.left && x <= bounds.right)\n\t\t&& (skipY || y >= bounds.top && y <= bounds.bottom);\n}\nfunction hasRadius(radius) {\n  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\nfunction addNormalRectPath(ctx, rect) {\n  ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\nfunction inflateRect(rect, amount, refRect = {}) {\n  const x = rect.x !== refRect.x ? -amount : 0;\n  const y = rect.y !== refRect.y ? -amount : 0;\n  const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n  const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n  return {\n    x: rect.x + x,\n    y: rect.y + y,\n    w: rect.w + w,\n    h: rect.h + h,\n    radius: rect.radius\n  };\n}\nclass BarElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.horizontal = undefined;\n    this.base = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.inflateAmount = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  draw(ctx) {\n    const {inflateAmount, options: {borderColor, backgroundColor}} = this;\n    const {inner, outer} = boundingRects(this);\n    const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n    ctx.save();\n    if (outer.w !== inner.w || outer.h !== inner.h) {\n      ctx.beginPath();\n      addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n      ctx.clip();\n      addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n      ctx.fillStyle = borderColor;\n      ctx.fill('evenodd');\n    }\n    ctx.beginPath();\n    addRectPath(ctx, inflateRect(inner, inflateAmount));\n    ctx.fillStyle = backgroundColor;\n    ctx.fill();\n    ctx.restore();\n  }\n  inRange(mouseX, mouseY, useFinalPosition) {\n    return inRange(this, mouseX, mouseY, useFinalPosition);\n  }\n  inXRange(mouseX, useFinalPosition) {\n    return inRange(this, mouseX, null, useFinalPosition);\n  }\n  inYRange(mouseY, useFinalPosition) {\n    return inRange(this, null, mouseY, useFinalPosition);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y, base, horizontal} = this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition);\n    return {\n      x: horizontal ? (x + base) / 2 : x,\n      y: horizontal ? y : (y + base) / 2\n    };\n  }\n  getRange(axis) {\n    return axis === 'x' ? this.width / 2 : this.height / 2;\n  }\n}\nBarElement.id = 'bar';\nBarElement.defaults = {\n  borderSkipped: 'start',\n  borderWidth: 0,\n  borderRadius: 0,\n  inflateAmount: 'auto',\n  pointStyle: undefined\n};\nBarElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nvar elements = /*#__PURE__*/Object.freeze({\n__proto__: null,\nArcElement: ArcElement,\nLineElement: LineElement,\nPointElement: PointElement,\nBarElement: BarElement\n});\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n  const samples = options.samples || availableWidth;\n  if (samples >= count) {\n    return data.slice(start, start + count);\n  }\n  const decimated = [];\n  const bucketWidth = (count - 2) / (samples - 2);\n  let sampledIndex = 0;\n  const endIndex = start + count - 1;\n  let a = start;\n  let i, maxAreaPoint, maxArea, area, nextA;\n  decimated[sampledIndex++] = data[a];\n  for (i = 0; i < samples - 2; i++) {\n    let avgX = 0;\n    let avgY = 0;\n    let j;\n    const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n    const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n    const avgRangeLength = avgRangeEnd - avgRangeStart;\n    for (j = avgRangeStart; j < avgRangeEnd; j++) {\n      avgX += data[j].x;\n      avgY += data[j].y;\n    }\n    avgX /= avgRangeLength;\n    avgY /= avgRangeLength;\n    const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n    const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;\n    const {x: pointAx, y: pointAy} = data[a];\n    maxArea = area = -1;\n    for (j = rangeOffs; j < rangeTo; j++) {\n      area = 0.5 * Math.abs(\n        (pointAx - avgX) * (data[j].y - pointAy) -\n        (pointAx - data[j].x) * (avgY - pointAy)\n      );\n      if (area > maxArea) {\n        maxArea = area;\n        maxAreaPoint = data[j];\n        nextA = j;\n      }\n    }\n    decimated[sampledIndex++] = maxAreaPoint;\n    a = nextA;\n  }\n  decimated[sampledIndex++] = data[endIndex];\n  return decimated;\n}\nfunction minMaxDecimation(data, start, count, availableWidth) {\n  let avgX = 0;\n  let countX = 0;\n  let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n  const decimated = [];\n  const endIndex = start + count - 1;\n  const xMin = data[start].x;\n  const xMax = data[endIndex].x;\n  const dx = xMax - xMin;\n  for (i = start; i < start + count; ++i) {\n    point = data[i];\n    x = (point.x - xMin) / dx * availableWidth;\n    y = point.y;\n    const truncX = x | 0;\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n        minIndex = i;\n      } else if (y > maxY) {\n        maxY = y;\n        maxIndex = i;\n      }\n      avgX = (countX * avgX + point.x) / ++countX;\n    } else {\n      const lastIndex = i - 1;\n      if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n        const intermediateIndex1 = Math.min(minIndex, maxIndex);\n        const intermediateIndex2 = Math.max(minIndex, maxIndex);\n        if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex1],\n            x: avgX,\n          });\n        }\n        if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex2],\n            x: avgX\n          });\n        }\n      }\n      if (i > 0 && lastIndex !== startIndex) {\n        decimated.push(data[lastIndex]);\n      }\n      decimated.push(point);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n      minIndex = maxIndex = startIndex = i;\n    }\n  }\n  return decimated;\n}\nfunction cleanDecimatedDataset(dataset) {\n  if (dataset._decimated) {\n    const data = dataset._data;\n    delete dataset._decimated;\n    delete dataset._data;\n    Object.defineProperty(dataset, 'data', {value: data});\n  }\n}\nfunction cleanDecimatedData(chart) {\n  chart.data.datasets.forEach((dataset) => {\n    cleanDecimatedDataset(dataset);\n  });\n}\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n  const pointCount = points.length;\n  let start = 0;\n  let count;\n  const {iScale} = meta;\n  const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n  if (minDefined) {\n    start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n  }\n  if (maxDefined) {\n    count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n  } else {\n    count = pointCount - start;\n  }\n  return {start, count};\n}\nvar plugin_decimation = {\n  id: 'decimation',\n  defaults: {\n    algorithm: 'min-max',\n    enabled: false,\n  },\n  beforeElementsUpdate: (chart, args, options) => {\n    if (!options.enabled) {\n      cleanDecimatedData(chart);\n      return;\n    }\n    const availableWidth = chart.width;\n    chart.data.datasets.forEach((dataset, datasetIndex) => {\n      const {_data, indexAxis} = dataset;\n      const meta = chart.getDatasetMeta(datasetIndex);\n      const data = _data || dataset.data;\n      if (resolve([indexAxis, chart.options.indexAxis]) === 'y') {\n        return;\n      }\n      if (meta.type !== 'line') {\n        return;\n      }\n      const xAxis = chart.scales[meta.xAxisID];\n      if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n        return;\n      }\n      if (chart.options.parsing) {\n        return;\n      }\n      let {start, count} = getStartAndCountOfVisiblePointsSimplified(meta, data);\n      const threshold = options.threshold || 4 * availableWidth;\n      if (count <= threshold) {\n        cleanDecimatedDataset(dataset);\n        return;\n      }\n      if (isNullOrUndef(_data)) {\n        dataset._data = data;\n        delete dataset.data;\n        Object.defineProperty(dataset, 'data', {\n          configurable: true,\n          enumerable: true,\n          get: function() {\n            return this._decimated;\n          },\n          set: function(d) {\n            this._data = d;\n          }\n        });\n      }\n      let decimated;\n      switch (options.algorithm) {\n      case 'lttb':\n        decimated = lttbDecimation(data, start, count, availableWidth, options);\n        break;\n      case 'min-max':\n        decimated = minMaxDecimation(data, start, count, availableWidth);\n        break;\n      default:\n        throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);\n      }\n      dataset._decimated = decimated;\n    });\n  },\n  destroy(chart) {\n    cleanDecimatedData(chart);\n  }\n};\n\nfunction getLineByIndex(chart, index) {\n  const meta = chart.getDatasetMeta(index);\n  const visible = meta && chart.isDatasetVisible(index);\n  return visible ? meta.dataset : null;\n}\nfunction parseFillOption(line) {\n  const options = line.options;\n  const fillOption = options.fill;\n  let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n  if (fill === undefined) {\n    fill = !!options.backgroundColor;\n  }\n  if (fill === false || fill === null) {\n    return false;\n  }\n  if (fill === true) {\n    return 'origin';\n  }\n  return fill;\n}\nfunction decodeFill(line, index, count) {\n  const fill = parseFillOption(line);\n  if (isObject(fill)) {\n    return isNaN(fill.value) ? false : fill;\n  }\n  let target = parseFloat(fill);\n  if (isNumberFinite(target) && Math.floor(target) === target) {\n    if (fill[0] === '-' || fill[0] === '+') {\n      target = index + target;\n    }\n    if (target === index || target < 0 || target >= count) {\n      return false;\n    }\n    return target;\n  }\n  return ['origin', 'start', 'end', 'stack', 'shape'].indexOf(fill) >= 0 && fill;\n}\nfunction computeLinearBoundary(source) {\n  const {scale = {}, fill} = source;\n  let target = null;\n  let horizontal;\n  if (fill === 'start') {\n    target = scale.bottom;\n  } else if (fill === 'end') {\n    target = scale.top;\n  } else if (isObject(fill)) {\n    target = scale.getPixelForValue(fill.value);\n  } else if (scale.getBasePixel) {\n    target = scale.getBasePixel();\n  }\n  if (isNumberFinite(target)) {\n    horizontal = scale.isHorizontal();\n    return {\n      x: horizontal ? target : null,\n      y: horizontal ? null : target\n    };\n  }\n  return null;\n}\nclass simpleArc {\n  constructor(opts) {\n    this.x = opts.x;\n    this.y = opts.y;\n    this.radius = opts.radius;\n  }\n  pathSegment(ctx, bounds, opts) {\n    const {x, y, radius} = this;\n    bounds = bounds || {start: 0, end: TAU};\n    ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n    return !opts.bounds;\n  }\n  interpolate(point) {\n    const {x, y, radius} = this;\n    const angle = point.angle;\n    return {\n      x: x + Math.cos(angle) * radius,\n      y: y + Math.sin(angle) * radius,\n      angle\n    };\n  }\n}\nfunction computeCircularBoundary(source) {\n  const {scale, fill} = source;\n  const options = scale.options;\n  const length = scale.getLabels().length;\n  const target = [];\n  const start = options.reverse ? scale.max : scale.min;\n  const end = options.reverse ? scale.min : scale.max;\n  let i, center, value;\n  if (fill === 'start') {\n    value = start;\n  } else if (fill === 'end') {\n    value = end;\n  } else if (isObject(fill)) {\n    value = fill.value;\n  } else {\n    value = scale.getBaseValue();\n  }\n  if (options.grid.circular) {\n    center = scale.getPointPositionForValue(0, start);\n    return new simpleArc({\n      x: center.x,\n      y: center.y,\n      radius: scale.getDistanceFromCenterForValue(value)\n    });\n  }\n  for (i = 0; i < length; ++i) {\n    target.push(scale.getPointPositionForValue(i, value));\n  }\n  return target;\n}\nfunction computeBoundary(source) {\n  const scale = source.scale || {};\n  if (scale.getPointPositionForValue) {\n    return computeCircularBoundary(source);\n  }\n  return computeLinearBoundary(source);\n}\nfunction findSegmentEnd(start, end, points) {\n  for (;end > start; end--) {\n    const point = points[end];\n    if (!isNaN(point.x) && !isNaN(point.y)) {\n      break;\n    }\n  }\n  return end;\n}\nfunction pointsFromSegments(boundary, line) {\n  const {x = null, y = null} = boundary || {};\n  const linePoints = line.points;\n  const points = [];\n  line.segments.forEach(({start, end}) => {\n    end = findSegmentEnd(start, end, linePoints);\n    const first = linePoints[start];\n    const last = linePoints[end];\n    if (y !== null) {\n      points.push({x: first.x, y});\n      points.push({x: last.x, y});\n    } else if (x !== null) {\n      points.push({x, y: first.y});\n      points.push({x, y: last.y});\n    }\n  });\n  return points;\n}\nfunction buildStackLine(source) {\n  const {scale, index, line} = source;\n  const points = [];\n  const segments = line.segments;\n  const sourcePoints = line.points;\n  const linesBelow = getLinesBelow(scale, index);\n  linesBelow.push(createBoundaryLine({x: null, y: scale.bottom}, line));\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    for (let j = segment.start; j <= segment.end; j++) {\n      addPointsBelow(points, sourcePoints[j], linesBelow);\n    }\n  }\n  return new LineElement({points, options: {}});\n}\nfunction getLinesBelow(scale, index) {\n  const below = [];\n  const metas = scale.getMatchingVisibleMetas('line');\n  for (let i = 0; i < metas.length; i++) {\n    const meta = metas[i];\n    if (meta.index === index) {\n      break;\n    }\n    if (!meta.hidden) {\n      below.unshift(meta.dataset);\n    }\n  }\n  return below;\n}\nfunction addPointsBelow(points, sourcePoint, linesBelow) {\n  const postponed = [];\n  for (let j = 0; j < linesBelow.length; j++) {\n    const line = linesBelow[j];\n    const {first, last, point} = findPoint(line, sourcePoint, 'x');\n    if (!point || (first && last)) {\n      continue;\n    }\n    if (first) {\n      postponed.unshift(point);\n    } else {\n      points.push(point);\n      if (!last) {\n        break;\n      }\n    }\n  }\n  points.push(...postponed);\n}\nfunction findPoint(line, sourcePoint, property) {\n  const point = line.interpolate(sourcePoint, property);\n  if (!point) {\n    return {};\n  }\n  const pointValue = point[property];\n  const segments = line.segments;\n  const linePoints = line.points;\n  let first = false;\n  let last = false;\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    const firstValue = linePoints[segment.start][property];\n    const lastValue = linePoints[segment.end][property];\n    if (pointValue >= firstValue && pointValue <= lastValue) {\n      first = pointValue === firstValue;\n      last = pointValue === lastValue;\n      break;\n    }\n  }\n  return {first, last, point};\n}\nfunction getTarget(source) {\n  const {chart, fill, line} = source;\n  if (isNumberFinite(fill)) {\n    return getLineByIndex(chart, fill);\n  }\n  if (fill === 'stack') {\n    return buildStackLine(source);\n  }\n  if (fill === 'shape') {\n    return true;\n  }\n  const boundary = computeBoundary(source);\n  if (boundary instanceof simpleArc) {\n    return boundary;\n  }\n  return createBoundaryLine(boundary, line);\n}\nfunction createBoundaryLine(boundary, line) {\n  let points = [];\n  let _loop = false;\n  if (isArray(boundary)) {\n    _loop = true;\n    points = boundary;\n  } else {\n    points = pointsFromSegments(boundary, line);\n  }\n  return points.length ? new LineElement({\n    points,\n    options: {tension: 0},\n    _loop,\n    _fullLoop: _loop\n  }) : null;\n}\nfunction resolveTarget(sources, index, propagate) {\n  const source = sources[index];\n  let fill = source.fill;\n  const visited = [index];\n  let target;\n  if (!propagate) {\n    return fill;\n  }\n  while (fill !== false && visited.indexOf(fill) === -1) {\n    if (!isNumberFinite(fill)) {\n      return fill;\n    }\n    target = sources[fill];\n    if (!target) {\n      return false;\n    }\n    if (target.visible) {\n      return fill;\n    }\n    visited.push(fill);\n    fill = target.fill;\n  }\n  return false;\n}\nfunction _clip(ctx, target, clipY) {\n  ctx.beginPath();\n  target.path(ctx);\n  ctx.lineTo(target.last().x, clipY);\n  ctx.lineTo(target.first().x, clipY);\n  ctx.closePath();\n  ctx.clip();\n}\nfunction getBounds(property, first, last, loop) {\n  if (loop) {\n    return;\n  }\n  let start = first[property];\n  let end = last[property];\n  if (property === 'angle') {\n    start = _normalizeAngle(start);\n    end = _normalizeAngle(end);\n  }\n  return {property, start, end};\n}\nfunction _getEdge(a, b, prop, fn) {\n  if (a && b) {\n    return fn(a[prop], b[prop]);\n  }\n  return a ? a[prop] : b ? b[prop] : 0;\n}\nfunction _segments(line, target, property) {\n  const segments = line.segments;\n  const points = line.points;\n  const tpoints = target.points;\n  const parts = [];\n  for (const segment of segments) {\n    let {start, end} = segment;\n    end = findSegmentEnd(start, end, points);\n    const bounds = getBounds(property, points[start], points[end], segment.loop);\n    if (!target.segments) {\n      parts.push({\n        source: segment,\n        target: bounds,\n        start: points[start],\n        end: points[end]\n      });\n      continue;\n    }\n    const targetSegments = _boundSegments(target, bounds);\n    for (const tgt of targetSegments) {\n      const subBounds = getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n      const fillSources = _boundSegment(segment, points, subBounds);\n      for (const fillSource of fillSources) {\n        parts.push({\n          source: fillSource,\n          target: tgt,\n          start: {\n            [property]: _getEdge(bounds, subBounds, 'start', Math.max)\n          },\n          end: {\n            [property]: _getEdge(bounds, subBounds, 'end', Math.min)\n          }\n        });\n      }\n    }\n  }\n  return parts;\n}\nfunction clipBounds(ctx, scale, bounds) {\n  const {top, bottom} = scale.chart.chartArea;\n  const {property, start, end} = bounds || {};\n  if (property === 'x') {\n    ctx.beginPath();\n    ctx.rect(start, top, end - start, bottom - top);\n    ctx.clip();\n  }\n}\nfunction interpolatedLineTo(ctx, target, point, property) {\n  const interpolatedPoint = target.interpolate(point, property);\n  if (interpolatedPoint) {\n    ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n  }\n}\nfunction _fill(ctx, cfg) {\n  const {line, target, property, color, scale} = cfg;\n  const segments = _segments(line, target, property);\n  for (const {source: src, target: tgt, start, end} of segments) {\n    const {style: {backgroundColor = color} = {}} = src;\n    const notShape = target !== true;\n    ctx.save();\n    ctx.fillStyle = backgroundColor;\n    clipBounds(ctx, scale, notShape && getBounds(property, start, end));\n    ctx.beginPath();\n    const lineLoop = !!line.pathSegment(ctx, src);\n    let loop;\n    if (notShape) {\n      if (lineLoop) {\n        ctx.closePath();\n      } else {\n        interpolatedLineTo(ctx, target, end, property);\n      }\n      const targetLoop = !!target.pathSegment(ctx, tgt, {move: lineLoop, reverse: true});\n      loop = lineLoop && targetLoop;\n      if (!loop) {\n        interpolatedLineTo(ctx, target, start, property);\n      }\n    }\n    ctx.closePath();\n    ctx.fill(loop ? 'evenodd' : 'nonzero');\n    ctx.restore();\n  }\n}\nfunction doFill(ctx, cfg) {\n  const {line, target, above, below, area, scale} = cfg;\n  const property = line._loop ? 'angle' : cfg.axis;\n  ctx.save();\n  if (property === 'x' && below !== above) {\n    _clip(ctx, target, area.top);\n    _fill(ctx, {line, target, color: above, scale, property});\n    ctx.restore();\n    ctx.save();\n    _clip(ctx, target, area.bottom);\n  }\n  _fill(ctx, {line, target, color: below, scale, property});\n  ctx.restore();\n}\nfunction drawfill(ctx, source, area) {\n  const target = getTarget(source);\n  const {line, scale, axis} = source;\n  const lineOpts = line.options;\n  const fillOption = lineOpts.fill;\n  const color = lineOpts.backgroundColor;\n  const {above = color, below = color} = fillOption || {};\n  if (target && line.points.length) {\n    clipArea(ctx, area);\n    doFill(ctx, {line, target, above, below, area, scale, axis});\n    unclipArea(ctx);\n  }\n}\nvar plugin_filler = {\n  id: 'filler',\n  afterDatasetsUpdate(chart, _args, options) {\n    const count = (chart.data.datasets || []).length;\n    const sources = [];\n    let meta, i, line, source;\n    for (i = 0; i < count; ++i) {\n      meta = chart.getDatasetMeta(i);\n      line = meta.dataset;\n      source = null;\n      if (line && line.options && line instanceof LineElement) {\n        source = {\n          visible: chart.isDatasetVisible(i),\n          index: i,\n          fill: decodeFill(line, i, count),\n          chart,\n          axis: meta.controller.options.indexAxis,\n          scale: meta.vScale,\n          line,\n        };\n      }\n      meta.$filler = source;\n      sources.push(source);\n    }\n    for (i = 0; i < count; ++i) {\n      source = sources[i];\n      if (!source || source.fill === false) {\n        continue;\n      }\n      source.fill = resolveTarget(sources, i, options.propagate);\n    }\n  },\n  beforeDraw(chart, _args, options) {\n    const draw = options.drawTime === 'beforeDraw';\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    const area = chart.chartArea;\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (!source) {\n        continue;\n      }\n      source.line.updateControlPoints(area, source.axis);\n      if (draw) {\n        drawfill(chart.ctx, source, area);\n      }\n    }\n  },\n  beforeDatasetsDraw(chart, _args, options) {\n    if (options.drawTime !== 'beforeDatasetsDraw') {\n      return;\n    }\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (source) {\n        drawfill(chart.ctx, source, chart.chartArea);\n      }\n    }\n  },\n  beforeDatasetDraw(chart, args, options) {\n    const source = args.meta.$filler;\n    if (!source || source.fill === false || options.drawTime !== 'beforeDatasetDraw') {\n      return;\n    }\n    drawfill(chart.ctx, source, chart.chartArea);\n  },\n  defaults: {\n    propagate: true,\n    drawTime: 'beforeDatasetDraw'\n  }\n};\n\nconst getBoxSize = (labelOpts, fontSize) => {\n  let {boxHeight = fontSize, boxWidth = fontSize} = labelOpts;\n  if (labelOpts.usePointStyle) {\n    boxHeight = Math.min(boxHeight, fontSize);\n    boxWidth = Math.min(boxWidth, fontSize);\n  }\n  return {\n    boxWidth,\n    boxHeight,\n    itemHeight: Math.max(fontSize, boxHeight)\n  };\n};\nconst itemsEqual = (a, b) => a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\nclass Legend extends Element {\n  constructor(config) {\n    super();\n    this._added = false;\n    this.legendHitBoxes = [];\n    this._hoveredItem = null;\n    this.doughnutMode = false;\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this.legendItems = undefined;\n    this.columnSizes = undefined;\n    this.lineWidths = undefined;\n    this.maxHeight = undefined;\n    this.maxWidth = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this._margins = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n  update(maxWidth, maxHeight, margins) {\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins;\n    this.setDimensions();\n    this.buildLabels();\n    this.fit();\n  }\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = this._margins.left;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = this._margins.top;\n      this.bottom = this.height;\n    }\n  }\n  buildLabels() {\n    const labelOpts = this.options.labels || {};\n    let legendItems = callback(labelOpts.generateLabels, [this.chart], this) || [];\n    if (labelOpts.filter) {\n      legendItems = legendItems.filter((item) => labelOpts.filter(item, this.chart.data));\n    }\n    if (labelOpts.sort) {\n      legendItems = legendItems.sort((a, b) => labelOpts.sort(a, b, this.chart.data));\n    }\n    if (this.options.reverse) {\n      legendItems.reverse();\n    }\n    this.legendItems = legendItems;\n  }\n  fit() {\n    const {options, ctx} = this;\n    if (!options.display) {\n      this.width = this.height = 0;\n      return;\n    }\n    const labelOpts = options.labels;\n    const labelFont = toFont(labelOpts.font);\n    const fontSize = labelFont.size;\n    const titleHeight = this._computeTitleHeight();\n    const {boxWidth, itemHeight} = getBoxSize(labelOpts, fontSize);\n    let width, height;\n    ctx.font = labelFont.string;\n    if (this.isHorizontal()) {\n      width = this.maxWidth;\n      height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    } else {\n      height = this.maxHeight;\n      width = this._fitCols(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    }\n    this.width = Math.min(width, options.maxWidth || this.maxWidth);\n    this.height = Math.min(height, options.maxHeight || this.maxHeight);\n  }\n  _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxWidth, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const lineWidths = this.lineWidths = [0];\n    const lineHeight = itemHeight + padding;\n    let totalHeight = titleHeight;\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'middle';\n    let row = -1;\n    let top = -lineHeight;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n      if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n        totalHeight += lineHeight;\n        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n        top += lineHeight;\n        row++;\n      }\n      hitboxes[i] = {left: 0, top, row, width: itemWidth, height: itemHeight};\n      lineWidths[lineWidths.length - 1] += itemWidth + padding;\n    });\n    return totalHeight;\n  }\n  _fitCols(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxHeight, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const columnSizes = this.columnSizes = [];\n    const heightLimit = maxHeight - titleHeight;\n    let totalWidth = padding;\n    let currentColWidth = 0;\n    let currentColHeight = 0;\n    let left = 0;\n    let col = 0;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n      if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n        totalWidth += currentColWidth + padding;\n        columnSizes.push({width: currentColWidth, height: currentColHeight});\n        left += currentColWidth + padding;\n        col++;\n        currentColWidth = currentColHeight = 0;\n      }\n      hitboxes[i] = {left, top: currentColHeight, col, width: itemWidth, height: itemHeight};\n      currentColWidth = Math.max(currentColWidth, itemWidth);\n      currentColHeight += itemHeight + padding;\n    });\n    totalWidth += currentColWidth;\n    columnSizes.push({width: currentColWidth, height: currentColHeight});\n    return totalWidth;\n  }\n  adjustHitBoxes() {\n    if (!this.options.display) {\n      return;\n    }\n    const titleHeight = this._computeTitleHeight();\n    const {legendHitBoxes: hitboxes, options: {align, labels: {padding}, rtl}} = this;\n    const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n    if (this.isHorizontal()) {\n      let row = 0;\n      let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n      for (const hitbox of hitboxes) {\n        if (row !== hitbox.row) {\n          row = hitbox.row;\n          left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n        }\n        hitbox.top += this.top + titleHeight + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n        left += hitbox.width + padding;\n      }\n    } else {\n      let col = 0;\n      let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n      for (const hitbox of hitboxes) {\n        if (hitbox.col !== col) {\n          col = hitbox.col;\n          top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n        }\n        hitbox.top = top;\n        hitbox.left += this.left + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n        top += hitbox.height + padding;\n      }\n    }\n  }\n  isHorizontal() {\n    return this.options.position === 'top' || this.options.position === 'bottom';\n  }\n  draw() {\n    if (this.options.display) {\n      const ctx = this.ctx;\n      clipArea(ctx, this);\n      this._draw();\n      unclipArea(ctx);\n    }\n  }\n  _draw() {\n    const {options: opts, columnSizes, lineWidths, ctx} = this;\n    const {align, labels: labelOpts} = opts;\n    const defaultColor = defaults.color;\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const labelFont = toFont(labelOpts.font);\n    const {color: fontColor, padding} = labelOpts;\n    const fontSize = labelFont.size;\n    const halfFontSize = fontSize / 2;\n    let cursor;\n    this.drawTitle();\n    ctx.textAlign = rtlHelper.textAlign('left');\n    ctx.textBaseline = 'middle';\n    ctx.lineWidth = 0.5;\n    ctx.font = labelFont.string;\n    const {boxWidth, boxHeight, itemHeight} = getBoxSize(labelOpts, fontSize);\n    const drawLegendBox = function(x, y, legendItem) {\n      if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n        return;\n      }\n      ctx.save();\n      const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n      ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n      ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n      ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n      ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n      ctx.lineWidth = lineWidth;\n      ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n      ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n      if (labelOpts.usePointStyle) {\n        const drawOptions = {\n          radius: boxWidth * Math.SQRT2 / 2,\n          pointStyle: legendItem.pointStyle,\n          rotation: legendItem.rotation,\n          borderWidth: lineWidth\n        };\n        const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n        const centerY = y + halfFontSize;\n        drawPoint(ctx, drawOptions, centerX, centerY);\n      } else {\n        const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n        const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n        const borderRadius = toTRBLCorners(legendItem.borderRadius);\n        ctx.beginPath();\n        if (Object.values(borderRadius).some(v => v !== 0)) {\n          addRoundedRectPath(ctx, {\n            x: xBoxLeft,\n            y: yBoxTop,\n            w: boxWidth,\n            h: boxHeight,\n            radius: borderRadius,\n          });\n        } else {\n          ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n        }\n        ctx.fill();\n        if (lineWidth !== 0) {\n          ctx.stroke();\n        }\n      }\n      ctx.restore();\n    };\n    const fillText = function(x, y, legendItem) {\n      renderText(ctx, legendItem.text, x, y + (itemHeight / 2), labelFont, {\n        strikethrough: legendItem.hidden,\n        textAlign: rtlHelper.textAlign(legendItem.textAlign)\n      });\n    };\n    const isHorizontal = this.isHorizontal();\n    const titleHeight = this._computeTitleHeight();\n    if (isHorizontal) {\n      cursor = {\n        x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n        y: this.top + padding + titleHeight,\n        line: 0\n      };\n    } else {\n      cursor = {\n        x: this.left + padding,\n        y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n        line: 0\n      };\n    }\n    overrideTextDirection(this.ctx, opts.textDirection);\n    const lineHeight = itemHeight + padding;\n    this.legendItems.forEach((legendItem, i) => {\n      ctx.strokeStyle = legendItem.fontColor || fontColor;\n      ctx.fillStyle = legendItem.fontColor || fontColor;\n      const textWidth = ctx.measureText(legendItem.text).width;\n      const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n      const width = boxWidth + halfFontSize + textWidth;\n      let x = cursor.x;\n      let y = cursor.y;\n      rtlHelper.setWidth(this.width);\n      if (isHorizontal) {\n        if (i > 0 && x + width + padding > this.right) {\n          y = cursor.y += lineHeight;\n          cursor.line++;\n          x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n        }\n      } else if (i > 0 && y + lineHeight > this.bottom) {\n        x = cursor.x = x + columnSizes[cursor.line].width + padding;\n        cursor.line++;\n        y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n      }\n      const realX = rtlHelper.x(x);\n      drawLegendBox(realX, y, legendItem);\n      x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n      fillText(rtlHelper.x(x), y, legendItem);\n      if (isHorizontal) {\n        cursor.x += width + padding;\n      } else {\n        cursor.y += lineHeight;\n      }\n    });\n    restoreTextDirection(this.ctx, opts.textDirection);\n  }\n  drawTitle() {\n    const opts = this.options;\n    const titleOpts = opts.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    if (!titleOpts.display) {\n      return;\n    }\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const ctx = this.ctx;\n    const position = titleOpts.position;\n    const halfFontSize = titleFont.size / 2;\n    const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n    let y;\n    let left = this.left;\n    let maxWidth = this.width;\n    if (this.isHorizontal()) {\n      maxWidth = Math.max(...this.lineWidths);\n      y = this.top + topPaddingPlusHalfFontSize;\n      left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n    } else {\n      const maxHeight = this.columnSizes.reduce((acc, size) => Math.max(acc, size.height), 0);\n      y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n    }\n    const x = _alignStartEnd(position, left, left + maxWidth);\n    ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n    ctx.textBaseline = 'middle';\n    ctx.strokeStyle = titleOpts.color;\n    ctx.fillStyle = titleOpts.color;\n    ctx.font = titleFont.string;\n    renderText(ctx, titleOpts.text, x, y, titleFont);\n  }\n  _computeTitleHeight() {\n    const titleOpts = this.options.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n  }\n  _getLegendItemAt(x, y) {\n    let i, hitBox, lh;\n    if (x >= this.left && x <= this.right && y >= this.top && y <= this.bottom) {\n      lh = this.legendHitBoxes;\n      for (i = 0; i < lh.length; ++i) {\n        hitBox = lh[i];\n        if (x >= hitBox.left && x <= hitBox.left + hitBox.width && y >= hitBox.top && y <= hitBox.top + hitBox.height) {\n          return this.legendItems[i];\n        }\n      }\n    }\n    return null;\n  }\n  handleEvent(e) {\n    const opts = this.options;\n    if (!isListened(e.type, opts)) {\n      return;\n    }\n    const hoveredItem = this._getLegendItemAt(e.x, e.y);\n    if (e.type === 'mousemove') {\n      const previous = this._hoveredItem;\n      const sameItem = itemsEqual(previous, hoveredItem);\n      if (previous && !sameItem) {\n        callback(opts.onLeave, [e, previous, this], this);\n      }\n      this._hoveredItem = hoveredItem;\n      if (hoveredItem && !sameItem) {\n        callback(opts.onHover, [e, hoveredItem, this], this);\n      }\n    } else if (hoveredItem) {\n      callback(opts.onClick, [e, hoveredItem, this], this);\n    }\n  }\n}\nfunction isListened(type, opts) {\n  if (type === 'mousemove' && (opts.onHover || opts.onLeave)) {\n    return true;\n  }\n  if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n    return true;\n  }\n  return false;\n}\nvar plugin_legend = {\n  id: 'legend',\n  _element: Legend,\n  start(chart, _args, options) {\n    const legend = chart.legend = new Legend({ctx: chart.ctx, options, chart});\n    layouts.configure(chart, legend, options);\n    layouts.addBox(chart, legend);\n  },\n  stop(chart) {\n    layouts.removeBox(chart, chart.legend);\n    delete chart.legend;\n  },\n  beforeUpdate(chart, _args, options) {\n    const legend = chart.legend;\n    layouts.configure(chart, legend, options);\n    legend.options = options;\n  },\n  afterUpdate(chart) {\n    const legend = chart.legend;\n    legend.buildLabels();\n    legend.adjustHitBoxes();\n  },\n  afterEvent(chart, args) {\n    if (!args.replay) {\n      chart.legend.handleEvent(args.event);\n    }\n  },\n  defaults: {\n    display: true,\n    position: 'top',\n    align: 'center',\n    fullSize: true,\n    reverse: false,\n    weight: 1000,\n    onClick(e, legendItem, legend) {\n      const index = legendItem.datasetIndex;\n      const ci = legend.chart;\n      if (ci.isDatasetVisible(index)) {\n        ci.hide(index);\n        legendItem.hidden = true;\n      } else {\n        ci.show(index);\n        legendItem.hidden = false;\n      }\n    },\n    onHover: null,\n    onLeave: null,\n    labels: {\n      color: (ctx) => ctx.chart.options.color,\n      boxWidth: 40,\n      padding: 10,\n      generateLabels(chart) {\n        const datasets = chart.data.datasets;\n        const {labels: {usePointStyle, pointStyle, textAlign, color}} = chart.legend.options;\n        return chart._getSortedDatasetMetas().map((meta) => {\n          const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n          const borderWidth = toPadding(style.borderWidth);\n          return {\n            text: datasets[meta.index].label,\n            fillStyle: style.backgroundColor,\n            fontColor: color,\n            hidden: !meta.visible,\n            lineCap: style.borderCapStyle,\n            lineDash: style.borderDash,\n            lineDashOffset: style.borderDashOffset,\n            lineJoin: style.borderJoinStyle,\n            lineWidth: (borderWidth.width + borderWidth.height) / 4,\n            strokeStyle: style.borderColor,\n            pointStyle: pointStyle || style.pointStyle,\n            rotation: style.rotation,\n            textAlign: textAlign || style.textAlign,\n            borderRadius: 0,\n            datasetIndex: meta.index\n          };\n        }, this);\n      }\n    },\n    title: {\n      color: (ctx) => ctx.chart.options.color,\n      display: false,\n      position: 'center',\n      text: '',\n    }\n  },\n  descriptors: {\n    _scriptable: (name) => !name.startsWith('on'),\n    labels: {\n      _scriptable: (name) => !['generateLabels', 'filter', 'sort'].includes(name),\n    }\n  },\n};\n\nclass Title extends Element {\n  constructor(config) {\n    super();\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this._padding = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n  update(maxWidth, maxHeight) {\n    const opts = this.options;\n    this.left = 0;\n    this.top = 0;\n    if (!opts.display) {\n      this.width = this.height = this.right = this.bottom = 0;\n      return;\n    }\n    this.width = this.right = maxWidth;\n    this.height = this.bottom = maxHeight;\n    const lineCount = isArray(opts.text) ? opts.text.length : 1;\n    this._padding = toPadding(opts.padding);\n    const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n    if (this.isHorizontal()) {\n      this.height = textSize;\n    } else {\n      this.width = textSize;\n    }\n  }\n  isHorizontal() {\n    const pos = this.options.position;\n    return pos === 'top' || pos === 'bottom';\n  }\n  _drawArgs(offset) {\n    const {top, left, bottom, right, options} = this;\n    const align = options.align;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n    if (this.isHorizontal()) {\n      titleX = _alignStartEnd(align, left, right);\n      titleY = top + offset;\n      maxWidth = right - left;\n    } else {\n      if (options.position === 'left') {\n        titleX = left + offset;\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = PI * -0.5;\n      } else {\n        titleX = right - offset;\n        titleY = _alignStartEnd(align, top, bottom);\n        rotation = PI * 0.5;\n      }\n      maxWidth = bottom - top;\n    }\n    return {titleX, titleY, maxWidth, rotation};\n  }\n  draw() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    if (!opts.display) {\n      return;\n    }\n    const fontOpts = toFont(opts.font);\n    const lineHeight = fontOpts.lineHeight;\n    const offset = lineHeight / 2 + this._padding.top;\n    const {titleX, titleY, maxWidth, rotation} = this._drawArgs(offset);\n    renderText(ctx, opts.text, 0, 0, fontOpts, {\n      color: opts.color,\n      maxWidth,\n      rotation,\n      textAlign: _toLeftRightCenter(opts.align),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n}\nfunction createTitle(chart, titleOpts) {\n  const title = new Title({\n    ctx: chart.ctx,\n    options: titleOpts,\n    chart\n  });\n  layouts.configure(chart, title, titleOpts);\n  layouts.addBox(chart, title);\n  chart.titleBlock = title;\n}\nvar plugin_title = {\n  id: 'title',\n  _element: Title,\n  start(chart, _args, options) {\n    createTitle(chart, options);\n  },\n  stop(chart) {\n    const titleBlock = chart.titleBlock;\n    layouts.removeBox(chart, titleBlock);\n    delete chart.titleBlock;\n  },\n  beforeUpdate(chart, _args, options) {\n    const title = chart.titleBlock;\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'bold',\n    },\n    fullSize: true,\n    padding: 10,\n    position: 'top',\n    text: '',\n    weight: 2000\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n\nconst map = new WeakMap();\nvar plugin_subtitle = {\n  id: 'subtitle',\n  start(chart, _args, options) {\n    const title = new Title({\n      ctx: chart.ctx,\n      options,\n      chart\n    });\n    layouts.configure(chart, title, options);\n    layouts.addBox(chart, title);\n    map.set(chart, title);\n  },\n  stop(chart) {\n    layouts.removeBox(chart, map.get(chart));\n    map.delete(chart);\n  },\n  beforeUpdate(chart, _args, options) {\n    const title = map.get(chart);\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'normal',\n    },\n    fullSize: true,\n    padding: 0,\n    position: 'top',\n    text: '',\n    weight: 1500\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n\nconst positioners = {\n  average(items) {\n    if (!items.length) {\n      return false;\n    }\n    let i, len;\n    let x = 0;\n    let y = 0;\n    let count = 0;\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const pos = el.tooltipPosition();\n        x += pos.x;\n        y += pos.y;\n        ++count;\n      }\n    }\n    return {\n      x: x / count,\n      y: y / count\n    };\n  },\n  nearest(items, eventPosition) {\n    if (!items.length) {\n      return false;\n    }\n    let x = eventPosition.x;\n    let y = eventPosition.y;\n    let minDistance = Number.POSITIVE_INFINITY;\n    let i, len, nearestElement;\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const center = el.getCenterPoint();\n        const d = distanceBetweenPoints(eventPosition, center);\n        if (d < minDistance) {\n          minDistance = d;\n          nearestElement = el;\n        }\n      }\n    }\n    if (nearestElement) {\n      const tp = nearestElement.tooltipPosition();\n      x = tp.x;\n      y = tp.y;\n    }\n    return {\n      x,\n      y\n    };\n  }\n};\nfunction pushOrConcat(base, toPush) {\n  if (toPush) {\n    if (isArray(toPush)) {\n      Array.prototype.push.apply(base, toPush);\n    } else {\n      base.push(toPush);\n    }\n  }\n  return base;\n}\nfunction splitNewlines(str) {\n  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n    return str.split('\\n');\n  }\n  return str;\n}\nfunction createTooltipItem(chart, item) {\n  const {element, datasetIndex, index} = item;\n  const controller = chart.getDatasetMeta(datasetIndex).controller;\n  const {label, value} = controller.getLabelAndValue(index);\n  return {\n    chart,\n    label,\n    parsed: controller.getParsed(index),\n    raw: chart.data.datasets[datasetIndex].data[index],\n    formattedValue: value,\n    dataset: controller.getDataset(),\n    dataIndex: index,\n    datasetIndex,\n    element\n  };\n}\nfunction getTooltipSize(tooltip, options) {\n  const ctx = tooltip._chart.ctx;\n  const {body, footer, title} = tooltip;\n  const {boxWidth, boxHeight} = options;\n  const bodyFont = toFont(options.bodyFont);\n  const titleFont = toFont(options.titleFont);\n  const footerFont = toFont(options.footerFont);\n  const titleLineCount = title.length;\n  const footerLineCount = footer.length;\n  const bodyLineItemCount = body.length;\n  const padding = toPadding(options.padding);\n  let height = padding.height;\n  let width = 0;\n  let combinedBodyLength = body.reduce((count, bodyItem) => count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n  if (titleLineCount) {\n    height += titleLineCount * titleFont.lineHeight\n\t\t\t+ (titleLineCount - 1) * options.titleSpacing\n\t\t\t+ options.titleMarginBottom;\n  }\n  if (combinedBodyLength) {\n    const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n    height += bodyLineItemCount * bodyLineHeight\n\t\t\t+ (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight\n\t\t\t+ (combinedBodyLength - 1) * options.bodySpacing;\n  }\n  if (footerLineCount) {\n    height += options.footerMarginTop\n\t\t\t+ footerLineCount * footerFont.lineHeight\n\t\t\t+ (footerLineCount - 1) * options.footerSpacing;\n  }\n  let widthPadding = 0;\n  const maxLineWidth = function(line) {\n    width = Math.max(width, ctx.measureText(line).width + widthPadding);\n  };\n  ctx.save();\n  ctx.font = titleFont.string;\n  each(tooltip.title, maxLineWidth);\n  ctx.font = bodyFont.string;\n  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n  widthPadding = options.displayColors ? (boxWidth + 2 + options.boxPadding) : 0;\n  each(body, (bodyItem) => {\n    each(bodyItem.before, maxLineWidth);\n    each(bodyItem.lines, maxLineWidth);\n    each(bodyItem.after, maxLineWidth);\n  });\n  widthPadding = 0;\n  ctx.font = footerFont.string;\n  each(tooltip.footer, maxLineWidth);\n  ctx.restore();\n  width += padding.width;\n  return {width, height};\n}\nfunction determineYAlign(chart, size) {\n  const {y, height} = size;\n  if (y < height / 2) {\n    return 'top';\n  } else if (y > (chart.height - height / 2)) {\n    return 'bottom';\n  }\n  return 'center';\n}\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n  const {x, width} = size;\n  const caret = options.caretSize + options.caretPadding;\n  if (xAlign === 'left' && x + width + caret > chart.width) {\n    return true;\n  }\n  if (xAlign === 'right' && x - width - caret < 0) {\n    return true;\n  }\n}\nfunction determineXAlign(chart, options, size, yAlign) {\n  const {x, width} = size;\n  const {width: chartWidth, chartArea: {left, right}} = chart;\n  let xAlign = 'center';\n  if (yAlign === 'center') {\n    xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n  } else if (x <= width / 2) {\n    xAlign = 'left';\n  } else if (x >= chartWidth - width / 2) {\n    xAlign = 'right';\n  }\n  if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n    xAlign = 'center';\n  }\n  return xAlign;\n}\nfunction determineAlignment(chart, options, size) {\n  const yAlign = options.yAlign || determineYAlign(chart, size);\n  return {\n    xAlign: options.xAlign || determineXAlign(chart, options, size, yAlign),\n    yAlign\n  };\n}\nfunction alignX(size, xAlign) {\n  let {x, width} = size;\n  if (xAlign === 'right') {\n    x -= width;\n  } else if (xAlign === 'center') {\n    x -= (width / 2);\n  }\n  return x;\n}\nfunction alignY(size, yAlign, paddingAndSize) {\n  let {y, height} = size;\n  if (yAlign === 'top') {\n    y += paddingAndSize;\n  } else if (yAlign === 'bottom') {\n    y -= height + paddingAndSize;\n  } else {\n    y -= (height / 2);\n  }\n  return y;\n}\nfunction getBackgroundPoint(options, size, alignment, chart) {\n  const {caretSize, caretPadding, cornerRadius} = options;\n  const {xAlign, yAlign} = alignment;\n  const paddingAndSize = caretSize + caretPadding;\n  const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n  let x = alignX(size, xAlign);\n  const y = alignY(size, yAlign, paddingAndSize);\n  if (yAlign === 'center') {\n    if (xAlign === 'left') {\n      x += paddingAndSize;\n    } else if (xAlign === 'right') {\n      x -= paddingAndSize;\n    }\n  } else if (xAlign === 'left') {\n    x -= Math.max(topLeft, bottomLeft) + caretPadding;\n  } else if (xAlign === 'right') {\n    x += Math.max(topRight, bottomRight) + caretPadding;\n  }\n  return {\n    x: _limitValue(x, 0, chart.width - size.width),\n    y: _limitValue(y, 0, chart.height - size.height)\n  };\n}\nfunction getAlignedX(tooltip, align, options) {\n  const padding = toPadding(options.padding);\n  return align === 'center'\n    ? tooltip.x + tooltip.width / 2\n    : align === 'right'\n      ? tooltip.x + tooltip.width - padding.right\n      : tooltip.x + padding.left;\n}\nfunction getBeforeAfterBodyLines(callback) {\n  return pushOrConcat([], splitNewlines(callback));\n}\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n  return createContext(parent, {\n    tooltip,\n    tooltipItems,\n    type: 'tooltip'\n  });\n}\nfunction overrideCallbacks(callbacks, context) {\n  const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n  return override ? callbacks.override(override) : callbacks;\n}\nclass Tooltip extends Element {\n  constructor(config) {\n    super();\n    this.opacity = 0;\n    this._active = [];\n    this._chart = config._chart;\n    this._eventPosition = undefined;\n    this._size = undefined;\n    this._cachedAnimations = undefined;\n    this._tooltipItems = [];\n    this.$animations = undefined;\n    this.$context = undefined;\n    this.options = config.options;\n    this.dataPoints = undefined;\n    this.title = undefined;\n    this.beforeBody = undefined;\n    this.body = undefined;\n    this.afterBody = undefined;\n    this.footer = undefined;\n    this.xAlign = undefined;\n    this.yAlign = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this.caretX = undefined;\n    this.caretY = undefined;\n    this.labelColors = undefined;\n    this.labelPointStyles = undefined;\n    this.labelTextColors = undefined;\n  }\n  initialize(options) {\n    this.options = options;\n    this._cachedAnimations = undefined;\n    this.$context = undefined;\n  }\n  _resolveAnimations() {\n    const cached = this._cachedAnimations;\n    if (cached) {\n      return cached;\n    }\n    const chart = this._chart;\n    const options = this.options.setContext(this.getContext());\n    const opts = options.enabled && chart.options.animation && options.animations;\n    const animations = new Animations(this._chart, opts);\n    if (opts._cacheable) {\n      this._cachedAnimations = Object.freeze(animations);\n    }\n    return animations;\n  }\n  getContext() {\n    return this.$context ||\n\t\t\t(this.$context = createTooltipContext(this._chart.getContext(), this, this._tooltipItems));\n  }\n  getTitle(context, options) {\n    const {callbacks} = options;\n    const beforeTitle = callbacks.beforeTitle.apply(this, [context]);\n    const title = callbacks.title.apply(this, [context]);\n    const afterTitle = callbacks.afterTitle.apply(this, [context]);\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n    lines = pushOrConcat(lines, splitNewlines(title));\n    lines = pushOrConcat(lines, splitNewlines(afterTitle));\n    return lines;\n  }\n  getBeforeBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(options.callbacks.beforeBody.apply(this, [tooltipItems]));\n  }\n  getBody(tooltipItems, options) {\n    const {callbacks} = options;\n    const bodyItems = [];\n    each(tooltipItems, (context) => {\n      const bodyItem = {\n        before: [],\n        lines: [],\n        after: []\n      };\n      const scoped = overrideCallbacks(callbacks, context);\n      pushOrConcat(bodyItem.before, splitNewlines(scoped.beforeLabel.call(this, context)));\n      pushOrConcat(bodyItem.lines, scoped.label.call(this, context));\n      pushOrConcat(bodyItem.after, splitNewlines(scoped.afterLabel.call(this, context)));\n      bodyItems.push(bodyItem);\n    });\n    return bodyItems;\n  }\n  getAfterBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(options.callbacks.afterBody.apply(this, [tooltipItems]));\n  }\n  getFooter(tooltipItems, options) {\n    const {callbacks} = options;\n    const beforeFooter = callbacks.beforeFooter.apply(this, [tooltipItems]);\n    const footer = callbacks.footer.apply(this, [tooltipItems]);\n    const afterFooter = callbacks.afterFooter.apply(this, [tooltipItems]);\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n    lines = pushOrConcat(lines, splitNewlines(footer));\n    lines = pushOrConcat(lines, splitNewlines(afterFooter));\n    return lines;\n  }\n  _createItems(options) {\n    const active = this._active;\n    const data = this._chart.data;\n    const labelColors = [];\n    const labelPointStyles = [];\n    const labelTextColors = [];\n    let tooltipItems = [];\n    let i, len;\n    for (i = 0, len = active.length; i < len; ++i) {\n      tooltipItems.push(createTooltipItem(this._chart, active[i]));\n    }\n    if (options.filter) {\n      tooltipItems = tooltipItems.filter((element, index, array) => options.filter(element, index, array, data));\n    }\n    if (options.itemSort) {\n      tooltipItems = tooltipItems.sort((a, b) => options.itemSort(a, b, data));\n    }\n    each(tooltipItems, (context) => {\n      const scoped = overrideCallbacks(options.callbacks, context);\n      labelColors.push(scoped.labelColor.call(this, context));\n      labelPointStyles.push(scoped.labelPointStyle.call(this, context));\n      labelTextColors.push(scoped.labelTextColor.call(this, context));\n    });\n    this.labelColors = labelColors;\n    this.labelPointStyles = labelPointStyles;\n    this.labelTextColors = labelTextColors;\n    this.dataPoints = tooltipItems;\n    return tooltipItems;\n  }\n  update(changed, replay) {\n    const options = this.options.setContext(this.getContext());\n    const active = this._active;\n    let properties;\n    let tooltipItems = [];\n    if (!active.length) {\n      if (this.opacity !== 0) {\n        properties = {\n          opacity: 0\n        };\n      }\n    } else {\n      const position = positioners[options.position].call(this, active, this._eventPosition);\n      tooltipItems = this._createItems(options);\n      this.title = this.getTitle(tooltipItems, options);\n      this.beforeBody = this.getBeforeBody(tooltipItems, options);\n      this.body = this.getBody(tooltipItems, options);\n      this.afterBody = this.getAfterBody(tooltipItems, options);\n      this.footer = this.getFooter(tooltipItems, options);\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, size);\n      const alignment = determineAlignment(this._chart, options, positionAndSize);\n      const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this._chart);\n      this.xAlign = alignment.xAlign;\n      this.yAlign = alignment.yAlign;\n      properties = {\n        opacity: 1,\n        x: backgroundPoint.x,\n        y: backgroundPoint.y,\n        width: size.width,\n        height: size.height,\n        caretX: position.x,\n        caretY: position.y\n      };\n    }\n    this._tooltipItems = tooltipItems;\n    this.$context = undefined;\n    if (properties) {\n      this._resolveAnimations().update(this, properties);\n    }\n    if (changed && options.external) {\n      options.external.call(this, {chart: this._chart, tooltip: this, replay});\n    }\n  }\n  drawCaret(tooltipPoint, ctx, size, options) {\n    const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n    ctx.lineTo(caretPosition.x1, caretPosition.y1);\n    ctx.lineTo(caretPosition.x2, caretPosition.y2);\n    ctx.lineTo(caretPosition.x3, caretPosition.y3);\n  }\n  getCaretPosition(tooltipPoint, size, options) {\n    const {xAlign, yAlign} = this;\n    const {caretSize, cornerRadius} = options;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n    const {x: ptX, y: ptY} = tooltipPoint;\n    const {width, height} = size;\n    let x1, x2, x3, y1, y2, y3;\n    if (yAlign === 'center') {\n      y2 = ptY + (height / 2);\n      if (xAlign === 'left') {\n        x1 = ptX;\n        x2 = x1 - caretSize;\n        y1 = y2 + caretSize;\n        y3 = y2 - caretSize;\n      } else {\n        x1 = ptX + width;\n        x2 = x1 + caretSize;\n        y1 = y2 - caretSize;\n        y3 = y2 + caretSize;\n      }\n      x3 = x1;\n    } else {\n      if (xAlign === 'left') {\n        x2 = ptX + Math.max(topLeft, bottomLeft) + (caretSize);\n      } else if (xAlign === 'right') {\n        x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n      } else {\n        x2 = this.caretX;\n      }\n      if (yAlign === 'top') {\n        y1 = ptY;\n        y2 = y1 - caretSize;\n        x1 = x2 - caretSize;\n        x3 = x2 + caretSize;\n      } else {\n        y1 = ptY + height;\n        y2 = y1 + caretSize;\n        x1 = x2 + caretSize;\n        x3 = x2 - caretSize;\n      }\n      y3 = y1;\n    }\n    return {x1, x2, x3, y1, y2, y3};\n  }\n  drawTitle(pt, ctx, options) {\n    const title = this.title;\n    const length = title.length;\n    let titleFont, titleSpacing, i;\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n      pt.x = getAlignedX(this, options.titleAlign, options);\n      ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n      ctx.textBaseline = 'middle';\n      titleFont = toFont(options.titleFont);\n      titleSpacing = options.titleSpacing;\n      ctx.fillStyle = options.titleColor;\n      ctx.font = titleFont.string;\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n        pt.y += titleFont.lineHeight + titleSpacing;\n        if (i + 1 === length) {\n          pt.y += options.titleMarginBottom - titleSpacing;\n        }\n      }\n    }\n  }\n  _drawColorBox(ctx, pt, i, rtlHelper, options) {\n    const labelColors = this.labelColors[i];\n    const labelPointStyle = this.labelPointStyles[i];\n    const {boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    const colorX = getAlignedX(this, 'left', options);\n    const rtlColorX = rtlHelper.x(colorX);\n    const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n    const colorY = pt.y + yOffSet;\n    if (options.usePointStyle) {\n      const drawOptions = {\n        radius: Math.min(boxWidth, boxHeight) / 2,\n        pointStyle: labelPointStyle.pointStyle,\n        rotation: labelPointStyle.rotation,\n        borderWidth: 1\n      };\n      const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n      const centerY = colorY + boxHeight / 2;\n      ctx.strokeStyle = options.multiKeyBackground;\n      ctx.fillStyle = options.multiKeyBackground;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n      ctx.strokeStyle = labelColors.borderColor;\n      ctx.fillStyle = labelColors.backgroundColor;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n    } else {\n      ctx.lineWidth = labelColors.borderWidth || 1;\n      ctx.strokeStyle = labelColors.borderColor;\n      ctx.setLineDash(labelColors.borderDash || []);\n      ctx.lineDashOffset = labelColors.borderDashOffset || 0;\n      const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth - boxPadding);\n      const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - boxPadding - 2);\n      const borderRadius = toTRBLCorners(labelColors.borderRadius);\n      if (Object.values(borderRadius).some(v => v !== 0)) {\n        ctx.beginPath();\n        ctx.fillStyle = options.multiKeyBackground;\n        addRoundedRectPath(ctx, {\n          x: outerX,\n          y: colorY,\n          w: boxWidth,\n          h: boxHeight,\n          radius: borderRadius,\n        });\n        ctx.fill();\n        ctx.stroke();\n        ctx.fillStyle = labelColors.backgroundColor;\n        ctx.beginPath();\n        addRoundedRectPath(ctx, {\n          x: innerX,\n          y: colorY + 1,\n          w: boxWidth - 2,\n          h: boxHeight - 2,\n          radius: borderRadius,\n        });\n        ctx.fill();\n      } else {\n        ctx.fillStyle = options.multiKeyBackground;\n        ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.fillStyle = labelColors.backgroundColor;\n        ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n      }\n    }\n    ctx.fillStyle = this.labelTextColors[i];\n  }\n  drawBody(pt, ctx, options) {\n    const {body} = this;\n    const {bodySpacing, bodyAlign, displayColors, boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    let bodyLineHeight = bodyFont.lineHeight;\n    let xLinePadding = 0;\n    const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n    const fillLineOfText = function(line) {\n      ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n      pt.y += bodyLineHeight + bodySpacing;\n    };\n    const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n    let bodyItem, textColor, lines, i, j, ilen, jlen;\n    ctx.textAlign = bodyAlign;\n    ctx.textBaseline = 'middle';\n    ctx.font = bodyFont.string;\n    pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n    ctx.fillStyle = options.bodyColor;\n    each(this.beforeBody, fillLineOfText);\n    xLinePadding = displayColors && bodyAlignForCalculation !== 'right'\n      ? bodyAlign === 'center' ? (boxWidth / 2 + boxPadding) : (boxWidth + 2 + boxPadding)\n      : 0;\n    for (i = 0, ilen = body.length; i < ilen; ++i) {\n      bodyItem = body[i];\n      textColor = this.labelTextColors[i];\n      ctx.fillStyle = textColor;\n      each(bodyItem.before, fillLineOfText);\n      lines = bodyItem.lines;\n      if (displayColors && lines.length) {\n        this._drawColorBox(ctx, pt, i, rtlHelper, options);\n        bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n      }\n      for (j = 0, jlen = lines.length; j < jlen; ++j) {\n        fillLineOfText(lines[j]);\n        bodyLineHeight = bodyFont.lineHeight;\n      }\n      each(bodyItem.after, fillLineOfText);\n    }\n    xLinePadding = 0;\n    bodyLineHeight = bodyFont.lineHeight;\n    each(this.afterBody, fillLineOfText);\n    pt.y -= bodySpacing;\n  }\n  drawFooter(pt, ctx, options) {\n    const footer = this.footer;\n    const length = footer.length;\n    let footerFont, i;\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n      pt.x = getAlignedX(this, options.footerAlign, options);\n      pt.y += options.footerMarginTop;\n      ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n      ctx.textBaseline = 'middle';\n      footerFont = toFont(options.footerFont);\n      ctx.fillStyle = options.footerColor;\n      ctx.font = footerFont.string;\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n        pt.y += footerFont.lineHeight + options.footerSpacing;\n      }\n    }\n  }\n  drawBackground(pt, ctx, tooltipSize, options) {\n    const {xAlign, yAlign} = this;\n    const {x, y} = pt;\n    const {width, height} = tooltipSize;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(options.cornerRadius);\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.beginPath();\n    ctx.moveTo(x + topLeft, y);\n    if (yAlign === 'top') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width - topRight, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n    if (yAlign === 'center' && xAlign === 'right') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width, y + height - bottomRight);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n    if (yAlign === 'bottom') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + bottomLeft, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n    if (yAlign === 'center' && xAlign === 'left') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x, y + topLeft);\n    ctx.quadraticCurveTo(x, y, x + topLeft, y);\n    ctx.closePath();\n    ctx.fill();\n    if (options.borderWidth > 0) {\n      ctx.stroke();\n    }\n  }\n  _updateAnimationTarget(options) {\n    const chart = this._chart;\n    const anims = this.$animations;\n    const animX = anims && anims.x;\n    const animY = anims && anims.y;\n    if (animX || animY) {\n      const position = positioners[options.position].call(this, this._active, this._eventPosition);\n      if (!position) {\n        return;\n      }\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, this._size);\n      const alignment = determineAlignment(chart, options, positionAndSize);\n      const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n      if (animX._to !== point.x || animY._to !== point.y) {\n        this.xAlign = alignment.xAlign;\n        this.yAlign = alignment.yAlign;\n        this.width = size.width;\n        this.height = size.height;\n        this.caretX = position.x;\n        this.caretY = position.y;\n        this._resolveAnimations().update(this, point);\n      }\n    }\n  }\n  draw(ctx) {\n    const options = this.options.setContext(this.getContext());\n    let opacity = this.opacity;\n    if (!opacity) {\n      return;\n    }\n    this._updateAnimationTarget(options);\n    const tooltipSize = {\n      width: this.width,\n      height: this.height\n    };\n    const pt = {\n      x: this.x,\n      y: this.y\n    };\n    opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n    const padding = toPadding(options.padding);\n    const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n    if (options.enabled && hasTooltipContent) {\n      ctx.save();\n      ctx.globalAlpha = opacity;\n      this.drawBackground(pt, ctx, tooltipSize, options);\n      overrideTextDirection(ctx, options.textDirection);\n      pt.y += padding.top;\n      this.drawTitle(pt, ctx, options);\n      this.drawBody(pt, ctx, options);\n      this.drawFooter(pt, ctx, options);\n      restoreTextDirection(ctx, options.textDirection);\n      ctx.restore();\n    }\n  }\n  getActiveElements() {\n    return this._active || [];\n  }\n  setActiveElements(activeElements, eventPosition) {\n    const lastActive = this._active;\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this._chart.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('Cannot find a dataset at index ' + datasetIndex);\n      }\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(lastActive, active);\n    const positionChanged = this._positionChanged(active, eventPosition);\n    if (changed || positionChanged) {\n      this._active = active;\n      this._eventPosition = eventPosition;\n      this.update(true);\n    }\n  }\n  handleEvent(e, replay) {\n    const options = this.options;\n    const lastActive = this._active || [];\n    let changed = false;\n    let active = [];\n    if (e.type !== 'mouseout') {\n      active = this._chart.getElementsAtEventForMode(e, options.mode, options, replay);\n      if (options.reverse) {\n        active.reverse();\n      }\n    }\n    const positionChanged = this._positionChanged(active, e);\n    changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n    if (changed) {\n      this._active = active;\n      if (options.enabled || options.external) {\n        this._eventPosition = {\n          x: e.x,\n          y: e.y\n        };\n        this.update(true, replay);\n      }\n    }\n    return changed;\n  }\n  _positionChanged(active, e) {\n    const {caretX, caretY, options} = this;\n    const position = positioners[options.position].call(this, active, e);\n    return position !== false && (caretX !== position.x || caretY !== position.y);\n  }\n}\nTooltip.positioners = positioners;\nvar plugin_tooltip = {\n  id: 'tooltip',\n  _element: Tooltip,\n  positioners,\n  afterInit(chart, _args, options) {\n    if (options) {\n      chart.tooltip = new Tooltip({_chart: chart, options});\n    }\n  },\n  beforeUpdate(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  reset(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  afterDraw(chart) {\n    const tooltip = chart.tooltip;\n    const args = {\n      tooltip\n    };\n    if (chart.notifyPlugins('beforeTooltipDraw', args) === false) {\n      return;\n    }\n    if (tooltip) {\n      tooltip.draw(chart.ctx);\n    }\n    chart.notifyPlugins('afterTooltipDraw', args);\n  },\n  afterEvent(chart, args) {\n    if (chart.tooltip) {\n      const useFinalPosition = args.replay;\n      if (chart.tooltip.handleEvent(args.event, useFinalPosition)) {\n        args.changed = true;\n      }\n    }\n  },\n  defaults: {\n    enabled: true,\n    external: null,\n    position: 'average',\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    titleColor: '#fff',\n    titleFont: {\n      weight: 'bold',\n    },\n    titleSpacing: 2,\n    titleMarginBottom: 6,\n    titleAlign: 'left',\n    bodyColor: '#fff',\n    bodySpacing: 2,\n    bodyFont: {\n    },\n    bodyAlign: 'left',\n    footerColor: '#fff',\n    footerSpacing: 2,\n    footerMarginTop: 6,\n    footerFont: {\n      weight: 'bold',\n    },\n    footerAlign: 'left',\n    padding: 6,\n    caretPadding: 2,\n    caretSize: 5,\n    cornerRadius: 6,\n    boxHeight: (ctx, opts) => opts.bodyFont.size,\n    boxWidth: (ctx, opts) => opts.bodyFont.size,\n    multiKeyBackground: '#fff',\n    displayColors: true,\n    boxPadding: 0,\n    borderColor: 'rgba(0,0,0,0)',\n    borderWidth: 0,\n    animation: {\n      duration: 400,\n      easing: 'easeOutQuart',\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY'],\n      },\n      opacity: {\n        easing: 'linear',\n        duration: 200\n      }\n    },\n    callbacks: {\n      beforeTitle: noop,\n      title(tooltipItems) {\n        if (tooltipItems.length > 0) {\n          const item = tooltipItems[0];\n          const labels = item.chart.data.labels;\n          const labelCount = labels ? labels.length : 0;\n          if (this && this.options && this.options.mode === 'dataset') {\n            return item.dataset.label || '';\n          } else if (item.label) {\n            return item.label;\n          } else if (labelCount > 0 && item.dataIndex < labelCount) {\n            return labels[item.dataIndex];\n          }\n        }\n        return '';\n      },\n      afterTitle: noop,\n      beforeBody: noop,\n      beforeLabel: noop,\n      label(tooltipItem) {\n        if (this && this.options && this.options.mode === 'dataset') {\n          return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n        }\n        let label = tooltipItem.dataset.label || '';\n        if (label) {\n          label += ': ';\n        }\n        const value = tooltipItem.formattedValue;\n        if (!isNullOrUndef(value)) {\n          label += value;\n        }\n        return label;\n      },\n      labelColor(tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          borderColor: options.borderColor,\n          backgroundColor: options.backgroundColor,\n          borderWidth: options.borderWidth,\n          borderDash: options.borderDash,\n          borderDashOffset: options.borderDashOffset,\n          borderRadius: 0,\n        };\n      },\n      labelTextColor() {\n        return this.options.bodyColor;\n      },\n      labelPointStyle(tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          pointStyle: options.pointStyle,\n          rotation: options.rotation,\n        };\n      },\n      afterLabel: noop,\n      afterBody: noop,\n      beforeFooter: noop,\n      footer: noop,\n      afterFooter: noop\n    }\n  },\n  defaultRoutes: {\n    bodyFont: 'font',\n    footerFont: 'font',\n    titleFont: 'font'\n  },\n  descriptors: {\n    _scriptable: (name) => name !== 'filter' && name !== 'itemSort' && name !== 'external',\n    _indexable: false,\n    callbacks: {\n      _scriptable: false,\n      _indexable: false,\n    },\n    animation: {\n      _fallback: false\n    },\n    animations: {\n      _fallback: 'animation'\n    }\n  },\n  additionalOptionScopes: ['interaction']\n};\n\nvar plugins = /*#__PURE__*/Object.freeze({\n__proto__: null,\nDecimation: plugin_decimation,\nFiller: plugin_filler,\nLegend: plugin_legend,\nSubTitle: plugin_subtitle,\nTitle: plugin_title,\nTooltip: plugin_tooltip\n});\n\nconst addIfString = (labels, raw, index) => typeof raw === 'string'\n  ? labels.push(raw) - 1\n  : isNaN(raw) ? null : index;\nfunction findOrAddLabel(labels, raw, index) {\n  const first = labels.indexOf(raw);\n  if (first === -1) {\n    return addIfString(labels, raw, index);\n  }\n  const last = labels.lastIndexOf(raw);\n  return first !== last ? index : first;\n}\nconst validIndex = (index, max) => index === null ? null : _limitValue(Math.round(index), 0, max);\nclass CategoryScale extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this._startValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    const labels = this.getLabels();\n    index = isFinite(index) && labels[index] === raw ? index\n      : findOrAddLabel(labels, raw, valueOrDefault(index, raw));\n    return validIndex(index, labels.length - 1);\n  }\n  determineDataLimits() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this.getMinMax(true);\n    if (this.options.bounds === 'ticks') {\n      if (!minDefined) {\n        min = 0;\n      }\n      if (!maxDefined) {\n        max = this.getLabels().length - 1;\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n  buildTicks() {\n    const min = this.min;\n    const max = this.max;\n    const offset = this.options.offset;\n    const ticks = [];\n    let labels = this.getLabels();\n    labels = (min === 0 && max === labels.length - 1) ? labels : labels.slice(min, max + 1);\n    this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n    this._startValue = this.min - (offset ? 0.5 : 0);\n    for (let value = min; value <= max; value++) {\n      ticks.push({value});\n    }\n    return ticks;\n  }\n  getLabelForValue(value) {\n    const labels = this.getLabels();\n    if (value >= 0 && value < labels.length) {\n      return labels[value];\n    }\n    return value;\n  }\n  configure() {\n    super.configure();\n    if (!this.isHorizontal()) {\n      this._reversePixels = !this._reversePixels;\n    }\n  }\n  getPixelForValue(value) {\n    if (typeof value !== 'number') {\n      value = this.parse(value);\n    }\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n  getValueForPixel(pixel) {\n    return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n  }\n  getBasePixel() {\n    return this.bottom;\n  }\n}\nCategoryScale.id = 'category';\nCategoryScale.defaults = {\n  ticks: {\n    callback: CategoryScale.prototype.getLabelForValue\n  }\n};\n\nfunction generateTicks$1(generationOptions, dataRange) {\n  const ticks = [];\n  const MIN_SPACING = 1e-14;\n  const {bounds, step, min, max, precision, count, maxTicks, maxDigits, includeBounds} = generationOptions;\n  const unit = step || 1;\n  const maxSpaces = maxTicks - 1;\n  const {min: rmin, max: rmax} = dataRange;\n  const minDefined = !isNullOrUndef(min);\n  const maxDefined = !isNullOrUndef(max);\n  const countDefined = !isNullOrUndef(count);\n  const minSpacing = (rmax - rmin) / (maxDigits + 1);\n  let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n  let factor, niceMin, niceMax, numSpaces;\n  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n    return [{value: rmin}, {value: rmax}];\n  }\n  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n  if (numSpaces > maxSpaces) {\n    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n  }\n  if (!isNullOrUndef(precision)) {\n    factor = Math.pow(10, precision);\n    spacing = Math.ceil(spacing * factor) / factor;\n  }\n  if (bounds === 'ticks') {\n    niceMin = Math.floor(rmin / spacing) * spacing;\n    niceMax = Math.ceil(rmax / spacing) * spacing;\n  } else {\n    niceMin = rmin;\n    niceMax = rmax;\n  }\n  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n    numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n    spacing = (max - min) / numSpaces;\n    niceMin = min;\n    niceMax = max;\n  } else if (countDefined) {\n    niceMin = minDefined ? min : niceMin;\n    niceMax = maxDefined ? max : niceMax;\n    numSpaces = count - 1;\n    spacing = (niceMax - niceMin) / numSpaces;\n  } else {\n    numSpaces = (niceMax - niceMin) / spacing;\n    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n      numSpaces = Math.round(numSpaces);\n    } else {\n      numSpaces = Math.ceil(numSpaces);\n    }\n  }\n  const decimalPlaces = Math.max(\n    _decimalPlaces(spacing),\n    _decimalPlaces(niceMin)\n  );\n  factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n  niceMin = Math.round(niceMin * factor) / factor;\n  niceMax = Math.round(niceMax * factor) / factor;\n  let j = 0;\n  if (minDefined) {\n    if (includeBounds && niceMin !== min) {\n      ticks.push({value: min});\n      if (niceMin < min) {\n        j++;\n      }\n      if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n        j++;\n      }\n    } else if (niceMin < min) {\n      j++;\n    }\n  }\n  for (; j < numSpaces; ++j) {\n    ticks.push({value: Math.round((niceMin + j * spacing) * factor) / factor});\n  }\n  if (maxDefined && includeBounds && niceMax !== max) {\n    if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n      ticks[ticks.length - 1].value = max;\n    } else {\n      ticks.push({value: max});\n    }\n  } else if (!maxDefined || niceMax === max) {\n    ticks.push({value: niceMax});\n  }\n  return ticks;\n}\nfunction relativeLabelSize(value, minSpacing, {horizontal, minRotation}) {\n  const rad = toRadians(minRotation);\n  const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n  const length = 0.75 * minSpacing * ('' + value).length;\n  return Math.min(minSpacing / ratio, length);\n}\nclass LinearScaleBase extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this.start = undefined;\n    this.end = undefined;\n    this._startValue = undefined;\n    this._endValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n      return null;\n    }\n    return +raw;\n  }\n  handleTickRangeOptions() {\n    const {beginAtZero} = this.options;\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this;\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n    if (beginAtZero) {\n      const minSign = sign(min);\n      const maxSign = sign(max);\n      if (minSign < 0 && maxSign < 0) {\n        setMax(0);\n      } else if (minSign > 0 && maxSign > 0) {\n        setMin(0);\n      }\n    }\n    if (min === max) {\n      let offset = 1;\n      if (max >= Number.MAX_SAFE_INTEGER || min <= Number.MIN_SAFE_INTEGER) {\n        offset = Math.abs(max * 0.05);\n      }\n      setMax(max + offset);\n      if (!beginAtZero) {\n        setMin(min - offset);\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n  getTickLimit() {\n    const tickOpts = this.options.ticks;\n    let {maxTicksLimit, stepSize} = tickOpts;\n    let maxTicks;\n    if (stepSize) {\n      maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n      if (maxTicks > 1000) {\n        console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n        maxTicks = 1000;\n      }\n    } else {\n      maxTicks = this.computeTickLimit();\n      maxTicksLimit = maxTicksLimit || 11;\n    }\n    if (maxTicksLimit) {\n      maxTicks = Math.min(maxTicksLimit, maxTicks);\n    }\n    return maxTicks;\n  }\n  computeTickLimit() {\n    return Number.POSITIVE_INFINITY;\n  }\n  buildTicks() {\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n    let maxTicks = this.getTickLimit();\n    maxTicks = Math.max(2, maxTicks);\n    const numericGeneratorOptions = {\n      maxTicks,\n      bounds: opts.bounds,\n      min: opts.min,\n      max: opts.max,\n      precision: tickOpts.precision,\n      step: tickOpts.stepSize,\n      count: tickOpts.count,\n      maxDigits: this._maxDigits(),\n      horizontal: this.isHorizontal(),\n      minRotation: tickOpts.minRotation || 0,\n      includeBounds: tickOpts.includeBounds !== false\n    };\n    const dataRange = this._range || this;\n    const ticks = generateTicks$1(numericGeneratorOptions, dataRange);\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n    if (opts.reverse) {\n      ticks.reverse();\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n    return ticks;\n  }\n  configure() {\n    const ticks = this.ticks;\n    let start = this.min;\n    let end = this.max;\n    super.configure();\n    if (this.options.offset && ticks.length) {\n      const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n      start -= offset;\n      end += offset;\n    }\n    this._startValue = start;\n    this._endValue = end;\n    this._valueRange = end - start;\n  }\n  getLabelForValue(value) {\n    return formatNumber(value, this.chart.options.locale);\n  }\n}\n\nclass LinearScale extends LinearScaleBase {\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n    this.min = isNumberFinite(min) ? min : 0;\n    this.max = isNumberFinite(max) ? max : 1;\n    this.handleTickRangeOptions();\n  }\n  computeTickLimit() {\n    const horizontal = this.isHorizontal();\n    const length = horizontal ? this.width : this.height;\n    const minRotation = toRadians(this.options.ticks.minRotation);\n    const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n    const tickFont = this._resolveTickFontOptions(0);\n    return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n  }\n  getPixelForValue(value) {\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n  getValueForPixel(pixel) {\n    return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n  }\n}\nLinearScale.id = 'linear';\nLinearScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.numeric\n  }\n};\n\nfunction isMajor(tickVal) {\n  const remain = tickVal / (Math.pow(10, Math.floor(log10(tickVal))));\n  return remain === 1;\n}\nfunction generateTicks(generationOptions, dataRange) {\n  const endExp = Math.floor(log10(dataRange.max));\n  const endSignificand = Math.ceil(dataRange.max / Math.pow(10, endExp));\n  const ticks = [];\n  let tickVal = finiteOrDefault(generationOptions.min, Math.pow(10, Math.floor(log10(dataRange.min))));\n  let exp = Math.floor(log10(tickVal));\n  let significand = Math.floor(tickVal / Math.pow(10, exp));\n  let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n  do {\n    ticks.push({value: tickVal, major: isMajor(tickVal)});\n    ++significand;\n    if (significand === 10) {\n      significand = 1;\n      ++exp;\n      precision = exp >= 0 ? 1 : precision;\n    }\n    tickVal = Math.round(significand * Math.pow(10, exp) * precision) / precision;\n  } while (exp < endExp || (exp === endExp && significand < endSignificand));\n  const lastTick = finiteOrDefault(generationOptions.max, tickVal);\n  ticks.push({value: lastTick, major: isMajor(tickVal)});\n  return ticks;\n}\nclass LogarithmicScale extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this.start = undefined;\n    this.end = undefined;\n    this._startValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    const value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);\n    if (value === 0) {\n      this._zero = true;\n      return undefined;\n    }\n    return isNumberFinite(value) && value > 0 ? value : null;\n  }\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n    this.min = isNumberFinite(min) ? Math.max(0, min) : null;\n    this.max = isNumberFinite(max) ? Math.max(0, max) : null;\n    if (this.options.beginAtZero) {\n      this._zero = true;\n    }\n    this.handleTickRangeOptions();\n  }\n  handleTickRangeOptions() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let min = this.min;\n    let max = this.max;\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n    const exp = (v, m) => Math.pow(10, Math.floor(log10(v)) + m);\n    if (min === max) {\n      if (min <= 0) {\n        setMin(1);\n        setMax(10);\n      } else {\n        setMin(exp(min, -1));\n        setMax(exp(max, +1));\n      }\n    }\n    if (min <= 0) {\n      setMin(exp(max, -1));\n    }\n    if (max <= 0) {\n      setMax(exp(min, +1));\n    }\n    if (this._zero && this.min !== this._suggestedMin && min === exp(this.min, 0)) {\n      setMin(exp(min, -1));\n    }\n    this.min = min;\n    this.max = max;\n  }\n  buildTicks() {\n    const opts = this.options;\n    const generationOptions = {\n      min: this._userMin,\n      max: this._userMax\n    };\n    const ticks = generateTicks(generationOptions, this);\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n    if (opts.reverse) {\n      ticks.reverse();\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n    return ticks;\n  }\n  getLabelForValue(value) {\n    return value === undefined ? '0' : formatNumber(value, this.chart.options.locale);\n  }\n  configure() {\n    const start = this.min;\n    super.configure();\n    this._startValue = log10(start);\n    this._valueRange = log10(this.max) - log10(start);\n  }\n  getPixelForValue(value) {\n    if (value === undefined || value === 0) {\n      value = this.min;\n    }\n    if (value === null || isNaN(value)) {\n      return NaN;\n    }\n    return this.getPixelForDecimal(value === this.min\n      ? 0\n      : (log10(value) - this._startValue) / this._valueRange);\n  }\n  getValueForPixel(pixel) {\n    const decimal = this.getDecimalForPixel(pixel);\n    return Math.pow(10, this._startValue + decimal * this._valueRange);\n  }\n}\nLogarithmicScale.id = 'logarithmic';\nLogarithmicScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.logarithmic,\n    major: {\n      enabled: true\n    }\n  }\n};\n\nfunction getTickBackdropHeight(opts) {\n  const tickOpts = opts.ticks;\n  if (tickOpts.display && opts.display) {\n    const padding = toPadding(tickOpts.backdropPadding);\n    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n  }\n  return 0;\n}\nfunction measureLabelSize(ctx, font, label) {\n  label = isArray(label) ? label : [label];\n  return {\n    w: _longestText(ctx, font.string, label),\n    h: label.length * font.lineHeight\n  };\n}\nfunction determineLimits(angle, pos, size, min, max) {\n  if (angle === min || angle === max) {\n    return {\n      start: pos - (size / 2),\n      end: pos + (size / 2)\n    };\n  } else if (angle < min || angle > max) {\n    return {\n      start: pos - size,\n      end: pos\n    };\n  }\n  return {\n    start: pos,\n    end: pos + size\n  };\n}\nfunction fitWithPointLabels(scale) {\n  const furthestLimits = {\n    l: 0,\n    r: scale.width,\n    t: 0,\n    b: scale.height - scale.paddingTop\n  };\n  const furthestAngles = {};\n  const labelSizes = [];\n  const padding = [];\n  const valueCount = scale.getLabels().length;\n  for (let i = 0; i < valueCount; i++) {\n    const opts = scale.options.pointLabels.setContext(scale.getPointLabelContext(i));\n    padding[i] = opts.padding;\n    const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i]);\n    const plFont = toFont(opts.font);\n    const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n    labelSizes[i] = textSize;\n    const angleRadians = scale.getIndexAngle(i);\n    const angle = toDegrees(angleRadians);\n    const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n    const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n    if (hLimits.start < furthestLimits.l) {\n      furthestLimits.l = hLimits.start;\n      furthestAngles.l = angleRadians;\n    }\n    if (hLimits.end > furthestLimits.r) {\n      furthestLimits.r = hLimits.end;\n      furthestAngles.r = angleRadians;\n    }\n    if (vLimits.start < furthestLimits.t) {\n      furthestLimits.t = vLimits.start;\n      furthestAngles.t = angleRadians;\n    }\n    if (vLimits.end > furthestLimits.b) {\n      furthestLimits.b = vLimits.end;\n      furthestAngles.b = angleRadians;\n    }\n  }\n  scale._setReductions(scale.drawingArea, furthestLimits, furthestAngles);\n  scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n  const items = [];\n  const valueCount = scale.getLabels().length;\n  const opts = scale.options;\n  const tickBackdropHeight = getTickBackdropHeight(opts);\n  const outerDistance = scale.getDistanceFromCenterForValue(opts.ticks.reverse ? scale.min : scale.max);\n  for (let i = 0; i < valueCount; i++) {\n    const extra = (i === 0 ? tickBackdropHeight / 2 : 0);\n    const pointLabelPosition = scale.getPointPosition(i, outerDistance + extra + padding[i]);\n    const angle = toDegrees(scale.getIndexAngle(i));\n    const size = labelSizes[i];\n    const y = yForAngle(pointLabelPosition.y, size.h, angle);\n    const textAlign = getTextAlignForAngle(angle);\n    const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n    items.push({\n      x: pointLabelPosition.x,\n      y,\n      textAlign,\n      left,\n      top: y,\n      right: left + size.w,\n      bottom: y + size.h\n    });\n  }\n  return items;\n}\nfunction getTextAlignForAngle(angle) {\n  if (angle === 0 || angle === 180) {\n    return 'center';\n  } else if (angle < 180) {\n    return 'left';\n  }\n  return 'right';\n}\nfunction leftForTextAlign(x, w, align) {\n  if (align === 'right') {\n    x -= w;\n  } else if (align === 'center') {\n    x -= (w / 2);\n  }\n  return x;\n}\nfunction yForAngle(y, h, angle) {\n  if (angle === 90 || angle === 270) {\n    y -= (h / 2);\n  } else if (angle > 270 || angle < 90) {\n    y -= h;\n  }\n  return y;\n}\nfunction drawPointLabels(scale, labelCount) {\n  const {ctx, options: {pointLabels}} = scale;\n  for (let i = labelCount - 1; i >= 0; i--) {\n    const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n    const plFont = toFont(optsAtIndex.font);\n    const {x, y, textAlign, left, top, right, bottom} = scale._pointLabelItems[i];\n    const {backdropColor} = optsAtIndex;\n    if (!isNullOrUndef(backdropColor)) {\n      const padding = toPadding(optsAtIndex.backdropPadding);\n      ctx.fillStyle = backdropColor;\n      ctx.fillRect(left - padding.left, top - padding.top, right - left + padding.width, bottom - top + padding.height);\n    }\n    renderText(\n      ctx,\n      scale._pointLabels[i],\n      x,\n      y + (plFont.lineHeight / 2),\n      plFont,\n      {\n        color: optsAtIndex.color,\n        textAlign: textAlign,\n        textBaseline: 'middle'\n      }\n    );\n  }\n}\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n  const {ctx} = scale;\n  if (circular) {\n    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n  } else {\n    let pointPosition = scale.getPointPosition(0, radius);\n    ctx.moveTo(pointPosition.x, pointPosition.y);\n    for (let i = 1; i < labelCount; i++) {\n      pointPosition = scale.getPointPosition(i, radius);\n      ctx.lineTo(pointPosition.x, pointPosition.y);\n    }\n  }\n}\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount) {\n  const ctx = scale.ctx;\n  const circular = gridLineOpts.circular;\n  const {color, lineWidth} = gridLineOpts;\n  if ((!circular && !labelCount) || !color || !lineWidth || radius < 0) {\n    return;\n  }\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.setLineDash(gridLineOpts.borderDash);\n  ctx.lineDashOffset = gridLineOpts.borderDashOffset;\n  ctx.beginPath();\n  pathRadiusLine(scale, radius, circular, labelCount);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.restore();\n}\nfunction numberOrZero(param) {\n  return isNumber(param) ? param : 0;\n}\nfunction createPointLabelContext(parent, index, label) {\n  return createContext(parent, {\n    label,\n    index,\n    type: 'pointLabel'\n  });\n}\nclass RadialLinearScale extends LinearScaleBase {\n  constructor(cfg) {\n    super(cfg);\n    this.xCenter = undefined;\n    this.yCenter = undefined;\n    this.drawingArea = undefined;\n    this._pointLabels = [];\n    this._pointLabelItems = [];\n  }\n  setDimensions() {\n    this.width = this.maxWidth;\n    this.height = this.maxHeight;\n    this.paddingTop = getTickBackdropHeight(this.options) / 2;\n    this.xCenter = Math.floor(this.width / 2);\n    this.yCenter = Math.floor((this.height - this.paddingTop) / 2);\n    this.drawingArea = Math.min(this.height - this.paddingTop, this.width) / 2;\n  }\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(false);\n    this.min = isNumberFinite(min) && !isNaN(min) ? min : 0;\n    this.max = isNumberFinite(max) && !isNaN(max) ? max : 0;\n    this.handleTickRangeOptions();\n  }\n  computeTickLimit() {\n    return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n  }\n  generateTickLabels(ticks) {\n    LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n    this._pointLabels = this.getLabels().map((value, index) => {\n      const label = callback(this.options.pointLabels.callback, [value, index], this);\n      return label || label === 0 ? label : '';\n    });\n  }\n  fit() {\n    const opts = this.options;\n    if (opts.display && opts.pointLabels.display) {\n      fitWithPointLabels(this);\n    } else {\n      this.setCenterPoint(0, 0, 0, 0);\n    }\n  }\n  _setReductions(largestPossibleRadius, furthestLimits, furthestAngles) {\n    let radiusReductionLeft = furthestLimits.l / Math.sin(furthestAngles.l);\n    let radiusReductionRight = Math.max(furthestLimits.r - this.width, 0) / Math.sin(furthestAngles.r);\n    let radiusReductionTop = -furthestLimits.t / Math.cos(furthestAngles.t);\n    let radiusReductionBottom = -Math.max(furthestLimits.b - (this.height - this.paddingTop), 0) / Math.cos(furthestAngles.b);\n    radiusReductionLeft = numberOrZero(radiusReductionLeft);\n    radiusReductionRight = numberOrZero(radiusReductionRight);\n    radiusReductionTop = numberOrZero(radiusReductionTop);\n    radiusReductionBottom = numberOrZero(radiusReductionBottom);\n    this.drawingArea = Math.max(largestPossibleRadius / 2, Math.min(\n      Math.floor(largestPossibleRadius - (radiusReductionLeft + radiusReductionRight) / 2),\n      Math.floor(largestPossibleRadius - (radiusReductionTop + radiusReductionBottom) / 2)));\n    this.setCenterPoint(radiusReductionLeft, radiusReductionRight, radiusReductionTop, radiusReductionBottom);\n  }\n  setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n    const maxRight = this.width - rightMovement - this.drawingArea;\n    const maxLeft = leftMovement + this.drawingArea;\n    const maxTop = topMovement + this.drawingArea;\n    const maxBottom = (this.height - this.paddingTop) - bottomMovement - this.drawingArea;\n    this.xCenter = Math.floor(((maxLeft + maxRight) / 2) + this.left);\n    this.yCenter = Math.floor(((maxTop + maxBottom) / 2) + this.top + this.paddingTop);\n  }\n  getIndexAngle(index) {\n    const angleMultiplier = TAU / this.getLabels().length;\n    const startAngle = this.options.startAngle || 0;\n    return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n  }\n  getDistanceFromCenterForValue(value) {\n    if (isNullOrUndef(value)) {\n      return NaN;\n    }\n    const scalingFactor = this.drawingArea / (this.max - this.min);\n    if (this.options.reverse) {\n      return (this.max - value) * scalingFactor;\n    }\n    return (value - this.min) * scalingFactor;\n  }\n  getValueForDistanceFromCenter(distance) {\n    if (isNullOrUndef(distance)) {\n      return NaN;\n    }\n    const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n    return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n  }\n  getPointLabelContext(index) {\n    const pointLabels = this._pointLabels || [];\n    if (index >= 0 && index < pointLabels.length) {\n      const pointLabel = pointLabels[index];\n      return createPointLabelContext(this.getContext(), index, pointLabel);\n    }\n  }\n  getPointPosition(index, distanceFromCenter) {\n    const angle = this.getIndexAngle(index) - HALF_PI;\n    return {\n      x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n      y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n      angle\n    };\n  }\n  getPointPositionForValue(index, value) {\n    return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n  }\n  getBasePosition(index) {\n    return this.getPointPositionForValue(index || 0, this.getBaseValue());\n  }\n  getPointLabelPosition(index) {\n    const {left, top, right, bottom} = this._pointLabelItems[index];\n    return {\n      left,\n      top,\n      right,\n      bottom,\n    };\n  }\n  drawBackground() {\n    const {backgroundColor, grid: {circular}} = this.options;\n    if (backgroundColor) {\n      const ctx = this.ctx;\n      ctx.save();\n      ctx.beginPath();\n      pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this.getLabels().length);\n      ctx.closePath();\n      ctx.fillStyle = backgroundColor;\n      ctx.fill();\n      ctx.restore();\n    }\n  }\n  drawGrid() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const {angleLines, grid} = opts;\n    const labelCount = this.getLabels().length;\n    let i, offset, position;\n    if (opts.pointLabels.display) {\n      drawPointLabels(this, labelCount);\n    }\n    if (grid.display) {\n      this.ticks.forEach((tick, index) => {\n        if (index !== 0) {\n          offset = this.getDistanceFromCenterForValue(tick.value);\n          const optsAtIndex = grid.setContext(this.getContext(index - 1));\n          drawRadiusLine(this, optsAtIndex, offset, labelCount);\n        }\n      });\n    }\n    if (angleLines.display) {\n      ctx.save();\n      for (i = this.getLabels().length - 1; i >= 0; i--) {\n        const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n        const {color, lineWidth} = optsAtIndex;\n        if (!lineWidth || !color) {\n          continue;\n        }\n        ctx.lineWidth = lineWidth;\n        ctx.strokeStyle = color;\n        ctx.setLineDash(optsAtIndex.borderDash);\n        ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n        offset = this.getDistanceFromCenterForValue(opts.ticks.reverse ? this.min : this.max);\n        position = this.getPointPosition(i, offset);\n        ctx.beginPath();\n        ctx.moveTo(this.xCenter, this.yCenter);\n        ctx.lineTo(position.x, position.y);\n        ctx.stroke();\n      }\n      ctx.restore();\n    }\n  }\n  drawBorder() {}\n  drawLabels() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n    if (!tickOpts.display) {\n      return;\n    }\n    const startAngle = this.getIndexAngle(0);\n    let offset, width;\n    ctx.save();\n    ctx.translate(this.xCenter, this.yCenter);\n    ctx.rotate(startAngle);\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    this.ticks.forEach((tick, index) => {\n      if (index === 0 && !opts.reverse) {\n        return;\n      }\n      const optsAtIndex = tickOpts.setContext(this.getContext(index));\n      const tickFont = toFont(optsAtIndex.font);\n      offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n      if (optsAtIndex.showLabelBackdrop) {\n        ctx.font = tickFont.string;\n        width = ctx.measureText(tick.label).width;\n        ctx.fillStyle = optsAtIndex.backdropColor;\n        const padding = toPadding(optsAtIndex.backdropPadding);\n        ctx.fillRect(\n          -width / 2 - padding.left,\n          -offset - tickFont.size / 2 - padding.top,\n          width + padding.width,\n          tickFont.size + padding.height\n        );\n      }\n      renderText(ctx, tick.label, 0, -offset, tickFont, {\n        color: optsAtIndex.color,\n      });\n    });\n    ctx.restore();\n  }\n  drawTitle() {}\n}\nRadialLinearScale.id = 'radialLinear';\nRadialLinearScale.defaults = {\n  display: true,\n  animate: true,\n  position: 'chartArea',\n  angleLines: {\n    display: true,\n    lineWidth: 1,\n    borderDash: [],\n    borderDashOffset: 0.0\n  },\n  grid: {\n    circular: false\n  },\n  startAngle: 0,\n  ticks: {\n    showLabelBackdrop: true,\n    callback: Ticks.formatters.numeric\n  },\n  pointLabels: {\n    backdropColor: undefined,\n    backdropPadding: 2,\n    display: true,\n    font: {\n      size: 10\n    },\n    callback(label) {\n      return label;\n    },\n    padding: 5\n  }\n};\nRadialLinearScale.defaultRoutes = {\n  'angleLines.color': 'borderColor',\n  'pointLabels.color': 'color',\n  'ticks.color': 'color'\n};\nRadialLinearScale.descriptors = {\n  angleLines: {\n    _fallback: 'grid'\n  }\n};\n\nconst INTERVALS = {\n  millisecond: {common: true, size: 1, steps: 1000},\n  second: {common: true, size: 1000, steps: 60},\n  minute: {common: true, size: 60000, steps: 60},\n  hour: {common: true, size: 3600000, steps: 24},\n  day: {common: true, size: 86400000, steps: 30},\n  week: {common: false, size: 604800000, steps: 4},\n  month: {common: true, size: 2.628e9, steps: 12},\n  quarter: {common: false, size: 7.884e9, steps: 4},\n  year: {common: true, size: 3.154e10}\n};\nconst UNITS = (Object.keys(INTERVALS));\nfunction sorter(a, b) {\n  return a - b;\n}\nfunction parse(scale, input) {\n  if (isNullOrUndef(input)) {\n    return null;\n  }\n  const adapter = scale._adapter;\n  const {parser, round, isoWeekday} = scale._parseOpts;\n  let value = input;\n  if (typeof parser === 'function') {\n    value = parser(value);\n  }\n  if (!isNumberFinite(value)) {\n    value = typeof parser === 'string'\n      ? adapter.parse(value, parser)\n      : adapter.parse(value);\n  }\n  if (value === null) {\n    return null;\n  }\n  if (round) {\n    value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true)\n      ? adapter.startOf(value, 'isoWeek', isoWeekday)\n      : adapter.startOf(value, round);\n  }\n  return +value;\n}\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n  const ilen = UNITS.length;\n  for (let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n    const interval = INTERVALS[UNITS[i]];\n    const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n      return UNITS[i];\n    }\n  }\n  return UNITS[ilen - 1];\n}\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n  for (let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\n    const unit = UNITS[i];\n    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n      return unit;\n    }\n  }\n  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\nfunction determineMajorUnit(unit) {\n  for (let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n    if (INTERVALS[UNITS[i]].common) {\n      return UNITS[i];\n    }\n  }\n}\nfunction addTick(ticks, time, timestamps) {\n  if (!timestamps) {\n    ticks[time] = true;\n  } else if (timestamps.length) {\n    const {lo, hi} = _lookup(timestamps, time);\n    const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n    ticks[timestamp] = true;\n  }\n}\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\n  const adapter = scale._adapter;\n  const first = +adapter.startOf(ticks[0].value, majorUnit);\n  const last = ticks[ticks.length - 1].value;\n  let major, index;\n  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\n    index = map[major];\n    if (index >= 0) {\n      ticks[index].major = true;\n    }\n  }\n  return ticks;\n}\nfunction ticksFromTimestamps(scale, values, majorUnit) {\n  const ticks = [];\n  const map = {};\n  const ilen = values.length;\n  let i, value;\n  for (i = 0; i < ilen; ++i) {\n    value = values[i];\n    map[value] = i;\n    ticks.push({\n      value,\n      major: false\n    });\n  }\n  return (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\nclass TimeScale extends Scale {\n  constructor(props) {\n    super(props);\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n    this._unit = 'day';\n    this._majorUnit = undefined;\n    this._offsets = {};\n    this._normalized = false;\n    this._parseOpts = undefined;\n  }\n  init(scaleOpts, opts) {\n    const time = scaleOpts.time || (scaleOpts.time = {});\n    const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n    mergeIf(time.displayFormats, adapter.formats());\n    this._parseOpts = {\n      parser: time.parser,\n      round: time.round,\n      isoWeekday: time.isoWeekday\n    };\n    super.init(scaleOpts);\n    this._normalized = opts.normalized;\n  }\n  parse(raw, index) {\n    if (raw === undefined) {\n      return null;\n    }\n    return parse(this, raw);\n  }\n  beforeLayout() {\n    super.beforeLayout();\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n  }\n  determineDataLimits() {\n    const options = this.options;\n    const adapter = this._adapter;\n    const unit = options.time.unit || 'day';\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    function _applyBounds(bounds) {\n      if (!minDefined && !isNaN(bounds.min)) {\n        min = Math.min(min, bounds.min);\n      }\n      if (!maxDefined && !isNaN(bounds.max)) {\n        max = Math.max(max, bounds.max);\n      }\n    }\n    if (!minDefined || !maxDefined) {\n      _applyBounds(this._getLabelBounds());\n      if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n        _applyBounds(this.getMinMax(false));\n      }\n    }\n    min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n    max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n    this.min = Math.min(min, max - 1);\n    this.max = Math.max(min + 1, max);\n  }\n  _getLabelBounds() {\n    const arr = this.getLabelTimestamps();\n    let min = Number.POSITIVE_INFINITY;\n    let max = Number.NEGATIVE_INFINITY;\n    if (arr.length) {\n      min = arr[0];\n      max = arr[arr.length - 1];\n    }\n    return {min, max};\n  }\n  buildTicks() {\n    const options = this.options;\n    const timeOpts = options.time;\n    const tickOpts = options.ticks;\n    const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n    if (options.bounds === 'ticks' && timestamps.length) {\n      this.min = this._userMin || timestamps[0];\n      this.max = this._userMax || timestamps[timestamps.length - 1];\n    }\n    const min = this.min;\n    const max = this.max;\n    const ticks = _filterBetween(timestamps, min, max);\n    this._unit = timeOpts.unit || (tickOpts.autoSkip\n      ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min))\n      : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n    this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined\n      : determineMajorUnit(this._unit);\n    this.initOffsets(timestamps);\n    if (options.reverse) {\n      ticks.reverse();\n    }\n    return ticksFromTimestamps(this, ticks, this._majorUnit);\n  }\n  initOffsets(timestamps) {\n    let start = 0;\n    let end = 0;\n    let first, last;\n    if (this.options.offset && timestamps.length) {\n      first = this.getDecimalForValue(timestamps[0]);\n      if (timestamps.length === 1) {\n        start = 1 - first;\n      } else {\n        start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n      }\n      last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n      if (timestamps.length === 1) {\n        end = last;\n      } else {\n        end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n      }\n    }\n    const limit = timestamps.length < 3 ? 0.5 : 0.25;\n    start = _limitValue(start, 0, limit);\n    end = _limitValue(end, 0, limit);\n    this._offsets = {start, end, factor: 1 / (start + 1 + end)};\n  }\n  _generate() {\n    const adapter = this._adapter;\n    const min = this.min;\n    const max = this.max;\n    const options = this.options;\n    const timeOpts = options.time;\n    const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n    const stepSize = valueOrDefault(timeOpts.stepSize, 1);\n    const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n    const hasWeekday = isNumber(weekday) || weekday === true;\n    const ticks = {};\n    let first = min;\n    let time, count;\n    if (hasWeekday) {\n      first = +adapter.startOf(first, 'isoWeek', weekday);\n    }\n    first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n    if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n      throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n    }\n    const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n    for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {\n      addTick(ticks, time, timestamps);\n    }\n    if (time === max || options.bounds === 'ticks' || count === 1) {\n      addTick(ticks, time, timestamps);\n    }\n    return Object.keys(ticks).sort((a, b) => a - b).map(x => +x);\n  }\n  getLabelForValue(value) {\n    const adapter = this._adapter;\n    const timeOpts = this.options.time;\n    if (timeOpts.tooltipFormat) {\n      return adapter.format(value, timeOpts.tooltipFormat);\n    }\n    return adapter.format(value, timeOpts.displayFormats.datetime);\n  }\n  _tickFormatFunction(time, index, ticks, format) {\n    const options = this.options;\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const majorUnit = this._majorUnit;\n    const minorFormat = unit && formats[unit];\n    const majorFormat = majorUnit && formats[majorUnit];\n    const tick = ticks[index];\n    const major = majorUnit && majorFormat && tick && tick.major;\n    const label = this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n    const formatter = options.ticks.callback;\n    return formatter ? callback(formatter, [label, index, ticks], this) : label;\n  }\n  generateTickLabels(ticks) {\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      tick.label = this._tickFormatFunction(tick.value, i, ticks);\n    }\n  }\n  getDecimalForValue(value) {\n    return value === null ? NaN : (value - this.min) / (this.max - this.min);\n  }\n  getPixelForValue(value) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForValue(value);\n    return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n  }\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return this.min + pos * (this.max - this.min);\n  }\n  _getLabelSize(label) {\n    const ticksOpts = this.options.ticks;\n    const tickLabelWidth = this.ctx.measureText(label).width;\n    const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n    const cosRotation = Math.cos(angle);\n    const sinRotation = Math.sin(angle);\n    const tickFontSize = this._resolveTickFontOptions(0).size;\n    return {\n      w: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),\n      h: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)\n    };\n  }\n  _getLabelCapacity(exampleTime) {\n    const timeOpts = this.options.time;\n    const displayFormats = timeOpts.displayFormats;\n    const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n    const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [exampleTime], this._majorUnit), format);\n    const size = this._getLabelSize(exampleLabel);\n    const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n    return capacity > 0 ? capacity : 1;\n  }\n  getDataTimestamps() {\n    let timestamps = this._cache.data || [];\n    let i, ilen;\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const metas = this.getMatchingVisibleMetas();\n    if (this._normalized && metas.length) {\n      return (this._cache.data = metas[0].controller.getAllParsedValues(this));\n    }\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n    }\n    return (this._cache.data = this.normalize(timestamps));\n  }\n  getLabelTimestamps() {\n    const timestamps = this._cache.labels || [];\n    let i, ilen;\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const labels = this.getLabels();\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      timestamps.push(parse(this, labels[i]));\n    }\n    return (this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps));\n  }\n  normalize(values) {\n    return _arrayUnique(values.sort(sorter));\n  }\n}\nTimeScale.id = 'time';\nTimeScale.defaults = {\n  bounds: 'data',\n  adapters: {},\n  time: {\n    parser: false,\n    unit: false,\n    round: false,\n    isoWeekday: false,\n    minUnit: 'millisecond',\n    displayFormats: {}\n  },\n  ticks: {\n    source: 'auto',\n    major: {\n      enabled: false\n    }\n  }\n};\n\nfunction interpolate(table, val, reverse) {\n  let lo = 0;\n  let hi = table.length - 1;\n  let prevSource, nextSource, prevTarget, nextTarget;\n  if (reverse) {\n    if (val >= table[lo].pos && val <= table[hi].pos) {\n      ({lo, hi} = _lookupByKey(table, 'pos', val));\n    }\n    ({pos: prevSource, time: prevTarget} = table[lo]);\n    ({pos: nextSource, time: nextTarget} = table[hi]);\n  } else {\n    if (val >= table[lo].time && val <= table[hi].time) {\n      ({lo, hi} = _lookupByKey(table, 'time', val));\n    }\n    ({time: prevSource, pos: prevTarget} = table[lo]);\n    ({time: nextSource, pos: nextTarget} = table[hi]);\n  }\n  const span = nextSource - prevSource;\n  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\nclass TimeSeriesScale extends TimeScale {\n  constructor(props) {\n    super(props);\n    this._table = [];\n    this._minPos = undefined;\n    this._tableRange = undefined;\n  }\n  initOffsets() {\n    const timestamps = this._getTimestampsForTable();\n    const table = this._table = this.buildLookupTable(timestamps);\n    this._minPos = interpolate(table, this.min);\n    this._tableRange = interpolate(table, this.max) - this._minPos;\n    super.initOffsets(timestamps);\n  }\n  buildLookupTable(timestamps) {\n    const {min, max} = this;\n    const items = [];\n    const table = [];\n    let i, ilen, prev, curr, next;\n    for (i = 0, ilen = timestamps.length; i < ilen; ++i) {\n      curr = timestamps[i];\n      if (curr >= min && curr <= max) {\n        items.push(curr);\n      }\n    }\n    if (items.length < 2) {\n      return [\n        {time: min, pos: 0},\n        {time: max, pos: 1}\n      ];\n    }\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      next = items[i + 1];\n      prev = items[i - 1];\n      curr = items[i];\n      if (Math.round((next + prev) / 2) !== curr) {\n        table.push({time: curr, pos: i / (ilen - 1)});\n      }\n    }\n    return table;\n  }\n  _getTimestampsForTable() {\n    let timestamps = this._cache.all || [];\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const data = this.getDataTimestamps();\n    const label = this.getLabelTimestamps();\n    if (data.length && label.length) {\n      timestamps = this.normalize(data.concat(label));\n    } else {\n      timestamps = data.length ? data : label;\n    }\n    timestamps = this._cache.all = timestamps;\n    return timestamps;\n  }\n  getDecimalForValue(value) {\n    return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n  }\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n  }\n}\nTimeSeriesScale.id = 'timeseries';\nTimeSeriesScale.defaults = TimeScale.defaults;\n\nvar scales = /*#__PURE__*/Object.freeze({\n__proto__: null,\nCategoryScale: CategoryScale,\nLinearScale: LinearScale,\nLogarithmicScale: LogarithmicScale,\nRadialLinearScale: RadialLinearScale,\nTimeScale: TimeScale,\nTimeSeriesScale: TimeSeriesScale\n});\n\nconst registerables = [\n  controllers,\n  elements,\n  plugins,\n  scales,\n];\n\nexport { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, plugin_filler as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, plugin_subtitle as SubTitle, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, _detectPlatform, animator, controllers, elements, layouts, plugins, registerables, registry, scales };\n","import {Chart, registerables} from '../dist/chart.esm';\n\nChart.register(...registerables);\n\nexport default Chart;\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","import defineProperty from './_define_property';\n\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from './_object_without_properties_loose';\n\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n","import arrayWithHoles from './_array_with_holes';\nimport iterableToArrayLimit from './_iterable_to_array';\nimport nonIterableRest from './_non_iterable_rest';\n\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n","import type { ForwardedRef } from 'react';\nimport type {\n  ChartType,\n  ChartData,\n  DefaultDataPoint,\n  ChartDataset,\n  ChartOptions,\n  Chart,\n} from 'chart.js';\n\nexport function reforwardRef<T>(ref: ForwardedRef<T>, value: T) {\n  if (typeof ref === 'function') {\n    ref(value);\n  } else if (ref) {\n    ref.current = value;\n  }\n}\n\nexport function setOptions<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown\n>(chart: Chart<TType, TData, TLabel>, nextOptions: ChartOptions<TType>) {\n  chart.options = { ...nextOptions };\n}\n\nexport function setLabels<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown\n>(\n  currentData: ChartData<TType, TData, TLabel>,\n  nextLabels: TLabel[] | undefined\n) {\n  currentData.labels = nextLabels;\n}\n\nexport function setDatasets<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown\n>(\n  currentData: ChartData<TType, TData, TLabel>,\n  nextDatasets: ChartDataset<TType, TData>[]\n) {\n  currentData.datasets = nextDatasets.map(nextDataset => {\n    // given the new set, find it's current match\n    const currentDataset = currentData.datasets.find(\n      dataset =>\n        dataset.label === nextDataset.label && dataset.type === nextDataset.type\n    );\n\n    // There is no original to update, so simply add new one\n    if (!currentDataset || !nextDataset.data) return { ...nextDataset };\n\n    Object.assign(currentDataset, nextDataset);\n\n    return currentDataset;\n  });\n}\n\nexport function cloneData<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown\n>(data: ChartData<TType, TData, TLabel>) {\n  const nextData: ChartData<TType, TData, TLabel> = {\n    labels: [],\n    datasets: [],\n  };\n\n  setLabels(nextData, data.labels);\n  setDatasets(nextData, data.datasets);\n\n  return nextData;\n}\n","import React, { useEffect, useRef, useState, forwardRef } from 'react';\nimport type { ForwardedRef, MouseEvent } from 'react';\nimport ChartJS from 'chart.js/auto';\nimport type { ChartData, ChartType, DefaultDataPoint } from 'chart.js';\n\nimport type { ChartProps, TypedChartComponent } from './types';\nimport {\n  reforwardRef,\n  cloneData,\n  setOptions,\n  setLabels,\n  setDatasets,\n} from './utils';\n\nconst noopData = {\n  datasets: [],\n};\n\nfunction ChartComponent<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown\n>(\n  {\n    height = 150,\n    width = 300,\n    redraw = false,\n    type,\n    data: dataProp,\n    options,\n    plugins = [],\n    getDatasetAtEvent,\n    getElementAtEvent,\n    getElementsAtEvent,\n    fallbackContent,\n    onClick: onClickProp,\n    ...props\n  }: ChartProps<TType, TData, TLabel>,\n  ref: ForwardedRef<ChartJS<TType, TData, TLabel>>\n) {\n  type TypedChartJS = ChartJS<TType, TData, TLabel>;\n  type TypedChartData = ChartData<TType, TData, TLabel>;\n\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const chartRef = useRef<TypedChartJS | null>();\n  /**\n   * In case `dataProp` is function use internal state\n   */\n  const [computedData, setComputedData] = useState<TypedChartData>();\n  const data: TypedChartData =\n    computedData || (typeof dataProp === 'function' ? noopData : dataProp);\n\n  const renderChart = () => {\n    if (!canvasRef.current) return;\n\n    chartRef.current = new ChartJS(canvasRef.current, {\n      type,\n      data: cloneData(data),\n      options,\n      plugins,\n    });\n\n    reforwardRef(ref, chartRef.current);\n  };\n\n  const destroyChart = () => {\n    reforwardRef(ref, null);\n\n    if (chartRef.current) {\n      chartRef.current.destroy();\n      chartRef.current = null;\n    }\n  };\n\n  const onClick = (event: MouseEvent<HTMLCanvasElement>) => {\n    if (onClickProp) {\n      onClickProp(event);\n    }\n\n    const { current: chart } = chartRef;\n\n    if (!chart) return;\n\n    getDatasetAtEvent &&\n      getDatasetAtEvent(\n        chart.getElementsAtEventForMode(\n          event.nativeEvent,\n          'dataset',\n          { intersect: true },\n          false\n        ),\n        event\n      );\n    getElementAtEvent &&\n      getElementAtEvent(\n        chart.getElementsAtEventForMode(\n          event.nativeEvent,\n          'nearest',\n          { intersect: true },\n          false\n        ),\n        event\n      );\n    getElementsAtEvent &&\n      getElementsAtEvent(\n        chart.getElementsAtEventForMode(\n          event.nativeEvent,\n          'index',\n          { intersect: true },\n          false\n        ),\n        event\n      );\n  };\n\n  /**\n   * In case `dataProp` is function,\n   * then update internal state\n   */\n  useEffect(() => {\n    if (typeof dataProp === 'function' && canvasRef.current) {\n      setComputedData(dataProp(canvasRef.current));\n    }\n  }, [dataProp]);\n\n  useEffect(() => {\n    if (!redraw && chartRef.current && options) {\n      setOptions(chartRef.current, options);\n    }\n  }, [redraw, options]);\n\n  useEffect(() => {\n    if (!redraw && chartRef.current) {\n      setLabels(chartRef.current.config.data, data.labels);\n    }\n  }, [redraw, data.labels]);\n\n  useEffect(() => {\n    if (!redraw && chartRef.current && data.datasets) {\n      setDatasets(chartRef.current.config.data, data.datasets);\n    }\n  }, [redraw, data.datasets]);\n\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    if (redraw) {\n      destroyChart();\n      setTimeout(renderChart);\n    } else {\n      chartRef.current.update();\n    }\n  }, [redraw, options, data.labels, data.datasets]);\n\n  useEffect(() => {\n    renderChart();\n\n    return () => destroyChart();\n  }, []);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      role='img'\n      height={height}\n      width={width}\n      onClick={onClick}\n      {...props}\n    >\n      {fallbackContent}\n    </canvas>\n  );\n}\n\nexport const Chart = forwardRef(ChartComponent) as TypedChartComponent;\n","import React, { forwardRef } from 'react';\nimport { ChartType } from 'chart.js';\n\nimport { ChartProps, ChartJSOrUndefined, TypedChartComponent } from './types';\nimport { Chart } from './chart';\n\nfunction createTypedChart<T extends ChartType>(type: T) {\n  return forwardRef<ChartJSOrUndefined<T>, Omit<ChartProps<T>, 'type'>>(\n    (props, ref) => <Chart {...props} ref={ref} type={type} />\n  ) as TypedChartComponent<T, true>;\n}\n\nexport const Line = createTypedChart('line');\n\nexport const Bar = createTypedChart('bar');\n\nexport const Radar = createTypedChart('radar');\n\nexport const Doughnut = createTypedChart('doughnut');\n\nexport const PolarArea = createTypedChart('polarArea');\n\nexport const Bubble = createTypedChart('bubble');\n\nexport const Pie = createTypedChart('pie');\n\nexport const Scatter = createTypedChart('scatter');\n"],"sourceRoot":""}